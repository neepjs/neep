/*!
 * NeepWebRender v0.1.0-alpha.12
 * (c) 2019-2020 Fierflame
 * @license MIT
 */
let e,t,n;function o(t,n,o){const r="string"==typeof(s=e(t.id)?t.id():t.id)?s:"number"==typeof s?String(s):void 0;var s;return r!==o&&("string"==typeof r?n.id=t.id:n.removeAttribute("id")),r}function r(t){const n=new Set;for(const o of function*t(n){if(e(n))yield*t(n());else if(Array.isArray(n))for(const e of n)yield*t(e);else yield n}(t))if(o)if("string"==typeof o)for(let e of o.split(" ").filter(Boolean))n.add(e);else if("object"==typeof o)for(const e in o){const t=o[e];for(let o of e.split(" ").filter(Boolean))n[t?"add":"delete"](o)}if(n.size)return n}function s(t,n,o){const s=r(e(t.class)?t.class():t.class);return function(e,t,n){if(t&&n){const o=e.getAttribute("class")||"",r=new Set(o.split(" ").filter(Boolean));n.forEach(e=>r.delete(e)),t.forEach(e=>r.add(e)),e.setAttribute("class",[...r].join(" "))}else t?e.setAttribute("class",[...t].join(" ")):n&&e.removeAttribute("class")}(n,s,o),s}function i(t,n,o,r){if(!r)return;const s=function(e){if("string"==typeof e)return e;if(!e)return;if("object"!=typeof e)return;const t=Object.create(null);for(let n in e){let o=e[n];const r="--"===n.substr(0,2)?n:n.replace(/[A-Z]/g,"-$1").replace(/-+/g,"-").toLowerCase();if("number"==typeof o)t[r]=[0===o?"0":`${o}px`,null];else if(o&&"string"==typeof o){const e=o.replace(/!important\s*$/,"");t[r]=[e,e===o?null:"important"]}}return t}(e(t.style)?t.style():t.style);return function(e,t,n){if(t)if("string"!=typeof t)if(n&&"string"!=typeof n){for(const o of Object.keys(t)){const r=t[o];n[o]&&n[o][0]===r[0]&&n[o][1]===r[1]||e.setProperty(o,...r)}for(const o of Object.keys(n))t[o]||e.removeProperty(o)}else{"string"==typeof n&&(e.cssText="");for(const n of Object.keys(t))e.setProperty(n,...t[n])}else t!==typeof n&&(e.cssText=t);else{if(!n)return;if("string"==typeof n)return void(e.cssText="");for(const t of Object.keys(n))e.removeProperty(t)}}(n,s,o),s}function c(e,t=!1){return null==e?e:t&&"function"==typeof e?void 0:"boolean"==typeof e?e?"":null:"object"!=typeof e?String(e):e instanceof Date?e.toISOString():e instanceof RegExp?e.toString():JSON.stringify(e)}function a(t,n,o,r){const s=function(t,n){const o=Object.create(null);for(const r in t){if(/^(n|on|bind|slot)[:-]/.test(r))continue;if(!/^[a-zA-Z:_][a-zA-Z0-9:_-]*$/.test(r))continue;const s=r.toLowerCase();switch(s){case"style":if(!n)break;case"ref":case"is":case"id":case"class":continue}let i=t[r];e(i)&&(i=i());const a=c(i,"on"===s.substr(0,2));void 0!==a&&(o[s]=a)}return o}(t,r);return function(e,t,n){for(const o of Object.keys(t)){const r=t[o];o in n&&n[o]===r||(null===r?e.removeAttribute(o):e.setAttribute(o,r))}for(const o of Object.keys(n))o in t||e.removeAttribute(o)}(n,s,o),function(e,t){if(e instanceof HTMLInputElement&&"checked"in t)switch(e.type.toLowerCase()){case"checkbox":case"radio":null!==t.checked!==e.checked&&(e.checked=null!==t.checked)}if((e instanceof HTMLSelectElement||e instanceof HTMLInputElement)&&"value"in t){const n=t.value||"";e.value!==n&&(e.value=n)}}(n,s),s}function l(e){if("on"!==e.substr(0,2))return"";let t=e.substr(2);return":"===t[0]||"-"===t[0]?"":t}function f(n,o,r=function(){const e=new t;return e.__eventBind=Object.create(null),e}()){r.updateInProps(n,t=>{for(const e in n){const o=n[e];if("function"!=typeof o)continue;const r=l(e);r&&t(r,o)}for(const[r,s,i]of function*(e){if(e instanceof HTMLInputElement){switch(e.type.toLowerCase()){case"checkbox":case"radio":return yield["checked","change",e=>e.currentTarget.checked]}return yield["value","input",e=>e.currentTarget.value]}if(e instanceof HTMLSelectElement)return yield["value","select",e=>e.currentTarget.value]}(o)){const o=n[r];e(o)&&t(s,e=>o(i(e)))}});const s=new Set(r.names.map(String)),i=r.__eventBind;for(const e of Object.keys(i))s.has(e)||(i[e](),delete i[e]);const{emit:c}=r;for(const e of s){if(e in i)continue;const t=(...t)=>c(e,...t);o.addEventListener(e,t),i[e]=()=>{o.removeEventListener(e,t)}}return r}const u=new WeakMap;function d(e,t){const n=e.style,r=n instanceof CSSStyleDeclaration,c=u.get(e)||{attrs:{}},l=o(t,e,c.id),d=s(t,e,c.classes),m=i(t,n,c.style,r),p=a(t,e,c.attrs,r),h=f(t,e,c.event);return u.set(e,{id:l,classes:d,style:m,attrs:p,event:h}),e}let m;const p={svg:"http://www.w3.org/2000/svg",html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML"},h=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"]),g=new Set(["maction","math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","semantics"]);function y(e,t){const n=/^([a-z][a-z0-9-]*):([a-z0-9-]+)$/i.exec(e),o=n?n[2]:e,r=(t||(null==n?void 0:n[1])||h.has(o.toLowerCase())&&"svg"||g.has(o.toLowerCase())&&"mathml"||"").toLowerCase();return r?document.createElementNS(r in p&&p[r]||r,o):document.createElement(o)}const b=/^[a-z][a-z0-9]*(?:-[a-z0-9]+)?(?::[a-z0-9]+(?:-[a-z0-9]+)?)?$/i;const v={type:"web",nextFrame:function(e){m?m.push(e):(m=[e],window.requestAnimationFrame(()=>{const e=m;m=void 0,e&&e.forEach(e=>e())}))},isNode:e=>e instanceof Node,mount({target:e,class:t,style:n,tag:o},r){(function(e){return"string"==typeof e&&b.test(e)})(o)||(o="div");const s=v.createElement(o,{class:t,style:n});return"string"==typeof e&&(e=document.querySelector(e)),e instanceof Element?(e.appendChild(s),r?[s,r.createPlaceholder()]:[s,s]):r!==v?(document.body.appendChild(s),[s,s]):[s,s]},unmount(e,t,n){e===t&&n||e.remove()},drawContainer(e,t,{target:n,class:o,style:r,tag:s},i){v.updateProps(e,{class:o,style:r}),"string"==typeof n&&(n=document.querySelector(n)),i===v||n instanceof Element||(n=document.body);const c=i===v&&e===t?void 0:v.getParent(t);if(c===n)return[e,t];if(i!==v)return n.appendChild(e),[e,t];if(!c){const n=i.createPlaceholder(),o=i.getParent(t);return o&&(v.insertNode(o,n,t),v.removeNode(t)),[e,n]}if(!n){const n=i.getParent(t);return n&&(v.insertNode(n,e,t),v.removeNode(t)),[e,e]}return n.appendChild(t),[e,t]},drawNode(){},createElement:(e,t)=>d(y(e),t),createText:e=>document.createTextNode(e),createPlaceholder:()=>document.createComment(""),createComponent(){const e=y("neep-component");return[e,e.attachShadow({mode:"open"})]},getParent:e=>e.parentNode,nextNode:e=>e.nextSibling,updateProps(e,t){d(e,t)},insertNode(e,t,n=null){e.insertBefore(t,n)},removeNode(e){const t=v.getParent(e);t&&t.removeChild(e)},getRect(e){if(e instanceof Element){const{top:t,right:n,bottom:o,left:r,width:s,height:i}=e.getBoundingClientRect();return{top:t,right:n,bottom:o,left:r,width:s,height:i}}if(e instanceof ShadowRoot){const{top:t,right:n,bottom:o,left:r,width:s,height:i}=e.host.getBoundingClientRect();return{top:t,right:n,bottom:o,left:r,width:s,height:i}}return null}};var w={...v,install:function(o){!function(o){return({isValue:e,EventEmitter:t,Error:n}=o),o.install}(o)({render:v})}};export default w;
