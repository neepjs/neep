{"version":3,"file":"index.js","sources":["../../packages/renderer-html/src/renderer/createElement.ts","../../packages/renderer-html/src/renderer/createComponent.ts","../../packages/renderer-html/src/renderer/createPlaceholder.ts","../../packages/renderer-html/src/renderer/createText.ts","../../packages/renderer-html/src/renderer/getParent.ts","../../packages/renderer-html/src/renderer/insertNode.ts","../../packages/core/src/constant/info.ts","../../packages/core/src/install/devtools.ts","../../packages/core/src/Error.ts","../../packages/core/src/install/renderer.ts","../../node_modules/monitorable/dist/monitorable.esm.js","../../packages/core/src/install/monitorable.ts","../../packages/core/src/install/index.ts","../../packages/core/src/extends/use.ts","../../packages/core/src/extends/current.ts","../../packages/core/src/extends/hook.ts","../../packages/core/src/auxiliary/life/withWatch.ts","../../packages/core/src/auxiliary/life/withHook.ts","../../packages/core/src/constant/symbols.ts","../../packages/core/src/is.ts","../../packages/core/src/auxiliary/life/withDelivered.ts","../../packages/core/src/auxiliary/life/withRefresh.ts","../../packages/core/src/auxiliary/life/withParent.ts","../../packages/core/src/auxiliary/life/withChildren.ts","../../packages/core/src/auxiliary/life/withCallback.ts","../../packages/core/src/auxiliary/element/createElementBase.ts","../../packages/core/src/constant/tags.ts","../../packages/core/src/auxiliary/element/createTemplateElement.ts","../../packages/core/src/auxiliary/element/isElement.ts","../../packages/core/src/auxiliary/element/equal.ts","../../packages/core/src/auxiliary/element/isRenderElement.ts","../../packages/core/src/auxiliary/dev/withLabel.ts","../../packages/core/src/entity/id/index.ts","../../packages/core/src/entity/convert/toElement.ts","../../packages/core/src/entity/draw/create/drawPlaceholder.ts","../../packages/core/src/entity/draw/create/createItem.ts","../../packages/core/src/entity/draw/create/createList.ts","../../packages/core/src/entity/draw/create/createAll.ts","../../packages/core/src/entity/draw/unmount.ts","../../packages/core/src/entity/draw/update/getNodes.ts","../../packages/core/src/entity/draw/update/getFirstNode.ts","../../packages/core/src/entity/draw/update/drawReplace.ts","../../packages/core/src/entity/draw/update/getLastNode.ts","../../packages/core/src/entity/draw/update/updateItem.ts","../../packages/core/src/entity/draw/update/updateList.ts","../../packages/core/src/entity/draw/update/updateAll.ts","../../packages/core/src/entity/draw/index.ts","../../packages/core/src/entity/proxy/BaseProxy.ts","../../packages/core/src/entity/proxy/NodeProxy.ts","../../packages/core/src/extends/delayRefresh.ts","../../packages/core/src/extends/with.ts","../../packages/core/src/entity/slot.ts","../../packages/core/src/EventEmitter.ts","../../packages/core/src/entity/normalize/createSimpleEmit.ts","../../packages/core/src/entity/normalize/getComponents.ts","../../packages/core/src/entity/normalize/getNodeArray.ts","../../packages/core/src/register.ts","../../packages/core/src/entity/normalize/findComponent.ts","../../packages/core/src/entity/normalize/getChildren.ts","../../packages/core/src/entity/normalize/createSimpleSlots.ts","../../packages/core/src/entity/normalize/index.ts","../../packages/core/src/entity/proxy/ValueProxy.ts","../../packages/core/src/entity/proxy/DeliverProxy.ts","../../packages/core/src/entity/proxy/GroupProxy.ts","../../packages/core/src/entity/proxy/RefProxy.ts","../../packages/core/src/entity/proxy/ElementProxy.ts","../../packages/core/src/entity/proxy/CustomComponentProxy.ts","../../packages/core/src/entity/proxy/ShellProxy.ts","../../packages/core/src/entity/proxy/SlotProxy.ts","../../packages/core/src/entity/proxy/ComponentProxy.ts","../../packages/core/src/entity/proxy/RenderComponentProxy.ts","../../packages/core/src/entity/proxy/StandardComponentProxy.ts","../../packages/core/src/extends/recognizer.ts","../../packages/core/src/entity/convert/create/createProxy.ts","../../packages/core/src/entity/convert/create/createItem.ts","../../packages/core/src/entity/convert/create/createAll.ts","../../packages/core/src/entity/convert/destroy.ts","../../packages/core/src/entity/convert/update/updateItem.ts","../../packages/core/src/entity/convert/update/recursive2iterable.ts","../../packages/core/src/entity/convert/update/updateList.ts","../../packages/core/src/entity/convert/update/updateAll.ts","../../packages/core/src/entity/convert/index.ts","../../packages/core/src/extends/nextTick.ts","../../packages/core/src/entity/proxy/ContainerProxy.ts","../../packages/core/src/render.ts","../../packages/core/src/create.ts","../../packages/core/src/extends/proxy.ts","../../packages/core/src/additional/createElement.ts","../../packages/core/src/additional/useValue.ts","../../packages/core/src/additional/ref.ts","../../packages/core/src/additional/lazy.ts","../../packages/core/src/additional/createRenderElement.ts","../../packages/core/src/additional/elements.ts","../../packages/core/src/additional/isFragmentElement.ts","../../packages/core/src/additional/isSimpleElement.ts","../../packages/core/src/additional/withAncestor.ts","../../packages/renderer-html/src/install/neep.ts","../../packages/renderer-html/src/renderer/updateProps/id.ts","../../packages/renderer-html/src/renderer/updateProps/class.ts","../../packages/renderer-html/src/renderer/updateProps/style.ts","../../packages/renderer-html/src/renderer/updateProps/attr.ts","../../packages/renderer-html/src/renderer/updateProps/event.ts","../../packages/renderer-html/src/renderer/updateProps/index.ts","../../packages/renderer-html/src/renderer/nextFrame.ts","../../packages/renderer-html/src/renderer/container/getTarget.ts","../../packages/renderer-html/src/renderer/container/mountContainer.ts","../../packages/renderer-html/src/renderer/container/unmountContainer.ts","../../packages/renderer-html/src/renderer/container/updateContainer.ts","../../packages/renderer-html/src/renderer/removeNode.ts","../../packages/renderer-html/src/renderer/container/getContainer.ts","../../packages/renderer-html/src/renderer/index.ts","../../packages/renderer-html/src/init/Container.ts","../../packages/renderer-html/src/install/init.ts","../../packages/renderer-html/src/install/install.ts","../components/Compute.tsx","../components/Compute2.tsx","../components/Sync.tsx","../components/Sync2.tsx","../components/delivers.tsx","../components/B.tsx","../register.ts","../components/E.tsx","../components/D.tsx","../components/C.tsx","../components/A.tsx","../App.tsx","../index.tsx"],"sourcesContent":["const xmlnsMap: Record<string, string> = {\n\tsvg: 'http://www.w3.org/2000/svg',\n\thtml: 'http://www.w3.org/1999/xhtml',\n\tmathml: 'http://www.w3.org/1998/Math/MathML',\n};\nconst SVGTags = new Set([\n\t'altGlyph',\n\t'altGlyphDef',\n\t'altGlyphItem',\n\t'animate',\n\t'animateColor',\n\t'animateMotion',\n\t'animateTransform',\n\t'circle',\n\t'clipPath',\n\t'color-profile',\n\t'cursor',\n\t'defs',\n\t'desc',\n\t'ellipse',\n\t'feBlend',\n\t'feColorMatrix',\n\t'feComponentTransfer',\n\t'feComposite',\n\t'feConvolveMatrix',\n\t'feDiffuseLighting',\n\t'feDisplacementMap',\n\t'feDistantLight',\n\t'feFlood',\n\t'feFuncA',\n\t'feFuncB',\n\t'feFuncG',\n\t'feFuncR',\n\t'feGaussianBlur',\n\t'feImage',\n\t'feMerge',\n\t'feMergeNode',\n\t'feMorphology',\n\t'feOffset',\n\t'fePointLight',\n\t'feSpecularLighting',\n\t'feSpotLight',\n\t'feTile',\n\t'feTurbulence',\n\t'filter',\n\t'font-face',\n\t'font-face-format',\n\t'font-face-name',\n\t'font-face-src',\n\t'font-face-uri',\n\t'foreignObject',\n\t'g',\n\t'glyph',\n\t'glyphRef',\n\t'hkern',\n\t'image',\n\t'line',\n\t'linearGradient',\n\t'marker',\n\t'mask',\n\t'metadata',\n\t'missing-glyph',\n\t'mpath',\n\t'path',\n\t'pattern',\n\t'polygon',\n\t'polyline',\n\t'radialGradient',\n\t'rect',\n\t'script',\n\t'set',\n\t'stop',\n\t'style',\n\t'svg',\n\t'switch',\n\t'symbol',\n\t'text',\n\t'textPath',\n\t'title',\n\t'tref',\n\t'tspan',\n\t'use',\n\t'view',\n\t'vkern',\n]);\nconst MathMLTags = new Set([\n\t'maction',\n\t'math',\n\t'menclose',\n\t'merror',\n\t'mfenced',\n\t'mfrac',\n\t'mglyph',\n\t'mi',\n\t'mlabeledtr',\n\t'mmultiscripts',\n\t'mn',\n\t'mo',\n\t'mover',\n\t'mpadded',\n\t'mphantom',\n\t'mroot',\n\t'mrow',\n\t'ms',\n\t'mspace',\n\t'msqrt',\n\t'mstyle',\n\t'msub',\n\t'msubsup',\n\t'msup',\n\t'mtable',\n\t'mtd',\n\t'mtext',\n\t'mtr',\n\t'munder',\n\t'munderover',\n\t'semantics',\n]);\n\nexport default function createElement(\n\ttagname: string,\n\tnamespace?: string,\n): Element {\n\tconst res = /^([a-z][a-z0-9-]*):([a-z0-9-]+)$/i.exec(tagname);\n\tconst tag = res ? res[2] : tagname;\n\tconst ns = (namespace || res?.[1]\n\t\t|| SVGTags.has(tag.toLowerCase()) && 'svg'\n\t\t|| MathMLTags.has(tag.toLowerCase()) && 'mathml' || '').toLowerCase();\n\tif (!ns) {\n\t\treturn document.createElement(tag);\n\t}\n\treturn document.createElementNS(\n\t\tns in xmlnsMap && xmlnsMap[ns] || ns,\n\t\ttag,\n\t);\n}\n","import createElement from './createElement';\nimport Neep from '@neep/core';\n\nexport default function createComponent(\n\trenderer: Neep.IRenderer,\n): [Element, ShadowRoot] {\n\tconst node = createElement('neep-component');\n\treturn [node, node.attachShadow({ mode: 'open' })];\n\n}\n","export default function createPlaceholder(): Comment {\n\treturn document.createComment('');\n}\n","export default function createText(text: string): Text {\n\treturn document.createTextNode(text);\n}\n","export default function getParent(node: Node): (Node & ParentNode) | null {\n\treturn node.parentNode;\n}\n","export default function insertNode(\n\tparent: Node & ParentNode,\n\tnode: Node,\n\tnext: Node | null = null,\n): void {\n\tparent.insertBefore(node, next);\n}\n","/**\n * Global constant\n *\n * Will be replaced by the 'rollup-plugin-replace' plug-in\n */\n\n/**\n * Neep code version\n */\nexport const version = '__VERSION__' as string;\n/**\n * Is the current mode production mode\n * @description Support tree shaking\n */\nexport const isProduction = process.env.NODE_ENV === 'production';\n","import { Devtools } from '../types';\n\nexport const devtools: Devtools = {\n\trenderHook(){},\n};\n\nexport default function installDevtools(\n\ttools?: Partial<Devtools>,\n): void {\n\tif (!tools) { return; }\n\tif (typeof tools !== 'object') { return; }\n\tconst { renderHook } = tools;\n\tif (typeof renderHook === 'function') {\n\t\tdevtools.renderHook = renderHook;\n\t}\n}\n","export default class NeepError extends Error {\n\treadonly tag: string;\n\tconstructor(message: string, tag: string = '') {\n\t\tsuper(tag ? `[${ tag }] ${ message }` : message);\n\t\tthis.tag = tag;\n\t}\n}\nexport function assert(\n\tv: any,\n\tmessage: string | (() => string),\n\ttag?: string,\n): asserts v {\n\tif (v) { return; }\n\tif (typeof message === 'function') { message = message(); }\n\tthrow new NeepError(message, tag);\n}\n","import { IRenderer } from '../types';\nimport { assert } from '../Error';\n\nlet nextFrameApi: undefined | ((fn: () => void) => void);\nexport function nextFrame(fn: () => void): void {\n\tassert(nextFrameApi, 'The basic renderer is not installed', 'install');\n\tnextFrameApi(fn);\n}\n\nexport const renderers: Record<string, IRenderer>\n\t= Object.create(null);\n\nexport function getRender(\n\ttype: string | number | IRenderer = '',\n\tdef = renderers.default,\n): IRenderer {\n\tif (typeof type === 'object') { return type; }\n\treturn renderers[type] || def;\n}\n\nexport default function installRender(renderer?: IRenderer): void {\n\tif (!renderer) { return; }\n\trenderers[renderer.type] = renderer;\n\tif (nextFrameApi) { return; }\n\tif (!renderers.default) {\n\t\trenderers.default = renderer;\n\t}\n\tif (!nextFrameApi && renderer.nextFrame) {\n\t\trenderers.default = renderer;\n\t\tnextFrameApi = renderer.nextFrame.bind(renderer);\n\t}\n\n}\n","\n/*!\n * monitorable v0.1.0-beta.2\n * (c) 2020-2021 Fierflame\n * @license MIT\n */\n\nlet printErrorLog;\n/** 打印错误 */\n\nfunction printError(info) {\n  if (typeof printErrorLog === 'function') {\n    printErrorLog(info);\n    return;\n  }\n\n  console.error(info);\n}\nfunction setPrintError(p) {\n  printErrorLog = typeof p === 'function' ? p : undefined;\n}\n/**\n * 判断对象是否可被代理\n */\n\nfunction encashable(v) {\n  return Boolean(v && ['object', 'function'].includes(typeof v));\n}\n/** 回调函数安全化处理 */\n\nfunction safeify(fn) {\n  return (...p) => {\n    try {\n      fn(...p);\n    } catch (e) {\n      printError(e);\n    }\n  };\n}\n/** 回调函数安全化处理 */\n\nfunction safeCall(fn) {\n  try {\n    fn();\n  } catch (e) {\n    printError(e);\n  }\n}\nfunction getIndexes(target, prop) {\n  if (!target) {\n    return undefined;\n  }\n\n  if (typeof target !== 'function' && typeof target !== 'object') {\n    return undefined;\n  }\n\n  if (typeof prop === 'number') {\n    return [target, String(prop)];\n  }\n\n  if (typeof prop === 'symbol') {\n    return [target, prop];\n  }\n\n  if (typeof prop === 'string') {\n    return [target, prop];\n  }\n\n  if (typeof prop === 'boolean') {\n    return [target, prop];\n  }\n\n  return undefined;\n}\nfunction getMapValue(map, key, def) {\n  if (map.has(key)) {\n    return map.get(key);\n  }\n\n  const value = def();\n  map.set(key, value);\n  return value;\n}\n\n/** 已被读取的 */\nlet read;\n/**\n * 标记已读状态\n * @param obj  要标记的对象\n * @param prop 要标记的属性\n */\n\nfunction markRead(target, prop) {\n  if (!read) {\n    return;\n  }\n\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return;\n  }\n\n  [target, prop] = indexes;\n  const propMap = getMapValue(read, target, () => new Map());\n\n  if (propMap.has(prop)) {\n    return;\n  }\n\n  propMap.set(prop, false);\n}\n\n/**\n * 监听函数的执行，并将执行过程中读取的对象值设置到 map 中\n * @param fn 要执行的含糊\n * @param map 用于存储被读取对象的 map\n */\nfunction observeRun(map, fn, options) {\n  const oldRead = read;\n  read = map;\n\n  try {\n    if (!(options === null || options === void 0 ? void 0 : options.postpone)) {\n      return fn();\n    }\n\n    return postpone(fn, options.postpone === 'priority');\n  } finally {\n    read = oldRead;\n  }\n}\n\nfunction observe(map, fn, options) {\n  if (typeof fn === 'function') {\n    return observeRun(map, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return observeRun(map, options, fn);\n}\nconst watchList = new WeakMap();\n\nfunction execWatch(target, prop, filter) {\n  var _watchList$get;\n\n  const watch = (_watchList$get = watchList.get(target)) === null || _watchList$get === void 0 ? void 0 : _watchList$get.get(prop);\n\n  if (!watch) {\n    return;\n  }\n\n  let list = [...watch];\n\n  if (filter) {\n    list = list.filter(([, t]) => filter(t));\n  }\n\n  list.forEach(([w]) => w());\n}\n\nlet waitList;\n\nfunction runDeferred(list) {\n  for (const [target, set] of list.entries()) {\n    var _read;\n\n    const propMap = (_read = read) === null || _read === void 0 ? void 0 : _read.get(target);\n\n    for (const prop of set) {\n      execWatch(target, prop, t => !t);\n\n      if (propMap === null || propMap === void 0 ? void 0 : propMap.has(prop)) {\n        propMap.set(prop, true);\n      }\n    }\n  }\n}\n\nfunction postponeRun(f, priority) {\n  const list = !priority && waitList || new Map();\n  const old = waitList;\n  waitList = list;\n\n  try {\n    return f();\n  } finally {\n    waitList = old;\n\n    if (list !== waitList) {\n      runDeferred(list);\n    }\n  }\n}\n\nfunction postpone(fn, priority) {\n  if (typeof fn === 'function') {\n    return postponeRun(fn, priority);\n  }\n\n  if (typeof priority !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return postponeRun(priority, fn);\n}\n\nfunction wait(target, prop) {\n  if (!waitList) {\n    return false;\n  }\n\n  getMapValue(waitList, target, () => new Set()).add(prop);\n  return true;\n}\n/**\n * 标记属性的修改，同时触发监听函数\n * @param target 要标记的对象\n * @param prop   要标记的属性 特别的，false 表示原型，true 表示成员\n */\n\n\nfunction markChange(target, prop) {\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return;\n  }\n\n  [target, prop] = indexes;\n\n  if (wait(target, prop)) {\n    execWatch(target, prop, Boolean);\n    return;\n  }\n\n  execWatch(target, prop);\n}\n/**\n * 观察对象属性的变化\n * @param target 要观察的对象\n * @param prop   要观察的属性名 特别的，false 表示原型，true 表示成员\n * @param fn     属性改变后触发的函数\n */\n\nfunction watchProp(target, prop, cb, disdeferable = false) {\n  if (typeof cb !== 'function') {\n    return () => {};\n  }\n\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return () => {};\n  }\n\n  [target, prop] = indexes;\n  const key = prop;\n  let map = watchList.get(target);\n\n  if (!map) {\n    map = new Map();\n    watchList.set(target, map);\n  }\n\n  const list = getMapValue(map, key, () => new Set());\n  const item = [safeify(cb), disdeferable];\n  list.add(item);\n  let removed = false;\n  return () => {\n    if (removed) {\n      return;\n    }\n\n    removed = true; // 从当前列表中移除\n\n    list.delete(item); // 从属性关联中删除\n\n    if (list.size) {\n      return;\n    }\n\n    if (!map) {\n      return;\n    }\n\n    map.delete(key); // 映射列表中删除\n\n    if (map.size) {\n      return;\n    }\n\n    watchList.delete(target);\n  };\n}\n\nfunction run(cb, fn, options) {\n  cb = safeify(cb);\n  let cancelList;\n  const postpone = options === null || options === void 0 ? void 0 : options.postpone;\n  let end = false;\n  /** 取消监听 */\n\n  function cancel() {\n    if (end) {\n      return false;\n    }\n\n    end = true;\n\n    if (!cancelList) {\n      return true;\n    }\n\n    const list = cancelList;\n    cancelList = undefined;\n    list.forEach(f => f());\n    return true;\n  }\n\n  function trigger() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(true);\n  }\n\n  function run(thisRead) {\n    if (end) {\n      return false;\n    }\n\n    if (!thisRead.size) {\n      end = true;\n      return cb(false);\n    }\n\n    const list = [];\n\n    for (let [obj, props] of thisRead) {\n      for (const [p, m] of props) {\n        if (m) {\n          return cb(true);\n        }\n\n        list.push([obj, p]);\n      }\n    }\n\n    cancelList = list.map(([obj, p]) => watchProp(obj, p, trigger, options === null || options === void 0 ? void 0 : options.disdeferable));\n  }\n\n  function stop() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(false);\n  }\n  const thisRead = new Map();\n  const result = observe(thisRead, () => fn(stop), {\n    postpone\n  });\n  run(thisRead);\n\n  if (options === null || options === void 0 ? void 0 : options.resultOnly) {\n    return result;\n  }\n\n  return {\n    result,\n    stop\n  };\n}\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\n\n\nfunction exec(cb, fn, options) {\n  if (typeof cb !== 'function') {\n    throw new Error('cb needs to be a function');\n  }\n\n  if (typeof fn === 'function') {\n    return run(cb, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return run(cb, options, fn);\n}\n\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\nfunction create(cb, fn, options) {\n  cb = safeify(cb);\n  let cancelList;\n  /** 取消监听 */\n\n  function cancel() {\n    if (!cancelList) {\n      return false;\n    }\n\n    const list = cancelList;\n    cancelList = undefined;\n    list.forEach(f => f());\n    return true;\n  }\n\n  function trigger() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(true);\n  }\n\n  function run(thisRead) {\n    if (!thisRead.size) {\n      return cb(false);\n    }\n\n    const list = [];\n\n    for (let [obj, props] of thisRead) {\n      for (const [p, m] of props) {\n        if (m) {\n          return cb(true);\n        }\n\n        list.push([obj, p]);\n      }\n    }\n\n    cancelList = list.map(([obj, p]) => watchProp(obj, p, trigger, options === null || options === void 0 ? void 0 : options.disdeferable));\n  }\n\n  function exec(...p) {\n    cancel();\n    const thisRead = new Map();\n    const result = observe(thisRead, () => fn(...p), options);\n    run(thisRead);\n    return result;\n  }\n\n  exec.stop = () => {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(false);\n  };\n\n  return exec;\n}\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\n\n\nfunction monitor(cb, fn, options) {\n  if (typeof fn === 'function') {\n    return create(cb, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return create(cb, options, fn);\n}\n\n/** 取消监听的方法 */\n\nconst valueSignKey = '__$$__monitorable_value__$$__';\nfunction isValue(x) {\n  return Boolean(typeof x === 'function' && x[valueSignKey]);\n}\n/** 触发监听 */\n\nfunction valueOf() {\n  const value = this();\n\n  if (value === undefined) {\n    return value;\n  }\n\n  if (value === null) {\n    return value;\n  }\n\n  return value.valueOf();\n}\n\nfunction toString(...p) {\n  const value = this();\n\n  if (value === undefined) {\n    return String(value);\n  }\n\n  if (value === null) {\n    return String(value);\n  }\n\n  if (typeof value.toString === 'function') {\n    return value.toString(...p);\n  }\n\n  return String(value);\n}\n\nfunction toPrimitive(hint) {\n  const value = this();\n\n  if (value === undefined) {\n    return String(value);\n  }\n\n  if (value === null) {\n    return String(value);\n  }\n\n  if (typeof value[Symbol.toPrimitive] === 'function') {\n    return value[Symbol.toPrimitive](hint);\n  }\n\n  if (hint === 'string') {\n    return String(value);\n  }\n\n  if (hint === 'number') {\n    return Number(value);\n  }\n\n  return value;\n}\n\nfunction createValue(recover, setValue, stop = () => {}, change = () => {}) {\n  function set(v, marked = false) {\n    if (!setValue) {\n      return;\n    }\n\n    try {\n      setValue(v, () => {\n        marked = true;\n      });\n    } finally {\n      if (marked) {\n        trigger();\n      }\n    }\n  }\n\n  function get() {\n    markRead(value, 'value');\n    return recover();\n  }\n\n  const value = (...v) => {\n    if (v.length) {\n      set(v[0], v[1]);\n      return v[0];\n    }\n\n    return get();\n  };\n\n  Reflect.defineProperty(value, 'value', {\n    get,\n    set,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, 'valueOf', {\n    value: valueOf,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, 'toString', {\n    value: toString,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, Symbol.toPrimitive, {\n    value: toPrimitive,\n    enumerable: true,\n    configurable: true\n  });\n  let stopList = new Set();\n\n  function watch(cb, disdeferable) {\n    if (!stopList) {\n      return () => {};\n    }\n\n    const cancel = watchProp(value, 'value', () => cb(value, false), disdeferable);\n    let cancelled = false;\n\n    const stop = () => {\n      if (cancelled) {\n        return;\n      }\n\n      cancelled = true;\n\n      if (stopList) {\n        stopList.delete(stop);\n      }\n\n      cancel();\n      safeCall(() => cb(value, true));\n    };\n\n    stopList.add(stop);\n    change();\n    return () => {\n      if (cancelled) {\n        return;\n      }\n\n      cancelled = true;\n\n      if (stopList) {\n        stopList.delete(stop);\n      }\n\n      cancel();\n      change();\n    };\n  }\n\n  Reflect.defineProperty(value, 'watch', {\n    get() {\n      return watch;\n    },\n\n    set() {},\n\n    configurable: true\n  });\n\n  const trigger = () => markChange(value, 'value');\n\n  trigger.has = () => {\n    var _stopList;\n\n    return Boolean((_stopList = stopList) === null || _stopList === void 0 ? void 0 : _stopList.size);\n  };\n\n  trigger.stop = () => {\n    if (!stopList) {\n      return;\n    }\n\n    const list = stopList;\n    stopList = undefined;\n\n    for (const stop of [...list]) {\n      stop();\n    }\n  };\n\n  Reflect.defineProperty(value, valueSignKey, {\n    value: true,\n    configurable: true\n  });\n  let stopped = false;\n\n  value.stop = () => {\n    if (stopped) {\n      return;\n    }\n\n    stopped = true;\n    stop();\n    trigger.stop();\n  };\n\n  return {\n    value,\n    trigger\n  };\n}\n/**\n * 创建引用值\n * @param value 初始值\n * @param options 选项\n */\n\n\nfunction value(def) {\n  let source;\n  let proxyValue;\n  const {\n    value\n  } = createValue(() => proxyValue, (v, mark) => {\n    if (v === source) {\n      return;\n    }\n\n    source = v;\n    proxyValue = source;\n    mark();\n  });\n  value(def);\n  return value;\n}\nfunction computed(getter, setter, options) {\n  var _options, _options2;\n\n  if (typeof setter !== 'function') {\n    options = setter;\n    setter = undefined;\n  }\n\n  const setValue = setter;\n  const postpone = (_options = options) === null || _options === void 0 ? void 0 : _options.postpone;\n  const deferable = (_options2 = options) === null || _options2 === void 0 ? void 0 : _options2.deferable;\n  let source;\n  let proxyValue;\n  let stopped = false;\n  let computed = false;\n  let trigger;\n  const executable = monitor(changed => {\n    computed = !changed;\n\n    if (changed && trigger) {\n      trigger();\n    }\n  }, getter, {\n    postpone,\n    disdeferable: !deferable\n  });\n\n  function run() {\n    computed = true;\n\n    try {\n      source = executable();\n      proxyValue = source;\n      return proxyValue;\n    } catch (e) {\n      if (!stopped) {\n        computed = false;\n      }\n\n      throw e;\n    }\n  }\n\n  let value;\n  ({\n    value,\n    trigger\n  } = createValue(() => computed || stopped ? proxyValue : run(), setValue && (v => setValue(v)), () => {\n    if (stopped) {\n      return;\n    }\n\n    stopped = true;\n\n    if (computed) {\n      return;\n    }\n\n    run();\n  }));\n  return value;\n}\n\nfunction createValue$1(props, key, def, set) {\n  function setValue(value, setted) {\n    if (!set) {\n      return;\n    }\n\n    set(value, setted);\n  }\n\n  return computed(() => {\n    const p = props[key];\n\n    if (p === undefined && def) {\n      return def();\n    }\n\n    return isValue(p) ? p() : p;\n  }, v => {\n    const p = props[key];\n\n    if (isValue(p)) {\n      p(v);\n      setValue(v, true);\n      return;\n    }\n\n    if (p === undefined && def) {\n      def(v);\n    }\n\n    setValue(v, false);\n  });\n}\n\nfunction valueify(props, key, def, set) {\n  if (!key) {\n    return (k, d, s) => createValue$1(props, k, d, s);\n  }\n\n  if (!Array.isArray(key)) {\n    return createValue$1(props, key, def, set);\n  }\n\n  const r = Object.create(null);\n\n  for (const k of key) {\n    const value = createValue$1(props, k, def && def(k), set && ((v, s) => set(v, s, k)));\n    Reflect.defineProperty(props, k, {\n      get() {\n        return value();\n      },\n\n      set(v) {\n        value.value = v;\n      },\n\n      configurable: true,\n      enumerable: true\n    });\n  }\n\n  return r;\n}\nfunction mixValue(source, props = Reflect.ownKeys(source), set) {\n  const p = Object.create(source);\n\n  function setValue(value, key) {\n    if (!set) {\n      return;\n    }\n\n    set(value, key);\n  }\n\n  const keys = Array.isArray(props) ? props : Reflect.ownKeys(props);\n  const values = Array.isArray(props) ? source : props;\n\n  for (const key of keys) {\n    const value = values[key];\n\n    if (!isValue(value)) {\n      continue;\n    }\n\n    Reflect.defineProperty(p, key, {\n      get() {\n        return value();\n      },\n\n      set(v) {\n        value.value = v;\n        setValue(v, key);\n      },\n\n      configurable: true,\n      enumerable: true\n    });\n  }\n\n  return p;\n}\n\nfunction createAsValue(props, key) {\n  return computed(() => {\n    const p = props[key];\n    return isValue(p) ? p() : p;\n  }, v => {\n    const p = props[key];\n\n    if (isValue(p)) {\n      p(v);\n    } else {\n      props[key] = v;\n    }\n  });\n}\n\nfunction asValue(props, key) {\n  if (arguments.length >= 2) {\n    return createAsValue(props, key);\n  }\n\n  return k => createAsValue(props, k);\n}\n\nfunction merge(cb) {\n  let oldValue;\n  let ran = false;\n  return (v, stopped) => {\n    if (stopped) {\n      return cb(v, stopped);\n    }\n\n    const newValue = v();\n\n    if (newValue === oldValue && ran) {\n      return;\n    }\n\n    ran = true;\n    oldValue = newValue;\n    cb(v, stopped);\n  };\n}\n\nfunction defineProperty(obj, key, val) {\n  return Reflect.defineProperty(obj, key, {\n    get() {\n      markRead(obj, key);\n      return val;\n    },\n\n    set(v) {\n      if (v === val) {\n        return;\n      }\n\n      val = v;\n      markChange(obj, key);\n    },\n\n    configurable: true,\n    enumerable: true\n  });\n}\nfunction createObject(keys, base = {}, create) {\n  const obj = create || base === null ? Object.create(base) : base;\n\n  for (const key of keys) {\n    let val = obj[key];\n    Reflect.defineProperty(obj, key, {\n      get() {\n        markRead(obj, key);\n        return val;\n      },\n\n      set(v) {\n        if (v === val) {\n          return;\n        }\n\n        val = v;\n        markChange(obj, key);\n      },\n\n      configurable: true,\n      enumerable: true\n    });\n  }\n\n  return obj;\n}\nfunction get(obj, key) {\n  markRead(obj, key);\n  return obj[key];\n}\nfunction set(obj, key, v) {\n  if (v === obj[key]) {\n    return v;\n  }\n\n  obj[key] = v;\n  markChange(obj, key);\n  return v;\n}\n\n/**\n * 判断对象是否可被代理\n */\n\nfunction encashable$1(v) {\n  return Boolean(v && ['object', 'function'].includes(typeof v));\n}\n\nlet getValue;\n/**\n * 获取被代理对象\n * @param obj  要被代理的对象\n * @param nest 递归代理的层数\n */\n\nfunction encase(value, nest = 0) {\n  if (!encashable$1(value)) {\n    return value;\n  }\n\n  const original = recover(value);\n  const nestLayer = nest === true ? Infinity : nest || 0;\n  const proxy = new Proxy(original, {\n    set(target, prop, value, receiver) {\n      if (nest === false) {\n        return Reflect.set(target, prop, value, receiver);\n      }\n\n      const has = Reflect.has(target, prop);\n      const old = Reflect.get(target, prop, receiver);\n      const modified = Reflect.set(target, prop, value, encase(receiver));\n\n      if (!modified) {\n        return modified;\n      }\n\n      if (has !== Reflect.has(target, prop)) {\n        markChange(receiver, true);\n      }\n\n      if (old !== Reflect.get(target, prop, receiver)) {\n        markChange(receiver, prop);\n      }\n\n      return modified;\n    },\n\n    get(target, prop, receiver) {\n      if (getValue === proxy) {\n        if (prop === '__monitorable__recover__') {\n          getValue = original;\n          return;\n        }\n      }\n\n      if (nest === false) {\n        return Reflect.get(target, prop, receiver);\n      }\n\n      markRead(receiver, prop);\n      const value = Reflect.get(target, prop, encase(receiver));\n\n      if (nestLayer > 0) {\n        return encase(value, nestLayer - 1);\n      }\n\n      return value;\n    },\n\n    setPrototypeOf(target, proto) {\n      if (nest === false) {\n        return Reflect.setPrototypeOf(target, proto);\n      }\n\n      const oldProto = Reflect.getPrototypeOf(target);\n      const modified = Reflect.setPrototypeOf(target, proto);\n\n      if (modified && oldProto !== proto) {\n        markChange(target, false);\n        markChange(proxy, false);\n      }\n\n      return modified;\n    },\n\n    getPrototypeOf(target) {\n      if (nest === false) {\n        return Reflect.getPrototypeOf(target);\n      }\n\n      markRead(target, false);\n      markRead(proxy, false);\n      const value = Reflect.getPrototypeOf(target);\n\n      if (nestLayer > 0) {\n        return encase(value, nestLayer - 1);\n      }\n\n      return value;\n    },\n\n    defineProperty(target, prop, attr) {\n      if (nest === false) {\n        return Reflect.defineProperty(target, prop, attr);\n      }\n\n      let changed = true;\n\n      if ('value' in attr) {\n        const desc = Reflect.getOwnPropertyDescriptor(target, prop);\n\n        if (desc && 'value' in desc && recover(attr.value) === recover(desc.value)) {\n          changed = false;\n        }\n      }\n\n      const modified = Reflect.defineProperty(target, prop, attr);\n\n      if (changed && modified) {\n        markChange(target, prop);\n        markChange(proxy, prop);\n      }\n\n      return modified;\n    },\n\n    getOwnPropertyDescriptor(target, prop) {\n      if (nest === false) {\n        return Reflect.getOwnPropertyDescriptor(target, prop);\n      }\n\n      markRead(target, prop);\n      markRead(proxy, prop);\n      return Reflect.getOwnPropertyDescriptor(target, prop);\n    },\n\n    deleteProperty(target, prop) {\n      if (nest === false) {\n        return Reflect.deleteProperty(target, prop);\n      }\n\n      const has = Reflect.has(target, prop);\n      const deleted = Reflect.deleteProperty(target, prop);\n\n      if (has && !Reflect.has(target, prop)) {\n        markChange(target, prop);\n        markChange(target, true);\n        markChange(proxy, prop);\n        markChange(proxy, true);\n      }\n\n      return deleted;\n    },\n\n    ownKeys(target) {\n      if (nest === false) {\n        return Reflect.ownKeys(target);\n      }\n\n      markRead(target, true);\n      markRead(proxy, true);\n      return Reflect.ownKeys(target);\n    },\n\n    has(target, prop) {\n      if (nest === false) {\n        return Reflect.has(target, prop);\n      }\n\n      markRead(target, true);\n      markRead(proxy, true);\n      return Reflect.has(target, prop);\n    }\n\n  });\n  return proxy;\n}\n/** 获取被代理的原始值 */\n\nfunction recover(v) {\n  if (!v) {\n    return v;\n  }\n\n  if (!encashable$1(v)) {\n    return v;\n  }\n\n  let value = v;\n\n  try {\n    getValue = v;\n    value = v.__monitorable__recover__;\n  } catch (_unused) {}\n\n  value = getValue;\n  getValue = false;\n\n  if (!value) {\n    return v;\n  }\n\n  if (typeof value === 'object') {\n    return value;\n  }\n\n  if (typeof value === 'function') {\n    return value;\n  }\n\n  return v;\n}\nfunction equal(a, b) {\n  return recover(a) === recover(b);\n}\n\n\n\nvar Monitorable = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tprintError: printError,\n\tsetPrintError: setPrintError,\n\tencashable: encashable,\n\tsafeify: safeify,\n\tsafeCall: safeCall,\n\tgetIndexes: getIndexes,\n\tgetMapValue: getMapValue,\n\tmarkRead: markRead,\n\tobserve: observe,\n\tpostpone: postpone,\n\tmarkChange: markChange,\n\twatchProp: watchProp,\n\texec: exec,\n\tmonitor: monitor,\n\tisValue: isValue,\n\tvalue: value,\n\tcomputed: computed,\n\tvalueify: valueify,\n\tmixValue: mixValue,\n\tasValue: asValue,\n\tmerge: merge,\n\tdefineProperty: defineProperty,\n\tcreateObject: createObject,\n\tget: get,\n\tset: set,\n\tencase: encase,\n\trecover: recover,\n\tequal: equal\n});\n\nexport default Monitorable;\nexport { asValue, computed, createObject, defineProperty, encase, encashable, equal, exec, get, getIndexes, getMapValue, isValue, markChange, markRead, merge, mixValue, monitor, observe, postpone, printError, recover, safeCall, safeify, set, setPrintError, value, valueify, watchProp };\n//# sourceMappingURL=monitorable.esm.js.map\n","export {\n\tprintError, safeify,\n\tmarkRead, markChange, postpone,\n\texec, monitor,\n\tvalue, computed, isValue, valueify, asValue, mixValue,\n\tdefineProperty, createObject, get, set,\n\tencase,\n} from 'monitorable';\n\n\nexport default function installMonitorable(\n\tapi?: typeof import('monitorable'),\n): void {\n}\n","import { IRenderer, Devtools } from '../types';\nimport { isProduction } from '../constant/info';\nimport installDevtools from './devtools';\nimport installRender from './renderer';\nimport installMonitorable from './monitorable';\n\n\nexport * from './devtools';\nexport * from './renderer';\n\nfunction install(apis: install.Option): void {\n\tinstallMonitorable(apis.monitorable);\n\tinstallRender(apis.renderer);\n\tif (!isProduction) {\n\t\tinstallDevtools(apis.devtools);\n\t}\n}\n\n\ndeclare namespace install {\n\texport interface Option {\n\t\tmonitorable?: typeof import('monitorable');\n\t\trenderer?: IRenderer;\n\t\tdevtools?: Devtools;\n\t}\n\n}\nexport default install;\n","import { isProduction } from '../constant/info';\nimport { assert } from '../Error';\nimport { UseData } from '../types';\n\nexport interface HookState {\n\tlist: UseData[] | undefined;\n\tisInit: boolean;\n\troot?: UseData[];\n\truns?: UseData[];\n}\n\nconst destroyFns: Record<number, (c: any) => void> = Object.create(null);\nlet nextId = 1;\n\n\nlet isInit = false;\nlet hookList: UseData[] | undefined;\nlet root: UseData[] | undefined;\nlet runs: UseData[] | undefined;\n\n\nexport function hookSafe(): void {\n\tassert(\n\t\tisInit || !hookList || !hookList.length,\n\t\t'Inconsistent number of useService executions',\n\t\t'life',\n\t);\n}\n\nexport function initHook(init: boolean, useData?: UseData[]): HookState {\n\tconst state: HookState = isProduction\n\t\t? { list: hookList, isInit }\n\t\t: { list: hookList, isInit, root, runs };\n\tif (!useData) {\n\t\tisInit = false;\n\t\thookList = undefined;\n\t\tif (!isProduction) {\n\t\t\troot = [];\n\t\t\truns = [];\n\t\t}\n\t\treturn state;\n\t}\n\tisInit = init;\n\thookList = init ? useData : [...useData];\n\tif (!isProduction) {\n\t\troot = useData;\n\t\truns = [];\n\t}\n\treturn state;\n}\nexport function restoreHookState(state: HookState): void {\n\tif (isProduction) {\n\t\t({ list: hookList, isInit } = state);\n\t} else {\n\t\t({ list: hookList, isInit, root, runs } = state);\n\t}\n}\nfunction printError(item?: UseData, isEnd?: boolean): string {\n\tif (isProduction) {\n\t\t// TODO\n\t} else {\n\t\t// TODO\n\t}\n\treturn '';\n}\nexport function createUse<T, P extends any[]>(p: {\n\tname: string,\n\tcreate?: (...p: P) => T,\n\texec?: undefined,\n\tdestroy?: ((c: T) => void),\n}): (...p: P) => T;\nexport function createUse<T, P extends any[], R>(p: {\n\tname: string,\n\tcreate?: (...p: P) => T,\n\texec: (c: T, ...p: P) => R,\n\tdestroy?: ((c: T) => void),\n}): (...p: P) => R;\nexport function createUse<T, P extends any[], R>({\n\tname,\n\tcreate = () => ({}) as T,\n\tdestroy,\n\texec = ((v: any) => v) as any,\n}: {\n\tname: string,\n\tcreate?: (...p: P) => T,\n\texec?: (c: T, ...p: P) => R,\n\tdestroy?: ((c: T) => void),\n}): (...p: P) => R {\n\tconst id = nextId++;\n\tif (typeof destroy === 'function') {\n\t\tdestroyFns[id] = destroy;\n\t}\n\treturn (...p: P) => {\n\t\tassert(\n\t\t\thookList,\n\t\t\t`Function \\`${ name }\\` can only be called within a cycle.`,\n\t\t\t'life',\n\t\t);\n\t\tif (isInit) {\n\t\t\tconst list: UseData[] = [];\n\t\t\tconst item: UseData = { id, value: create(...p) };\n\t\t\tconst parent = hookList;\n\t\t\thookList = list;\n\t\t\ttry {\n\t\t\t\treturn exec(item.value, ...p);\n\t\t\t} finally {\n\t\t\t\tif (list.length) {\n\t\t\t\t\titem.list = list;\n\t\t\t\t}\n\t\t\t\thookList = parent;\n\t\t\t}\n\t\t}\n\t\tconst item = hookList.shift();\n\t\tassert(item && item.id === id && item.list, () => printError(item), 'life');\n\t\tconst { value } = item;\n\n\t\tconst list = [...item.list];\n\t\tconst parent = hookList;\n\t\thookList = list;\n\n\t\tif (isProduction) {\n\t\t\ttry {\n\t\t\t\tconst ret = exec(value, ...p);\n\t\t\t\tassert(!list.length, '');\n\t\t\t\treturn ret;\n\t\t\t} finally {\n\t\t\t\thookList = parent;\n\t\t\t}\n\t\t} else {\n\t\t\tconst runList: UseData[] = [];\n\t\t\tif (runs) {\n\t\t\t\truns.push({ id, list: runList, value });\n\t\t\t}\n\t\t\tconst runParent = runs;\n\t\t\truns = runList;\n\t\t\ttry {\n\t\t\t\tconst ret = exec(value, ...p);\n\t\t\t\tassert(!list.length, () => printError(item, true), 'life');\n\t\t\t\treturn ret;\n\t\t\t} finally {\n\t\t\t\thookList = parent;\n\t\t\t\truns = runParent;\n\t\t\t}\n\t\t}\n\n\t};\n}\n\nexport function destroyUseData(data?: UseData[]): void {\n\tif (!data) { return; }\n\tfor (const {id, value, list} of data) {\n\t\tdestroyUseData(list);\n\t\tif (!(id in destroyFns)) { continue; }\n\t\tconst destroy = destroyFns[id];\n\t\tdestroy(value);\n\t}\n}\n","import { ComponentEntity, Label, ContextData } from '../types';\nimport { assert } from '../Error';\nimport { hookSafe, HookState, initHook, restoreHookState } from './use';\n\n\nexport let setLabels: ((l: Label[] | undefined) => void) | undefined;\nlet current: ContextData | undefined;\n\nexport function runCurrent<P extends any[], R>(\n\tnewContextData: ContextData,\n\tentity: ComponentEntity<any> | undefined,\n\tfn: (...p: P) => R,\n\t...p: P\n): R {\n\n\n\tconst oldCurrent = current;\n\tcurrent = newContextData;\n\n\tconst hookState: HookState = entity\n\t\t? initHook(!newContextData.created, newContextData.useData)\n\t\t: initHook(false);\n\n\ttry {\n\t\tconst ret = fn(...p);\n\t\tif (entity) { hookSafe(); }\n\t\treturn ret;\n\t} finally {\n\t\tcurrent = oldCurrent;\n\t\trestoreHookState(hookState);\n\t}\n}\nexport function runCurrentWithLabel<P extends any[], R>(\n\tnewContextData: ContextData,\n\tentity: ComponentEntity<any> | undefined,\n\tsetLabel: typeof setLabels,\n\tfn: (...p: P) => R,\n\t...p: P\n): R {\n\tconst oldCurrent = current;\n\tcurrent = newContextData;\n\n\tconst hookState: HookState = entity\n\t\t? initHook(!newContextData.created, newContextData.useData)\n\t\t: initHook(false);\n\n\tconst oldSetLabel = setLabels;\n\tsetLabels = setLabel;\n\n\ttry {\n\t\tconst ret = fn(...p);\n\t\tif (entity) { hookSafe(); }\n\t\treturn ret;\n\t} finally {\n\t\tcurrent = oldCurrent;\n\t\trestoreHookState(hookState);\n\t\tsetLabels = oldSetLabel;\n\t}\n}\n\n\nexport function checkCurrent(\n\tname: string,\n): ContextData {\n\tassert(\n\t\tcurrent,\n\t\t`Function \\`${ name }\\` can only be called within a cycle.`,\n\t\t'life',\n\t);\n\treturn current;\n}\n","import { safeify } from '../install/monitorable';\nimport { Hook, HookName, HookData } from '../types';\n\nexport function setHook<H extends HookName>(\n\tid: H,\n\thook: Hook,\n\tcontextData: HookData,\n): () => void;\nexport function setHook(\n\tid: string,\n\thook: Hook,\n\tcontextData: HookData,\n): () => void;\n\nexport function setHook(\n\tid: string,\n\thook: Hook,\n\tcontextData: HookData,\n): () => void {\n\tlet {hooks} = contextData;\n\tif (!hooks) { return () => {}; }\n\thook = safeify(hook);\n\tlet set = hooks[id];\n\tif (!set) {\n\t\tset = new Set();\n\t\thooks[id] = set;\n\t}\n\tset.add(hook);\n\treturn () => set.delete(hook);\n}\n\nexport function callHook<H extends HookName>(\n\tid: H,\n\tcontextData: HookData,\n): void;\nexport function callHook(\n\tid: string,\n\tcontextData: HookData,\n): void;\nexport function callHook(\n\tid: string,\n\t{hooks}: HookData,\n): void {\n\tif (!hooks) { return; }\n\tfor (const hook of hooks[id] || []) {\n\t\thook();\n\t}\n}\n","import { Value, WatchCallback, CancelWatch } from '../../types';\nimport { checkCurrent } from '../../extends/current';\nimport { setHook } from '../../extends/hook';\nimport { isValue, computed } from '../state';\n\n\n/**********************************\n * 状态管理类 API\n **********************************/\n/**\n * 监听指定值的变化\n * @description 本质是调用 Value 对象的 watch 方法\n * @description 但是通过此方法进行的观察，会在组件生命周期结束时自动停止观察\n * @description 此函数只有在初始化调用时有效\n * @param value 被监听的值\n * @param cb    当监听的值发送变化时调用的函数\n */\nfunction withWatch<T>(\n\tvalue: Value<T>,\n\tcb: WatchCallback<T>,\n\trun?: boolean,\n): () => void;\n/**\n * 监听指定值的变化\n * @description 本质是创建调用 Value 对象的 watch 方法\n * @description 但是通过此方法进行的观察，会在组件生命周期结束时自动停止观察\n * @description 此函数只有在初始化调用时有效\n * @param value 用于计算观测值的函数\n * @param cb    当监听的值发送变化时调用的函数\n */\nfunction withWatch<T>(\n\tvalue: () => T,\n\tcb: (v: T, stopped: boolean) => void,\n\trun?: boolean,\n): () => void;\nfunction withWatch<T>(\n\tvalue: Value<T> | (() => T),\n\tcb: (v: Value<T> | T, stopped: boolean) => void,\n\trun?: boolean,\n): () => void {\n\tconst contextData = checkCurrent('withWatch');\n\tif (typeof value !== 'function') { return () => {}; }\n\tlet stop: CancelWatch;\n\tif (isValue(value)) {\n\t\tstop = value.watch(cb);\n\t\tif (run) {\n\t\t\tcb(value, false);\n\t\t}\n\t} else {\n\t\tconst v = computed(value);\n\t\tstop = v.watch((v, s) => cb(v(), s));\n\t\tif (run) {\n\t\t\tcb(v(), false);\n\t\t}\n\t}\n\tsetHook('beforeDestroy', () => stop(), contextData);\n\treturn stop;\n}\nexport default withWatch;\n","import { HookName } from '../../types';\nimport { checkCurrent } from '../../extends/current';\nimport { setHook } from '../../extends/hook';\n\n/**********************************\n * 钩子类 API\n **********************************/\n/**\n * 为当前组件注册钩子\n * @param name 钩子名称\n * @param hook 钩子\n * @param initOnly 是否仅在初始化时有效\n */\nfunction withHook<H extends HookName>(\n\tname: H,\n\thook: () => void,\n\tinitOnly?: boolean,\n): undefined | (() => void);\nfunction withHook(\n\tname: string,\n\thook: () => void,\n\tinitOnly?: boolean,\n): undefined | (() => void);\nfunction withHook(\n\tname: string,\n\thook: () => void,\n\tinitOnly?: boolean,\n): undefined | (() => void) {\n\tconst contextData = checkCurrent('withHook');\n\tif (initOnly && contextData.created) { return undefined; }\n\treturn setHook(name, () => hook(), contextData);\n}\nexport default withHook;\n","export const rendererSymbol = Symbol.for('renderer');\nexport const nameSymbol = Symbol.for('name');\nexport const componentsSymbol = Symbol.for('components');\nexport const propsSymbol = Symbol.for('props');\nexport const componentValueSymbol = Symbol.for('$$$componentValue$$$');\n\n\nexport const objectTypeSymbol = Symbol.for('$$$objectType$$$');\nexport const objectTypeSymbolElement = '$$$objectType$$$Element';\nexport const objectTypeSymbolDeliverComponent = '$$$objectType$$$DeliverComponent';\nexport const objectTypeSymbolNativeComponent = '$$$objectType$$$NativeComponentNode';\nexport const objectTypeSymbolSimpleComponent = '$$$objectType$$$SimpleComponent';\nexport const objectTypeSymbolShellComponent = '$$$objectType$$$ShellComponent';\nexport const objectTypeSymbolRenderComponent = '$$$objectType$$$RenderComponent';\nexport const objectTypeSymbolContainerComponent = '$$$objectType$$$ContainerComponent';\nexport const objectTypeSymbolElementComponent = '$$$objectType$$$ElementComponent';\nexport const objectTypeSymbolRootEntity = '$$$objectType$$$RootEntity';\n\n\nexport const deliverKeySymbol = Symbol.for('$$$deliverKey$$$');\nexport const deliverDefaultSymbol = Symbol.for('$$$deliverDefault$$$');\n","import {\n\tRenderComponent,\n\tSimpleComponent,\n\tContainerComponent,\n\tDeliverComponent,\n\tNativeComponent,\n\tShellComponent,\n\tElementComponent,\n} from './types';\nimport {\n\tobjectTypeSymbol,\n\tobjectTypeSymbolSimpleComponent,\n\tobjectTypeSymbolNativeComponent,\n\tobjectTypeSymbolRenderComponent,\n\tobjectTypeSymbolDeliverComponent,\n\tobjectTypeSymbolContainerComponent,\n\tobjectTypeSymbolShellComponent,\n\tobjectTypeSymbolElementComponent,\n} from './constant/symbols';\n\nexport function isSimpleComponent(v: any): v is SimpleComponent<any, any> {\n\tif (typeof v !== 'function') { return false; }\n\treturn v[objectTypeSymbol] === objectTypeSymbolSimpleComponent;\n}\nexport function isShellComponent(v: any): v is ShellComponent<any, any> {\n\tif (typeof v !== 'function') { return false; }\n\treturn v[objectTypeSymbol] === objectTypeSymbolShellComponent;\n}\nexport function isNativeComponent(v: any):  v is NativeComponent<any, any, any> {\n\tif (typeof v !== 'function') { return false; }\n\treturn v[objectTypeSymbol] === objectTypeSymbolNativeComponent;\n}\nexport function isRenderComponent(v: any): v is RenderComponent<any, any, any> {\n\tif (typeof v !== 'function') { return false; }\n\treturn v[objectTypeSymbol] === objectTypeSymbolRenderComponent;\n}\nexport function isContainerComponent(v: any): v is ContainerComponent<any, any> {\n\tif (typeof v !== 'function') { return false; }\n\treturn v[objectTypeSymbol] === objectTypeSymbolContainerComponent;\n}\nexport function isElementComponent(v: any): v is ElementComponent<any, any> {\n\tif (typeof v !== 'function') { return false; }\n\treturn v[objectTypeSymbol] === objectTypeSymbolElementComponent;\n}\nexport function isDeliverComponent(v: any): v is DeliverComponent<any> {\n\tif (typeof v !== 'function') { return false; }\n\treturn v[objectTypeSymbol] === objectTypeSymbolDeliverComponent;\n}\n\nexport {\n\tisDeliverComponent as isDeliver,\n};\n","import { DeliverComponent } from '../../types';\nimport {\n\tdeliverKeySymbol,\n\tdeliverDefaultSymbol,\n} from '../../constant/symbols';\nimport { assert } from '../../Error';\nimport { isDeliver } from '../../is';\nimport { checkCurrent } from '../../extends/current';\n\nexport default function withDelivered<T>(deliver: DeliverComponent<T>): T {\n\tassert(isDeliver(deliver), 'The `deliver` is not a DeliverComponent.', 'deliver');\n\tconst { delivered } = checkCurrent('withDelivered');\n\tconst value = delivered[deliver[deliverKeySymbol] as any];\n\treturn value === undefined ? deliver[deliverDefaultSymbol] : value;\n}\n","import { checkCurrent } from '../../extends/current';\n\nfunction withRefresh(): void;\nfunction withRefresh<T>(f: () => T): T;\nfunction withRefresh<T>(f?: () =>  T): T | void;\nfunction withRefresh<T>(f?: () =>  T): T | void {\n\treturn checkCurrent('withRefresh').refresh(f);\n}\n\nexport default withRefresh;\n","import { ComponentEntity } from '../../types';\nimport { checkCurrent } from '../../extends/current';\n\nfunction withParent<T extends ComponentEntity<any, any>>(): T | undefined {\n\treturn checkCurrent('withParent').parent as T;\n}\nexport default withParent;\n","import { checkCurrent } from '../../extends/current';\n\nfunction withChildren<T>(): T[] {\n\treturn checkCurrent('withChildren').getChildren() as T[];\n}\nexport default withChildren;\n","import { checkCurrent, runCurrent } from '../../extends/current';\n\nfunction withCallback<R, P extends any[]>(fn: (...p: P) =>  R): (...p: P) =>  R {\n\tconst current = checkCurrent('withCallback');\n\treturn (...p) => runCurrent(current, undefined, fn, ...p);\n}\n\nexport default withCallback;\n","import {\n\tTag,\n\tElement,\n\tComponent,\n\tDeliverComponent,\n\tRenderComponent,\n} from '../../types';\nimport { objectTypeSymbol, objectTypeSymbolElement } from '../../constant/symbols';\n\nfunction createElementBase<T extends DeliverComponent<any>>(\n\ttag: T,\n\tattrs?: (T extends DeliverComponent<infer P> ? {value: P} : never),\n\t...children: any[]\n): Element;\nfunction createElementBase<P extends object, T extends Component<P> | RenderComponent<P, any, any>>(\n\ttag: T,\n\tattrs?: P,\n\t...children: any[]\n): Element;\nfunction createElementBase<T extends string>(\n\ttag: T,\n\tattrs?: Record<string, any>,\n\t...children: any[]\n): Element;\nfunction createElementBase<T extends Tag<any>>(\n\ttag: T,\n\tattrs?: Record<string, any> | null,\n\t...children: any[]\n): Element;\nfunction createElementBase<T extends Tag<any>>(\n\ttag: T,\n\tattrs?: Record<string, any> | null,\n\t...children: any[]\n): Element {\n\tconst props: Record<string, any> = typeof attrs === 'object' && attrs || {};\n\tconst node: Element = {\n\t\t[objectTypeSymbol]: objectTypeSymbolElement,\n\t\ttag,\n\t\tprops,\n\t\tchildren,\n\t\tkey: undefined,\n\t};\n\tif ('n:key' in props) { node.key = props['n:key']; }\n\tif ('n:slot' in props) { node.slot = props['n:slot']; }\n\treturn node;\n}\nexport default createElementBase;\n","export const ScopeSlot = 'core:scopeslot';\nexport const Render = 'core:render';\nexport const Slot = 'core:slot';\nexport const Container = 'core:container';\nexport const Template = 'template';\nexport const Fragment = Template;\n","import { Element } from '../../types';\nimport { objectTypeSymbol, objectTypeSymbolElement } from '../../constant/symbols';\nimport { Template } from '../../constant/tags';\n\n\nexport default function createTemplateElement(...children: any[]): Element {\n\treturn {\n\t\t[objectTypeSymbol]: objectTypeSymbolElement,\n\t\ttag: Template,\n\t\tchildren,\n\t};\n}\n","import {\n\tElement,\n} from '../../types';\nimport { objectTypeSymbol, objectTypeSymbolElement } from '../../constant/symbols';\n\n/**\n * 判读是否为元素\n */\nexport default function isElement(v: any): v is Element {\n\tif (!v) { return false; }\n\tif (typeof v !== 'object') { return false; }\n\treturn v[objectTypeSymbol] === objectTypeSymbolElement;\n}\n","import isElement from './isElement';\n\nexport default function equal(a: any, b: any): boolean {\n\tif (Object.is(a, b)) { return true; }\n\tif (!a) { return false; }\n\tif (!b) { return false; }\n\tif (typeof a !== 'object') { return false; }\n\tif (typeof b !== 'object') { return false; }\n\tif (Array.isArray(a)) {\n\t\tif (!Array.isArray(b)) { return false; }\n\t\tif (a.length !== b.length) { return false; }\n\t\tfor (let i = a.length - 1; i >= 0; i--) {\n\t\t\tif (!equal(a[i], b[i])) { return false; }\n\t\t}\n\t\treturn true;\n\t}\n\tif (Array.isArray(b)) { return false; }\n\tif (!isElement(a)) { return false; }\n\tif (!isElement(b)) { return false; }\n\tif (a.tag !== b.tag) { return false; }\n\tif (a.execed !== b.execed) { return false; }\n\tif (a.inserted !== b.inserted) { return false; }\n\tif (a.isDefault !== b.isDefault) { return false; }\n\tif (a.key !== b.key) { return false; }\n\tif (a.slot !== b.slot) { return false; }\n\tconst aprops = a.props;\n\tconst bprops = b.props;\n\tif (Object.is(aprops, bprops)) { return equal(a.children, b.children); }\n\tif (!aprops) { return false; }\n\tif (!bprops) { return false; }\n\tif (typeof aprops !== 'object') { return false; }\n\tif (typeof bprops !== 'object') { return false; }\n\tconst aKeys = new Set(Object.keys(aprops));\n\tconst bKeys = Object.keys(bprops);\n\tif (aKeys.size !== bKeys.length) { return false; }\n\tfor (const k of bKeys) {\n\t\tif (!aKeys.has(k)) { return false; }\n\t\tif (aprops[k] !== bprops[k]) { return false; }\n\t}\n\treturn equal(a.children, b.children);\n}\n","import { Element } from '../../types';\nimport { Render } from '../../constant/tags';\nimport isElement from './isElement';\n\nexport default function isRenderElement(v: any): v is Element<typeof Render> {\n\tif (!isElement(v)) { return false; }\n\tconst { tag } = v;\n\tif (typeof tag !== 'string') { return false; }\n\treturn tag.toLowerCase() === Render;\n}\n","import { isProduction } from '../../constant/info';\nimport { Label } from '../../types';\nimport { setLabels } from '../../extends/current';\n\n\nexport default function withLabel(...label: (string | Label)[]): void {\n\tif (!isProduction) {\n\t\tconst labels = label.filter(Boolean).map(t => typeof t === 'string' ? {text: t} : t);\n\t\tif (!setLabels) { return; }\n\t\tsetLabels(labels);\n\t}\n}\n","import { NativeNode, MountNode, MountedNode } from '../../types';\nimport { isProduction } from '../../constant/info';\nimport { markRead, markChange } from '../../install/monitorable';\n\nlet ids = 0;\nconst Nodes: {[key: number]: MountNode} = {};\nconst IdMap = isProduction ? undefined : new WeakMap<NativeNode, number>();\nexport function createMountedNode(\n\tn: MountNode,\n\tid?: number,\n): MountedNode {\n\tif (!isProduction) {\n\t\tid = id || ++ids;\n\t\tconst { node } = n;\n\t\tif (node && IdMap) { IdMap.set(node, id); }\n\t\tconst newNode = {...n, id} as MountedNode;\n\t\tNodes[id] = newNode;\n\t\tmarkChange(Nodes, id);\n\t\treturn newNode;\n\t}\n\treturn {...n, id: 0} as MountedNode;\n}\n\nexport function recoveryMountedNode(node: MountedNode): void {\n\tif (!isProduction) {\n\t\tdelete Nodes[node.id];\n\t}\n}\n\nexport function getNode(\n\tid: number | NativeNode,\n): MountNode | undefined {\n\tif (!isProduction) {\n\t\tif (typeof id !== 'number') {\n\t\t\tid = IdMap?.get(id) || -1;\n\t\t}\n\t\tmarkRead(Nodes, id);\n\t\treturn Nodes[id];\n\t}\n\treturn undefined;\n}\n","import { Element, ValueElement } from '../../types';\nimport { isElement } from '../../auxiliary';\n\n/** 强制转换为 Element */\n\nexport default function toElement(t: any): null | Element | ValueElement {\n\tif (t === false || t === null || t === undefined) {\n\t\treturn null;\n\t}\n\tif (isElement(t)) {\n\t\treturn t;\n\t}\n\treturn { key: t, props: { value: t }, children: [] };\n}\n","import {\n\tIRenderer,\n\n\tMountedNode,\n} from '../../../types';\nimport { createMountedNode } from '../../id';\n\n\nexport default function drawPlaceholder(renderer: IRenderer): MountedNode {\n\tconst node = renderer.createPlaceholder();\n\treturn createMountedNode({ tag: null, node });\n}\n","import {\n\tIRenderer,\n\tTreeNode,\n\tMountedNode,\n\n\tMountOptions,\n} from '../../../types';\nimport { createMountedNode } from '../../id';\nimport drawPlaceholder from './drawPlaceholder';\n\n\nexport default function createItem(\n\trenderer: IRenderer,\n\tmountOptions: MountOptions,\n\tsource: TreeNode | null,\n): MountedNode {\n\tif (!source) { return drawPlaceholder(renderer); }\n\tconst { proxy } = source;\n\tproxy.mount(mountOptions);\n\treturn createMountedNode({\n\t\t...source,\n\t\tnode: undefined,\n\t\tproxy,\n\t});\n}\n","import {\n\tIRenderer,\n\tTreeNode,\n\tMountedNode,\n\n\tMountOptions,\n} from '../../../types';\nimport createItem from './createItem';\nimport drawPlaceholder from './drawPlaceholder';\n\n\nexport default function createList(\n\trenderer: IRenderer,\n\tmountOptions: MountOptions,\n\tsource: TreeNode[],\n): MountedNode[] {\n\tif (source.length) {\n\t\treturn source.map(it => createItem(renderer, mountOptions, it));\n\t}\n\treturn [drawPlaceholder(renderer)];\n}\n","import {\n\tIRenderer,\n\tMountedNode,\n\tTreeNodeList,\n\tMountOptions,\n} from '../../../types';\nimport createItem from './createItem';\nimport createList from './createList';\nimport drawPlaceholder from './drawPlaceholder';\n\n\nexport default function createAll(\n\trenderer: IRenderer,\n\tmountOptions: MountOptions,\n\tsource: TreeNodeList,\n): (MountedNode | MountedNode[])[] {\n\tif (!source.length) {\n\t\treturn [drawPlaceholder(renderer)];\n\t}\n\n\treturn source.map(item =>\n\t\tArray.isArray(item)\n\t\t\t? createList(renderer, mountOptions, item)\n\t\t\t: createItem(renderer, mountOptions, item));\n}\n","import { IRenderer, MountedNode } from '../../types';\nimport { recoveryMountedNode } from '../id';\n\n\nexport type MountedNodes = MountedNode | MountedNode[]\n| (MountedNode | MountedNode[])[];\n\nexport default function unmount(renderer: IRenderer, tree?: MountedNodes): void {\n\tif (!tree) { return; }\n\tif (Array.isArray(tree)) {\n\t\ttree.forEach(e => unmount(renderer, e));\n\t\treturn;\n\t}\n\trecoveryMountedNode(tree);\n\tif (tree.proxy) {\n\t\tconst { proxy } = tree;\n\t\tproxy.unmount();\n\t\treturn;\n\t}\n\tif (tree.node) {\n\t\tconst { node } = tree;\n\t\trenderer.removeNode(node);\n\t}\n\tunmount(renderer, tree.children);\n}\n","import { NativeNode, MountNode } from '../../../types';\n\n\nexport type MountNodes = MountNode | MountNode[]\n| (MountNode | MountNode[])[];\n\n\nexport default function *getNodes(tree: MountNodes): Iterable<NativeNode> {\n\tif (Array.isArray(tree)) {\n\t\tfor (const it of tree) {\n\t\t\tyield *getNodes(it);\n\t\t}\n\t\treturn;\n\t}\n\tconst { node, proxy } = tree;\n\tif (node) {\n\t\tyield node;\n\t\treturn;\n\t}\n\tif (proxy) {\n\t\tyield *getNodes(proxy.tree);\n\t}\n}\n","import { NativeNode } from '../../../types';\nimport { MountNodes } from './getNodes';\n\n\nexport default function getFirstNode(tree: MountNodes): NativeNode {\n\tif (Array.isArray(tree)) { return getFirstNode(tree[0]); }\n\tif (tree.node) { return tree.node; }\n\treturn getFirstNode(tree.proxy.tree);\n}\n","import { IRenderer } from '../../../types';\nimport unmount, { MountedNodes } from '../unmount';\nimport getNodes, { MountNodes } from './getNodes';\nimport getFirstNode from './getFirstNode';\n\n\nexport default function drawReplace<T extends MountNodes>(\n\trenderer: IRenderer,\n\tnewTree: T,\n\toldTree: MountedNodes,\n): T {\n\tconst next = getFirstNode(oldTree);\n\tif (!next) { return newTree; }\n\tconst parentNode = renderer.getParent(next);\n\tif (!parentNode) { return newTree; }\n\tfor (const it of getNodes(newTree)) {\n\t\trenderer.insertNode(parentNode, it, next);\n\t}\n\tunmount(renderer, oldTree);\n\treturn newTree;\n}\n","import { NativeNode } from '../../../types';\nimport { MountNodes } from './getNodes';\n\nexport default function getLastNode(tree: MountNodes): NativeNode {\n\tif (Array.isArray(tree)) {\n\t\treturn getLastNode(tree[tree.length - 1]);\n\t}\n\tif (tree.node) { return tree.node; }\n\treturn getLastNode(tree.proxy.tree);\n}\n","import {\n\tIRenderer,\n\n\tTreeNode,\n\tMountedNode,\n\n\tMountOptions,\n} from '../../../types';\nimport { createMountedNode } from '../../id';\nimport createItem from '../create/createItem';\nimport unmount from '../unmount';\nimport drawReplace from './drawReplace';\nimport drawPlaceholder from '../create/drawPlaceholder';\n\n/**\n * 更新树节点\n * @param renderer Neep 对象\n * @param tree 已有树\n * @param source 用于替换的源\n */\nexport default function updateItem(\n\trenderer: IRenderer,\n\tmountOptions: MountOptions,\n\tsource: TreeNode | null,\n\ttree: MountedNode | MountedNode[],\n): MountedNode {\n\tif (!source) {\n\t\tif (Array.isArray(tree)) {\n\t\t\tif (tree.length === 1 && tree[0].tag === null) {\n\t\t\t\treturn tree[0];\n\t\t\t}\n\t\t} else if (tree.tag === null) {\n\t\t\treturn tree;\n\t\t}\n\t\treturn drawReplace(renderer, drawPlaceholder(renderer), tree);\n\t}\n\tif (Array.isArray(tree)) {\n\t\tconst index = tree.findIndex(it => it.tag === source.tag && it.proxy === source.proxy);\n\t\tif (index < 0) {\n\t\t\treturn drawReplace(renderer, createItem(renderer, mountOptions, source), tree);\n\t\t}\n\t\tconst all = tree;\n\t\t[tree] = tree.splice(index, 1);\n\t\tunmount(renderer, all);\n\t}\n\n\tif (source.proxy) {\n\t\tconst { proxy } = source;\n\t\tif (proxy !== tree.proxy) {\n\t\t\treturn drawReplace(renderer, createItem(renderer, mountOptions, source), tree);\n\t\t}\n\t\treturn createMountedNode({\n\t\t\t...source,\n\t\t\tnode: undefined,\n\t\t\tproxy,\n\t\t}, tree.id);\n\t}\n\tif (tree.proxy || source.tag !== tree.tag) {\n\t\treturn drawReplace(renderer, createItem(renderer, mountOptions, source), tree);\n\t}\n\tif (source.tag === undefined) { return tree; }\n\treturn drawReplace(renderer, createItem(renderer, mountOptions, source), tree);\n}\n","import {\n\tIRenderer,\n\tMountNode,\n\tTreeNode,\n\tMountedNode,\n\n\tMountOptions,\n} from '../../../types';\nimport createItem from '../create/createItem';\nimport unmount from '../unmount';\nimport getNodes from './getNodes';\nimport drawReplace from './drawReplace';\nimport drawPlaceholder from '../create/drawPlaceholder';\nimport getLastNode from './getLastNode';\nimport getFirstNode from './getFirstNode';\nimport updateItem from './updateItem';\n\nexport default function updateList(\n\trenderer: IRenderer,\n\tmountOptions: MountOptions,\n\tsource: TreeNode[],\n\ttree: MountedNode | MountedNode[],\n): MountedNode[] {\n\tif (!source.length) {\n\t\tconst node = drawPlaceholder(renderer);\n\t\treturn [drawReplace(renderer, node, tree)];\n\t}\n\tif (!Array.isArray(tree)) { tree = [tree]; }\n\tconst newList: MountedNode[] = [];\n\tconst list = [...tree];\n\tconst mountedMap = new Map<MountNode, MountNode>();\n\tfor (const src of source) {\n\t\tconst index = list.findIndex(it => it.tag === src.tag && it.key === src.key && it.proxy === src.proxy);\n\t\tif (index >= 0) {\n\t\t\tconst old = list[index];\n\t\t\tconst item = updateItem(renderer, mountOptions, src, old);\n\t\t\tmountedMap.set(old, item);\n\t\t\tnewList.push(item);\n\t\t\tlist.splice(index, 1);\n\t\t} else {\n\t\t\tconst item = createItem(renderer, mountOptions, src);\n\t\t\tnewList.push(item);\n\t\t}\n\t}\n\tif (!mountedMap.size) {\n\t\treturn drawReplace(renderer, newList, list);\n\t}\n\tunmount(renderer, list);\n\ttree = tree.filter(t => mountedMap.has(t));\n\tconst last = getLastNode(tree.map(t => mountedMap.get(t)).filter(Boolean) as MountNode[]);\n\tconst parentNode = renderer.getParent(last);\n\tif (!parentNode) { return newList; }\n\tlet next = renderer.nextNode(last);\n\t// 调整次序\n\tfor (let i = newList.length - 1; i >= 0; i--) {\n\t\tconst item = newList[i];\n\t\tconst index = tree.findIndex(o => mountedMap.get(o) === item);\n\t\tif (index >= 0) {\n\t\t\tfor (const it of tree.splice(index)) {\n\t\t\t\tmountedMap.delete(it);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (const it of getNodes(item)) {\n\t\t\t\trenderer.insertNode(parentNode, it, next);\n\t\t\t}\n\t\t}\n\t\tnext = getFirstNode(item) || next;\n\t}\n\treturn newList;\n}\n","import {\n\tIRenderer,\n\tMountedNode,\n\tTreeNodeList,\n\tMountOptions,\n} from '../../../types';\nimport createAll from '../create/createAll';\nimport createList from '../create/createList';\nimport createItem from '../create/createItem';\nimport unmount from '../unmount';\nimport getNodes from './getNodes';\nimport drawReplace from './drawReplace';\nimport getLastNode from './getLastNode';\nimport updateItem from './updateItem';\nimport updateList from './updateList';\n\n/**\n * 更新树\n * @param tree 已有树\n * @param source 用于替换的源\n * @param renderer Neep 对象\n */\n\n\nexport default function updateAll(\n\trenderer: IRenderer,\n\tmountOptions: MountOptions,\n\tsource: TreeNodeList,\n\ttree: (MountedNode | MountedNode[])[],\n): (MountedNode | MountedNode[])[] {\n\tif (source.length === 0) {\n\t\treturn drawReplace(renderer, createAll(renderer, mountOptions, []), tree);\n\t}\n\tlet index = 0;\n\tlet length = Math.min(source.length, tree.length);\n\tconst list: (MountedNode | MountedNode[])[] = [];\n\tfor (; index < length; index++) {\n\t\tconst src = source[index];\n\t\tif (Array.isArray(src)) {\n\t\t\tlist.push(updateList(renderer, mountOptions, src, tree[index]));\n\t\t} else {\n\t\t\tlist.push(updateItem(renderer, mountOptions, src, tree[index]));\n\t\t}\n\t}\n\tlength = Math.max(source.length, tree.length);\n\tif (tree.length > index) {\n\t\t// 销毁多余项\n\t\tfor (; index < length; index++) {\n\t\t\tunmount(renderer, tree[index]);\n\t\t}\n\t}\n\tif (source.length > index) {\n\t\t// 创建多余项\n\t\tconst last = getLastNode(list[list.length - 1]);\n\t\tconst parentNode = renderer.getParent(last);\n\t\tconst next = renderer.nextNode(last);\n\t\tfor (; index < length; index++) {\n\t\t\tconst src = source[index];\n\t\t\tconst item = Array.isArray(src)\n\t\t\t\t? createList(renderer, mountOptions, src)\n\t\t\t\t: createItem(renderer, mountOptions, src);\n\t\t\tlist.push(item);\n\t\t\tif (!parentNode) { continue; }\n\t\t\tfor (const it of getNodes(item)) {\n\t\t\t\trenderer.insertNode(parentNode, it, next);\n\t\t\t}\n\t\t}\n\t}\n\treturn list;\n}\n","import { IRenderer, TreeNodeList, MountOptions, MountedNode } from '../../types';\nimport updateAll from './update/updateAll';\nimport createAll from './create/createAll';\nexport { default as  unmount } from './unmount';\nexport { default as getNodes } from './update/getNodes';\nexport { default as drawReplace } from './update/drawReplace';\nexport { default as drawPlaceholder } from './create/drawPlaceholder';\n\nexport default function draw(\n\trenderer: IRenderer,\n\tmountOptions: MountOptions,\n\tsource: TreeNodeList,\n\ttree?: (MountedNode | MountedNode[])[],\n): (MountedNode | MountedNode[])[] {\n\tif (!tree) {\n\t\treturn createAll(renderer, mountOptions, source);\n\t}\n\treturn updateAll(renderer, mountOptions, source, tree);\n}\n","import {\n\tIRenderer,\n\tMountedNode,\n\tHookName,\n\tLabel,\n\tMountOptions,\n} from '../../types';\nimport { isProduction } from '../../constant/info';\nimport ContainerProxy from './ContainerProxy';\nimport { exec, defineProperty } from '../../install/monitorable';\nimport ComponentProxy from './ComponentProxy';\n\nlet completeList: (() => void)[] | undefined;\nexport function setCompleteList(list?: (() => void)[]): void {\n\tcompleteList = list;\n}\nexport function complete(it: () => void): void {\n\tif (!completeList) {\n\t\tit();\n\t} else {\n\t\tcompleteList.push(it);\n\t}\n}\n\n\nexport default abstract class BaseProxy<TTag> {\n\treadonly tag: TTag;\n\tattrs: Record<string, any>;\n\treadonly renderer: IRenderer;\n\n\tlabels?: Label[];\n\t/** 父组件 */\n\treadonly parentProxy?: BaseProxy<any>;\n\t/** 呈递值 */\n\treadonly delivered: Record<any, any>;\n\t/** 状态 */\n\tcreated: boolean = false;\n\tdestroyed: boolean = false;\n\tmounted: boolean = false;\n\tunmounted: boolean = false;\n\t/** The subtree mounted on the parent node */\n\ttree: (MountedNode | MountedNode[])[] = [];\n\t/** 所属容器 */\n\tabstract readonly container: ContainerProxy<any>;\n\t/** 渲染组件根部，如果自身是 ComponentProxy 则为自身 */\n\tabstract readonly componentRoot?: ComponentProxy<any, any, any, any>;\n\n\tabstract get content():  (MountedNode | MountedNode[])[];\n\treadonly originalTag: any;\n\n\n\tconstructor(\n\t\trenderer: IRenderer,\n\t\toriginalTag: any,\n\t\ttag: any,\n\t\tattrs: any,\n\t\tparent?: BaseProxy<any>,\n\t\tdelivered?: Record<any, any>,\n\t) {\n\t\tthis.originalTag = originalTag;\n\t\tthis.tag = tag;\n\t\tthis.renderer = renderer;\n\t\tthis.attrs = attrs;\n\n\t\tthis.parentProxy = parent;\n\t\tthis.delivered = delivered || parent?.delivered || Object.create(null);\n\t\tif (!isProduction) { defineProperty(this, 'tree', []); }\n\t}\n\n\n\t/** 请求绘制 */\n\tprotected abstract requestDraw(): void;\n\n\tabstract callHook<H extends HookName>(id: H): void;\n\tabstract callHook(id: string): void;\n\n\t/** 更新属性及子代 */\n\tabstract _update(props: object, children: any[]): void;\n\t/** 更新属性及子代 */\n\tupdate(attrs: Record<string, any>, children: any[]): void {\n\t\tthis.attrs = attrs;\n\t\tthis._update(attrs, children);\n\t}\n\n\n\tprivate __executed_destroy = false;\n\tprotected abstract _destroy(): void;\n\tdestroy(): boolean {\n\t\tif (this.__executed_destroy) { return false; }\n\t\tthis.__executed_destroy = true;\n\t\tthis.callHook('beforeDestroy');\n\t\tthis._destroy();\n\t\tthis.callHook('destroyed');\n\t\tthis.destroyed = true;\n\t\treturn true;\n\t}\n\n\n\tprivate __mountOptions: MountOptions | null = null;\n\tprotected abstract _mount(mountOptions: MountOptions): MountOptions | void;\n\tprivate __cancelDrawMonitor?: () => void;\n\tmount(mountOptions: MountOptions): boolean {\n\t\tif (this.__executed_destroy) { return false; }\n\t\tif (!mountOptions) { return false; }\n\t\tif (this.__mountOptions) { return false; }\n\t\tthis.__mountOptions = mountOptions;\n\t\tthis.callHook('beforeMount');\n\t\tconst result = exec(\n\t\t\tc => c && this.requestDraw(),\n\t\t\t() => {\n\t\t\t\tconst newMountOptions = this._mount(mountOptions);\n\t\t\t\tthis.__mountOptions = newMountOptions || mountOptions;\n\t\t\t\tthis.mounted = true;\n\t\t\t},\n\t\t);\n\t\tthis.__cancelDrawMonitor = result.stop;\n\t\tcomplete(() => this.callHook('mounted'));\n\t\treturn true;\n\t}\n\n\tprivate __executed_unmounted = false;\n\tprotected abstract _unmount(): void;\n\tunmount(): boolean {\n\t\tif (!this.mounted) { return false; }\n\t\tif (this.__executed_unmounted) { return false; }\n\t\tthis.__executed_unmounted = true;\n\t\tthis.callHook('beforeUnmount');\n\t\tthis._unmount();\n\t\tthis.callHook('unmounted');\n\t\tthis.unmounted = true;\n\t\treturn true;\n\t}\n\n\tprotected abstract _redraw(mountOptions: MountOptions): void;\n\tredraw(): void {\n\t\tif (this.__executed_destroy) { return; }\n\t\tif (!this.mounted) { return; }\n\t\tconst mountOptions = this.__mountOptions;\n\t\tif (!mountOptions) { return; }\n\t\tif (this.__cancelDrawMonitor) {\n\t\t\tthis.__cancelDrawMonitor();\n\t\t}\n\t\tthis.callHook('beforeDraw');\n\t\tconst result = exec(\n\t\t\tc => c && this.requestDraw(),\n\t\t\t() => this._redraw(mountOptions),\n\t\t);\n\t\tthis.__cancelDrawMonitor = result.stop;\n\n\t\tcomplete(() => this.callHook('drawn'));\n\t}\n}\n","import BaseProxy from './BaseProxy';\nimport { ContainerProxy } from '../../exports';\nimport ComponentProxy from './ComponentProxy';\n\nexport default abstract class NodeProxy<\n\tTTag,\n> extends BaseProxy<TTag> {\n\t/** 所属容器 */\n\treadonly container: ContainerProxy<any>;\n\t/** 渲染组件根部，如果自身是 ComponentProxy 则为自身 */\n\treadonly componentRoot?: ComponentProxy<any, any, any, any>;\n\n\tconstructor(\n\t\toriginalTag: any,\n\t\ttag: TTag,\n\t\tattrs: Record<string, any>,\n\t\tchildren: any[],\n\t\tparent: BaseProxy<any>,\n\t\tdelivered?: Record<any, any>,\n\t) {\n\t\tsuper(\n\t\t\tparent.renderer,\n\t\t\toriginalTag,\n\t\t\ttag,\n\t\t\tattrs,\n\t\t\tparent,\n\t\t\tdelivered,\n\t\t);\n\t\tthis.container = parent.container;\n\t\tthis.componentRoot = parent.componentRoot;\n\t}\n\n\trequestDraw(): void {\n\t\tif (!this.mounted) { return; }\n\t\tif (this.destroyed) { return; }\n\t\tthis.container.markDraw(this);\n\t}\n\tcallHook(id: string): void {\n\t}\n}\n","let delayedRefresh = 0;\nconst objectSet = new Set<{refresh(): void}>();\nexport function wait(obj: {refresh(): void}): boolean {\n\tif (delayedRefresh <= 0) { return false; }\n\tobjectSet.add(obj);\n\treturn true;\n}\nfunction run(): void {\n\tif (delayedRefresh > 0) { return; }\n\tconst list = [...objectSet];\n\tobjectSet.clear();\n\tlist.forEach(o => o.refresh());\n}\nasync function asyncRefresh<T>(f: () => PromiseLike<T> | T): Promise<T> {\n\ttry {\n\t\tdelayedRefresh++;\n\t\treturn await f();\n\t} finally {\n\t\tdelayedRefresh--;\n\t\trun();\n\t}\n}\nfunction delayRefresh<T>(f: () => T, async?: false): T;\nfunction delayRefresh<T>(\n\tf: () => PromiseLike<T> | T,\n\tasync: true,\n): Promise<T>;\nfunction delayRefresh<T>(\n\tf: () => PromiseLike<T> | T,\n\tasync?: boolean,\n): PromiseLike<T> | T;\nfunction delayRefresh<T>(\n\tf: () => PromiseLike<T> | T,\n\tasync?: boolean,\n): PromiseLike<T> | T {\n\tif (async) { return asyncRefresh(f); }\n\ttry {\n\t\tdelayedRefresh++;\n\t\treturn f();\n\t} finally {\n\t\tdelayedRefresh--;\n\t\trun();\n\t}\n}\nexport default  delayRefresh;\n","import { ContextData, WithData } from '../types';\nimport { runCurrent, checkCurrent } from './current';\nconst destroyFns: Record<string, (c: any) => void> = Object.create(null);\nlet nextId = 0;\n\ninterface WithState {\n\tdestroyed: boolean;\n\tisSimple: boolean;\n\tisShell: boolean;\n}\nexport function createWith<T>(p: {\n\tname: string,\n\tcreate?: (withState: WithState) => T,\n\texec?: undefined,\n\tdestroy?: ((c: T) => void),\n}): () => T;\nexport function createWith<T, P extends any[], R>(p: {\n\tname: string,\n\tcreate?: (withState: WithState) => T,\n\texec: (c: T, withState: WithState, ...p: P) => R\n\tdestroy?: (c: T) => void,\n}): (...p: P) => R;\nexport function createWith<T, P extends any[], R>(p: {\n\tname: string,\n\tcreate?: (withState: WithState) => T,\n\texec?: ((c: T, ...p: P) => R),\n\tdestroy?: ((c: T) => void),\n}): ((...p: P) => R) | (() => T);\nexport function createWith<T, P extends any[], R>({\n\tname,\n\tcreate = () => ({}) as T,\n\tdestroy,\n\texec,\n}: {\n\tname: string,\n\tcreate?: (withState: WithState) => T,\n\texec?: ((c: T, withState: WithState, ...p: P) => R),\n\tdestroy?: ((c: T) => void),\n}): ((...p: P) => R) | (() => T) {\n\tconst id = nextId++;\n\tif (typeof destroy === 'function') {\n\t\tdestroyFns[id] = destroy;\n\t}\n\tif (typeof exec === 'function') {\n\t\treturn (...p: P) => {\n\t\t\tconst current = checkCurrent(name);\n\t\t\tconst {withData, destroyed, isSimple, isShell} = current;\n\t\t\tif (!(id in withData)) {\n\t\t\t\twithData[id] = create({destroyed, isSimple, isShell});\n\t\t\t}\n\t\t\treturn exec(withData[id], {destroyed, isSimple, isShell}, ...p);\n\t\t};\n\t}\n\treturn () => {\n\t\tconst current = checkCurrent(name);\n\t\tconst {withData} = current;\n\t\tif (!(id in withData)) {\n\t\t\tconst {destroyed, isSimple, isShell} = current;\n\t\t\twithData[id] = create({destroyed, isSimple, isShell});\n\t\t}\n\t\treturn withData[id];\n\t};\n}\n\nexport function destroyContextData(contextData: WithData): void {\n\tconst keys = Object.keys(contextData);\n\tfor (const id of keys) {\n\t\tif (!(id in destroyFns)) { continue; }\n\t\tconst destroy = destroyFns[id];\n\t\tdestroy(contextData[id]);\n\t}\n}\n\nexport function createBy(contextData: ContextData): <P extends any[], R>(fn: (...p: P) => R, ...p: P) => R {\n\treturn function by(fn, ...p) {\n\t\treturn runCurrent(contextData, undefined, fn, ...p);\n\t};\n}\n","import {\n\tSlots,\n\tIRenderer,\n\tSlotApi,\n\tElement,\n} from '../types';\nimport {\n\tisElement,\n\tequal,\n\tisValue,\n} from '../auxiliary';\nimport {\n\tRender,\n\tTemplate,\n\tScopeSlot,\n} from '../constant/tags';\nimport { isSimpleComponent } from '../is';\nimport { markRead, markChange } from '../install/monitorable';\nimport { objectTypeSymbol, objectTypeSymbolElement } from '../constant/symbols';\n\n/**\n * 获取槽元素\n * @param renderer 渲染函数\n * @param children 子代\n * @param slots 槽列表\n * @param native 是否为原生组件\n * @returns 原生节点\n */\nexport function getSlots(\n\trenderer: IRenderer,\n\tchildren: any[],\n\tslots: Record<string | symbol, any[]>,\n\tnative = false,\n): any[] {\n\t/** 原始对象 */\n\tconst nativeList: any[] = [];\n\tfor (const it of children) {\n\t\tif (Array.isArray(it)) {\n\t\t\tconst list: Record<string | symbol, any[]>\n\t\t\t\t= Object.create(null);\n\t\t\tnativeList.push(getSlots(renderer, it, list, native));\n\t\t\tfor (const k of Reflect.ownKeys(list) as string[]) {\n\t\t\t\tif (k in slots) {\n\t\t\t\t\tslots[k].push(list[k]);\n\t\t\t\t} else {\n\t\t\t\t\tslots[k] = [list[k]];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\t\tif (isElement(it) && it.slot === undefined) {\n\t\t\tif (isSimpleComponent(it.tag) && it.execed || it.tag === Template) {\n\t\t\t\tconst list: Record<string | symbol, any[]>\n\t\t\t\t= Object.create(null);\n\t\t\t\tnativeList.push(getSlots(renderer, it.children, list, native));\n\t\t\t\tfor (const k of Reflect.ownKeys(list) as string[]) {\n\t\t\t\t\tconst node = { ...it, children: list[k] };\n\t\t\t\t\tif (k in slots) {\n\t\t\t\t\t\tslots[k].push(node);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tslots[k] = [node];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tif (native) {\n\t\t\tif (renderer.isNode(it)) {\n\t\t\t\tnativeList.push(it);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (!isElement(it)) {\n\t\t\t\tnativeList.push(it);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (it.tag !== Render && it.tag !== Template) {\n\t\t\t\tnativeList.push(it);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tconst slot = isElement(it) && it.slot || 'default';\n\t\tconst el = isElement(it) ? {\n\t\t\t...it, slot: undefined,\n\t\t\tprops: {...it.props, 'n:slot': undefined },\n\t\t} : it;\n\t\tif (slot in slots) {\n\t\t\tslots[slot].push(el);\n\t\t} else {\n\t\t\tslots[slot] = [el];\n\t\t}\n\t}\n\treturn nativeList;\n}\n\nexport function setSlot(\n\tslots: Slots,\n\tname: string,\n\tlist?: any[],\n): any[] | undefined {\n\tReflect.defineProperty(slots, name, {\n\t\tget() {\n\t\t\tmarkRead(slots, name);\n\t\t\treturn list;\n\t\t},\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n\tmarkChange(slots, name);\n\treturn list;\n}\n/**\n * 将槽子代设置到槽列表上\n * @param children 槽子代\n * @param slots 槽对象\n */\nexport function setSlots(\n\tchildren: {[key: string]: any[]},\n\tslots?: Slots,\n\toldChildren?: {[key: string]: any[]},\n): Slots {\n\tif (!slots) {\n\t\tconst slots = Object.create(null);\n\t\tfor (const k of Reflect.ownKeys(children) as string[]) {\n\t\t\tslots[k] = children[k];\n\t\t}\n\t\treturn slots;\n\t}\n\tfor (const name of Reflect.ownKeys(slots)) {\n\t\tif (name in children) { continue; }\n\t\tsetSlot(slots, name as string);\n\t}\n\tif (!oldChildren) {\n\t\tfor (const name of Reflect.ownKeys(children) as string[]) {\n\t\t\tconst list = children[name];\n\t\t\tsetSlot(slots, name, list);\n\t\t}\n\t\treturn slots;\n\t}\n\tfor (const name of Reflect.ownKeys(children) as string[]) {\n\t\tconst list = children[name];\n\t\tif (equal(list, oldChildren[name])) { continue; }\n\t\tsetSlot(slots, name, list);\n\t}\n\treturn slots;\n}\n\nexport function renderSlot(list: any[], argv: any): any[] {\n\treturn list.map(it => {\n\t\tif (Array.isArray(it)) {\n\t\t\treturn renderSlot(it, argv);\n\t\t}\n\t\tif (!isElement(it)) { return it; }\n\t\tif (it.tag !== Render) {\n\t\t\treturn {\n\t\t\t\t...it,\n\t\t\t\tslot: undefined,\n\t\t\t} as Element;\n\t\t}\n\t\tconst { children } = it;\n\t\tif (children?.length !== 1) { return children; }\n\t\tconst [ render ] = children;\n\t\tif (isValue(render) || typeof render !== 'function') { return children; }\n\t\treturn render(argv);\n\t});\n}\n\nfunction getSlot(slots: Slots, name: string, isSimple: boolean):  any[] | undefined {\n\treturn isSimple || name in slots\n\t\t? slots[name]\n\t\t: setSlot(slots, name);\n}\n\nexport function createSlotApi(\n\tslots: Slots,\n\tisSimple = false,\n): SlotApi {\n\tfunction slotApi(name: string = 'default', argv = {}): Element {\n\t\tconst list = getSlot(slots, name, isSimple);\n\t\treturn {\n\t\t\t[objectTypeSymbol]: objectTypeSymbolElement,\n\t\t\ttag: ScopeSlot,\n\t\t\tchildren: list ? renderSlot(list, argv) : [],\n\t\t\tinserted: true,\n\t\t\tslot: name,\n\t\t\tisDefault: !list,\n\t\t};\n\t}\n\tslotApi.has = (name: string = 'default') => Boolean(getSlot(slots, name, isSimple));\n\treturn slotApi;\n}\n","import { markRead, markChange, printError } from './install/monitorable';\nimport { Emit, On, Listener, EventInfo } from './types';\nimport delayRefresh from './extends/delayRefresh';\n\nfunction createEmit<T, E extends Record<string, any>>(\n\temitter: EventEmitter<T, E>,\n\tomitNames: (string | number | symbol)[] = [],\n): Emit<E> {\n\tconst emit = <N extends keyof E & string>(\n\t\tname: N,\n\t\tp: E[N],\n\t\toptions?: any,\n\t): boolean => delayRefresh(() => {\n\t\tconst cancelable = Boolean(options?.cancelable);\n\t\tconst {target} = emitter;\n\t\tlet defaultPrevented = true;\n\t\tconst eventInfo: EventInfo<any> = {\n\t\t\tget target() { return target; },\n\t\t\tget cancelable() { return cancelable; },\n\t\t\tget defaultPrevented() { return defaultPrevented; },\n\t\t\tget prevented() { return defaultPrevented; },\n\t\t\tpreventDefault() { defaultPrevented = false; },\n\t\t\tprevent() { defaultPrevented = false; },\n\t\t};\n\t\tconst events = emitter.events[name];\n\t\tif (!events) { return defaultPrevented; }\n\t\tfor (const event of events) {\n\t\t\tevent(p, eventInfo);\n\t\t}\n\t\treturn defaultPrevented;\n\t});\n\temit.omit = (...names: string[]) => createEmit(emitter, [...omitNames, ...names]);\n\tReflect.defineProperty(emit, 'names', {\n\t\tget:() => {\n\t\t\tmarkRead(createEmit, 'names');\n\t\t\treturn [...emitter.names]\n\t\t\t\t.filter(t => !omitNames.includes(t));\n\t\t},\n\t\tconfigurable: true,\n\t});\n\treturn emit as any as Emit<E>;\n}\n\nexport default class EventEmitter<T, E extends Record<string, any> = Record<string, any>> {\n\n\tprivate readonly _names = new Set<keyof E>();\n\tget names(): (keyof E)[] { markRead(this, 'names'); return [...this._names]; }\n\treadonly events: Record<string, Set<Listener<T, any>> | undefined> = Object.create(null);\n\treadonly emit: Emit<E> = createEmit(this);\n\treadonly on: On<T, E>;\n\ttarget?: T;\n\tconstructor() {\n\t\tconst names = this._names;\n\t\tconst eventSet = this.events;\n\n\t\tconst on = (name: string, listener: Listener<T, any>): (() => void) => {\n\t\t\tfunction fn(p: any, event: EventInfo<T>): void {\n\t\t\t\ttry {\n\t\t\t\t\tlistener(p, event);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tprintError(e);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet event = eventSet[name];\n\t\t\tif (!event?.size) {\n\t\t\t\tevent = new Set();\n\t\t\t\tevent.add(fn);\n\t\t\t\teventSet[name] = event;\n\t\t\t\tnames.add(name);\n\t\t\t\tmarkChange(this, 'names');\n\t\t\t} else {\n\t\t\t\tevent.add(fn);\n\t\t\t}\n\t\t\tlet removed = false;\n\t\t\treturn () => {\n\t\t\t\tif (removed) { return; }\n\t\t\t\tremoved = true;\n\t\t\t\tif (!event) { return; }\n\t\t\t\tevent.delete(fn);\n\t\t\t\tif (event.size) { return; }\n\t\t\t\tnames.delete(name);\n\t\t\t\tmarkChange(this, 'names');\n\t\t\t};\n\t\t};\n\t\tthis.on = on;\n\t}\n\tprivate readonly __propsEvents:\n\tRecord<string, [Listener<T, any>, () => void]>\n\t= Object.create(null);\n\tprivate readonly __eventMap:\n\tRecord<string, [Listener<T, any>, () => void]>\n\t= Object.create(null);\n\tprivate readonly __propsEmitEvents:\n\tRecord<string, () => void>\n\t= Object.create(null);\n\tprivate __propsEmitEvent?: Emit;\n\n\tupdateInProps(props: any): void {\n\n\t\tconst oldPropsEvents = this.__propsEvents;\n\t\tconst oldEventNames = new Set(Object.keys(oldPropsEvents));\n\t\tfor (const [entName, fn] of getEvents(props)) {\n\t\t\tif (oldEventNames.has(entName)) {\n\t\t\t\toldEventNames.delete(entName);\n\t\t\t\tconst [olfFn, cl] = oldPropsEvents[entName] || [];\n\t\t\t\tif (olfFn === fn) { continue; }\n\t\t\t\tif (cl) { cl(); }\n\t\t\t}\n\t\t\toldPropsEvents[entName] = [fn, this.on(entName, fn)];\n\t\t}\n\t\tfor (const entName of oldEventNames) {\n\t\t\tconst e = oldPropsEvents[entName];\n\t\t\tif (!e) { continue; }\n\t\t\te[1]();\n\t\t\tdelete oldPropsEvents[entName];\n\t\t}\n\n\t\tconst eventMap = this.__eventMap;\n\t\tconst oldEventMapNames = new Set(Object.keys(eventMap));\n\t\tfor (const [entName, fn] of getEventsMap(props)) {\n\t\t\tif (oldEventMapNames.has(entName)) {\n\t\t\t\toldEventMapNames.delete(entName);\n\t\t\t\tconst [olfFn, cl] = eventMap[entName] || [];\n\t\t\t\tif (olfFn === fn) { continue; }\n\t\t\t\tif (cl) { cl(); }\n\t\t\t}\n\t\t\teventMap[entName] = [fn, this.on(entName, fn)];\n\t\t}\n\t\tfor (const entName of oldEventMapNames) {\n\t\t\tconst e = eventMap[entName];\n\t\t\tif (!e) { continue; }\n\t\t\te[1]();\n\t\t\tdelete eventMap[entName];\n\t\t}\n\n\n\t\tconst oldEmitEvents = this.__propsEmitEvents;\n\t\tconst eventsFn = getEmitFn(props);\n\t\tif (eventsFn !== this.__propsEmitEvent) {\n\t\t\tthis.__propsEmitEvent = eventsFn;\n\t\t\tfor (const entName of [...Object.keys(oldEmitEvents)]) {\n\t\t\t\tconst e = oldEmitEvents[entName];\n\t\t\t\tif (!e) { continue; }\n\t\t\t\te();\n\t\t\t\tdelete oldEmitEvents[entName];\n\t\t\t}\n\t\t\tif (!eventsFn) { return; }\n\t\t\tconst {names} = eventsFn;\n\t\t\tif (!Array.isArray(names)) { return; }\n\t\t\tfor (const n of names) {\n\t\t\t\toldEmitEvents[n] = this.on(n, p => eventsFn(n, p));\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (!eventsFn) { return; }\n\t\tconst oldNames = new Set(Object.keys(oldEmitEvents));\n\t\tconst names = eventsFn.names || [];\n\t\tfor (const n of names) {\n\t\t\tif (!n) { continue; }\n\t\t\toldNames.delete(n);\n\t\t\tif (oldNames.has(n)) { continue; }\n\t\t\toldEmitEvents[n] = this.on(n, p => eventsFn(n, p));\n\t\t}\n\t\tfor (const entName of oldNames) {\n\t\t\tconst e = oldEmitEvents[entName];\n\t\t\tif (!e) { continue; }\n\t\t\te();\n\t\t\tdelete oldEmitEvents[entName];\n\t\t}\n\t}\n}\nfunction *getEvents(p: any): IterableIterator<[string, Listener<any, any>]> {\n\tif (!p) { return; }\n\n\tfor (const k of Object.keys(p)) {\n\t\tconst fn = p[k];\n\t\tif (typeof fn !== 'function') { continue; }\n\t\tif (k.substr(0, 3) !== 'on:') { continue; }\n\t\tconst entName =  k.substr(3);\n\t\tif (!entName) { continue; }\n\t\tyield [entName, fn];\n\t}\n}\n\nfunction *getEventsMap(p: any): IterableIterator<[string, Listener<any, any>]> {\n\tif (!p) { return; }\n\tconst events = p['n:on'];\n\tif (!events) { return; }\n\tif (typeof events === 'object') { return; }\n\tfor (const k of Object.keys(p)) {\n\t\tconst fn = p[k];\n\t\tif (typeof fn !== 'function') { continue; }\n\t\tyield [k, fn];\n\t}\n}\n\nfunction getEmitFn(p: any): Emit | undefined {\n\tif (!p) { return; }\n\tlet eventsFn = p?.['n:on'] as Emit | undefined;\n\tif (typeof eventsFn !== 'function') { return; }\n\treturn eventsFn;\n}\n","\nimport { Emit } from '../../types';\nimport EventEmitter from '../../EventEmitter';\n\nexport default function createSimpleEmit(props?: Record<string, any>): Emit<Record<string, any>> {\n\tconst event = new EventEmitter();\n\tevent.updateInProps(props);\n\treturn event.emit;\n}\n","\nimport { Component } from '../../types';\n\n\nexport default function getComponents(\n\t...components: (Record<string, Component<any>> | undefined | null)[]\n): Record<string, Component<any>>[] {\n\treturn components.filter(Boolean) as Record<string, Component<any>>[];\n}\n","import { isElement } from '../../auxiliary';\nimport { Fragment } from '../../constant/tags';\n\nexport function getNodeArray(result: any): any[] {\n\tif (Array.isArray(result)) { return result; }\n\tif (!isElement(result)) { return [result]; }\n\tif (result.tag !== Fragment) { return [result]; }\n\treturn result.children;\n}\n","import { Component } from './types';\n\nexport const components: Record<string, Component<any>> = Object.create(null);\n\nexport default function register(\n\tname: string,\n\tcomponent: Component<any>,\n): void {\n\tcomponents[name] = component;\n}\n","import { Component } from '../../types';\nimport {\n\tFragment,\n\tRender,\n\tSlot,\n\tScopeSlot,\n\tContainer,\n} from '../../constant/tags';\nimport { components as globalComponents } from '../../register';\n\n\nexport function findComponent(\n\ttag: any,\n\tcomponents: Record<string, Component<any>>[],\n\tnative?: boolean,\n): Component<any> | string | null {\n\tif (!tag) { return null; }\n\tif (typeof tag !== 'string') { return tag; }\n\tif (/^core:/i.test(tag)) {\n\t\tlet ltag = tag.toLowerCase();\n\t\tif (ltag === Container) { return ltag; }\n\t\tif (ltag === ScopeSlot) { return ltag; }\n\t\tif (ltag === Render) { return ltag; }\n\t\tif (ltag === Slot) { return native ? 'slot' : ScopeSlot; }\n\t\treturn Fragment;\n\t}\n\tif (tag === Fragment) { return tag; }\n\tif (tag === 'slot') { return tag; }\n\tfor (const list of components) {\n\t\tconst component = list[tag];\n\t\tif (component) { return component; }\n\t}\n\treturn globalComponents[tag] || tag;\n}\n","import { getNodeArray } from './getNodeArray';\n\nexport function getChildren(children: any[], args: any): any[] {\n\tif (children.length !== 1) { return children; }\n\tconst [fn] = children;\n\tif (typeof fn !== 'function') { return children; }\n\treturn getNodeArray(fn(args));\n}\n","import { Slots } from '../../types';\nimport {\n\tgetSlots,\n\tsetSlots,\n} from '../slot';\nimport { NormalizeAuxiliaryObject } from './index';\n\nexport function createSimpleSlots(\n\tnormalizeAuxiliaryObject: NormalizeAuxiliaryObject,\n\tchildren: any[],\n): Slots {\n\tconst slotMap = Object.create(null);\n\tgetSlots(normalizeAuxiliaryObject.renderer, children, slotMap);\n\treturn setSlots(slotMap);\n}\n","\nimport {\n\tElement,\n\tSlots,\n\tSimpleComponent,\n\tComponent,\n\tContextData,\n\tComponentEntity,\n\tIRenderer,\n} from '../../types';\nimport {\n\tcomponentsSymbol,\n\tobjectTypeSymbol,\n\tobjectTypeSymbolElement,\n} from '../../constant/symbols';\nimport { Render, ScopeSlot } from '../../constant/tags';\nimport { isValue, postpone } from '../../install/monitorable';\n\nimport { isSimpleComponent } from '../../is';\n\nimport { isElement } from '../../auxiliary';\nimport delayRefresh from '../../extends/delayRefresh';\nimport { createBy } from '../../extends/with';\nimport { runCurrent } from '../../extends/current';\n\nimport ComponentProxy from '../proxy/ComponentProxy';\nimport {\n\tcreateSlotApi,\n\tsetSlot,\n\trenderSlot,\n} from '../slot';\n\nimport createSimpleEmit from './createSimpleEmit';\nimport getComponents from './getComponents';\nimport { getNodeArray } from './getNodeArray';\nimport { findComponent } from './findComponent';\nimport { getChildren } from './getChildren';\nimport { createSimpleSlots } from './createSimpleSlots';\n\nexport interface NormalizeAuxiliaryObject {\n\trefresh: (f?: () => void) => void;\n\tslotRenderFnList: WeakMap<Function, Function>;\n\tdelivered: Record<any, any>;\n\tsimpleParent: ComponentEntity<any, any> | undefined;\n\trenderer: IRenderer;\n}\n\nfunction createSimpleContextData(\n\tnormalizeAuxiliaryObject: NormalizeAuxiliaryObject,\n): ContextData {\n\treturn {\n\t\tisShell: false,\n\t\tisSimple: true,\n\t\tcreated: false,\n\t\tdestroyed: true,\n\t\tdelivered: normalizeAuxiliaryObject.delivered,\n\t\twithData: {},\n\t\trefresh: normalizeAuxiliaryObject.refresh,\n\t\tparent: normalizeAuxiliaryObject.simpleParent,\n\t\tgetChildren: () => [],\n\t};\n}\n\nfunction execSimple(\n\tnormalizeAuxiliaryObject: NormalizeAuxiliaryObject,\n\tnode: Element,\n\ttag: SimpleComponent<any, any>,\n\tcomponents: Record<string, Component<any>>[],\n\tchildren: any[],\n): Element {\n\tconst slots = createSimpleSlots(normalizeAuxiliaryObject, children);\n\tconst contextData = createSimpleContextData(normalizeAuxiliaryObject);\n\n\tconst result = runCurrent(contextData, undefined, tag, {...node.props}, {\n\t\tby: createBy(contextData),\n\t\tslot: createSlotApi(slots, true),\n\t\tchildNodes: () => children,\n\t\temit: createSimpleEmit(node.props),\n\t});\n\tconst nodes = init(\n\t\tnormalizeAuxiliaryObject,\n\t\tgetNodeArray(result),\n\t\tslots,\n\t\tgetComponents(...components, tag[componentsSymbol]),\n\t\tfalse,\n\t\ttrue,\n\t);\n\n\treturn {\n\t\t...node,\n\t\ttag,\n\t\texeced: true,\n\t\tchildren: Array.isArray(nodes) ? nodes : [nodes],\n\t};\n}\n\nfunction getSlotRenderFn(\n\tnormalizeAuxiliaryObject: NormalizeAuxiliaryObject,\n\tchildren: any[],\n\tslots: Slots,\n\tcomponents: Record<string, Component<any>>[],\n\tnative: boolean,\n): null | Function {\n\tif (children.length !== 1) { return null; }\n\tconst [renderFn] = children;\n\tif (isValue(renderFn) || typeof renderFn !== 'function') { return null; }\n\tconst { slotRenderFnList } = normalizeAuxiliaryObject;\n\tconst fn = slotRenderFnList.get(renderFn);\n\tif (fn) { return fn; }\n\tconst newFn = function(this: any, ...p: any[]): any[] {\n\t\treturn init(\n\t\t\tnormalizeAuxiliaryObject,\n\t\t\trenderFn.call(this, ...p),\n\t\t\tslots,\n\t\t\tcomponents,\n\t\t\tnative,\n\t\t\tfalse,\n\t\t);\n\t};\n\tslotRenderFnList.set(renderFn, newFn);\n\treturn newFn;\n}\n\n\nfunction exec<T>(\n\tnode: T[],\n\tnormalizeAuxiliaryObject: NormalizeAuxiliaryObject,\n\tslots: Slots,\n\tcomponents: Record<string, Component<any>>[],\n\tnative: boolean,\n\tsimpleSlot: boolean,\n): (T | Element)[];\nfunction exec<T>(\n\tnode: T,\n\tnormalizeAuxiliaryObject: NormalizeAuxiliaryObject,\n\tslots: Slots,\n\tcomponents: Record<string, Component<any>>[],\n\tnative: boolean,\n\tsimpleSlot: boolean,\n): T | Element;\n\nfunction exec<T>(\n\tnode: T | T[],\n\tnormalizeAuxiliaryObject: NormalizeAuxiliaryObject,\n\tslots: Slots,\n\tcomponents: Record<string, Component<any>>[],\n\tnative: boolean,\n\tsimpleSlot: boolean,\n): (T | Element) | (T | Element)[] {\n\tif (Array.isArray(node)) {\n\t\treturn node.map(n => exec(\n\t\t\tn,\n\t\t\tnormalizeAuxiliaryObject,\n\t\t\tslots,\n\t\t\tcomponents,\n\t\t\tnative,\n\t\t\tsimpleSlot,\n\t\t));\n\t}\n\tif (!isElement(node)) { return node; }\n\tif (node.tag === ScopeSlot && node.inserted) { return node; }\n\tconst { children } = node;\n\tconst tag = findComponent(node.tag, components, native);\n\tif (isSimpleComponent(tag)) {\n\t\tif (node.execed) { return node; }\n\t\treturn execSimple(\n\t\t\tnormalizeAuxiliaryObject,\n\t\t\tnode,\n\t\t\ttag,\n\t\t\tcomponents,\n\t\t\tchildren.map(n => exec(\n\t\t\t\tn,\n\t\t\t\tnormalizeAuxiliaryObject,\n\t\t\t\tslots,\n\t\t\t\tcomponents,\n\t\t\t\tnative,\n\t\t\t\tsimpleSlot,\n\t\t\t)),\n\t\t);\n\t}\n\tif (tag === Render) {\n\t\tconst slotRenderFn = getSlotRenderFn(\n\t\t\tnormalizeAuxiliaryObject,\n\t\t\tchildren,\n\t\t\tslots,\n\t\t\tcomponents,\n\t\t\tnative,\n\t\t);\n\t\tif (slotRenderFn) {\n\t\t\treturn { ...node, children: [slotRenderFn] } as Element;\n\t\t}\n\t}\n\tif (tag !== ScopeSlot) {\n\t\treturn {\n\t\t\t...node,\n\t\t\ttag,\n\t\t\tchildren: children.map(n => exec(\n\t\t\t\tn,\n\t\t\t\tnormalizeAuxiliaryObject,\n\t\t\t\tslots,\n\t\t\t\tcomponents,\n\t\t\t\tnative,\n\t\t\t\tsimpleSlot,\n\t\t\t)),\n\t\t} as Element;\n\t}\n\n\tconst { props } = node;\n\tconst args = props?.argv || {};\n\tconst slotName = node.props?.name || 'default';\n\tconst slot = simpleSlot || slotName in slots\n\t\t? slots[slotName]\n\t\t: setSlot(slots, slotName);\n\tconst el: Element = {\n\t\t[objectTypeSymbol]: objectTypeSymbolElement,\n\t\tprops,\n\t\tkey: node.key,\n\t\ttag: ScopeSlot,\n\t\tinserted: true,\n\t\tslot: slotName,\n\t\tisDefault: !slot,\n\t\tchildren: slot\n\t\t\t? renderSlot(slot, args)\n\t\t\t: getChildren(children, args).map(n => exec(\n\t\t\t\tn,\n\t\t\t\tnormalizeAuxiliaryObject,\n\t\t\t\tslots,\n\t\t\t\tcomponents,\n\t\t\t\tnative,\n\t\t\t\tsimpleSlot,\n\t\t\t)),\n\t};\n\treturn el;\n}\nexport function init(\n\tnormalizeAuxiliaryObject: NormalizeAuxiliaryObject,\n\tnode: any[],\n\tslots: Slots,\n\tcomponents: Record<string, Component<any>>[],\n\tnative: boolean,\n\tsimpleSlot: boolean,\n): any[] {\n\treturn delayRefresh(() => postpone(() => exec(\n\t\tnode,\n\t\tnormalizeAuxiliaryObject,\n\t\tslots,\n\t\tcomponents,\n\t\tnative,\n\t\tsimpleSlot,\n\t)));\n}\n\n\nexport default function normalize(\n\tproxy: ComponentProxy<any, any, any, any>,\n\tslotRenderFnList: WeakMap<Function, Function>,\n\trefresh: (f?: () => void) => void,\n\tresult: any,\n\tcomponents = proxy.tag[componentsSymbol] || null,\n): any[] {\n\treturn init(\n\t\t{\n\t\t\trenderer: proxy.renderer,\n\t\t\trefresh,\n\t\t\tslotRenderFnList,\n\t\t\tdelivered: proxy.delivered,\n\t\t\tsimpleParent: proxy.entity,\n\t\t},\n\t\tgetNodeArray(result),\n\t\tproxy.slots,\n\t\tgetComponents(components),\n\t\tBoolean(proxy.isNative),\n\t\tfalse,\n\t);\n}\n","import {\n\tTreeNodeList,\n\tMountOptions,\n\tMountedNode,\n\tMonitored,\n} from '../../types';\nimport BaseProxy from './BaseProxy';\nimport draw, { unmount, drawPlaceholder, drawReplace } from '../draw';\nimport { createMountedNode } from '../id';\nimport { isValue } from '../../install/monitorable';\nimport NodeProxy from './NodeProxy';\nimport { markRead, markChange } from '../../install/monitorable';\nimport { isElement } from '../../auxiliary';\nimport { Fragment } from '../../constant/tags';\nimport convert, { destroy } from '../convert';\nimport { monitor } from '../../install/monitorable';\nimport { wait } from '../../extends/delayRefresh';\nimport { init } from '../normalize';\nimport { NormalizeAuxiliaryObject } from '../normalize';\nimport { isProduction } from '../../constant/info';\nimport { defineProperty } from '../../install/monitorable';\n\n\nfunction getText(\n\tvalue: any,\n): string | null {\n\tif (value === undefined || value === null) { return null; }\n\tif (value instanceof Date) { return value.toISOString(); }\n\tif (value instanceof RegExp) { return String(value); }\n\treturn String(value);\n}\n\n\nfunction getNodeArray(result: any): any[] {\n\tif (!isElement(result)) { return [result]; }\n\tif (result.tag !== Fragment) { return [result]; }\n\treturn result.children;\n}\nexport default class ValueProxy extends NodeProxy<null> {\n\n\tget content(): (MountedNode | MountedNode[])[] { return this.tree; }\n\t__value: any;\n\ttext?: string | null;\n\tisValue?: boolean;\n\tset value(v) {\n\t\tconst k = v !== this.__value;\n\t\tthis.__value = v;\n\t\tif (k) {\n\t\t\tmarkChange(this, 'value');\n\t\t}\n\t}\n\tget value(): any {\n\t\tmarkRead(this, 'value');\n\t\tlet v = this.__value;\n\t\twhile (isValue(v)) { v = v(); }\n\t\treturn v;\n\t}\n\t__nodes?: TreeNodeList;\n\tsrc?: any;\n\t/** 结果渲染函数 */\n\tprivate __render: Monitored<boolean, []>;\n\tconstructor(\n\t\tattrs: any,\n\t\tparent: BaseProxy<any>,\n\t) {\n\t\tsuper(null, null, attrs, [], parent);\n\t\tconst {value} = attrs;\n\t\tthis.__value = value;\n\t\tif (!isProduction) {\n\t\t\tdefineProperty(this, 'text', undefined);\n\t\t\tdefineProperty(this, 'isValue', isValue(value));\n\t\t}\n\t\tconst slots = Object.create(null);\n\t\tconst normalizeAuxiliaryObject: NormalizeAuxiliaryObject = {\n\t\t\trenderer: this.renderer,\n\t\t\trefresh: () => this.refresh(),\n\t\t\tslotRenderFnList: new WeakMap(),\n\t\t\tdelivered: this.delivered,\n\t\t\t// TODO\n\t\t\tsimpleParent: undefined,\n\t\t};\n\t\tthis.__render = monitor(\n\t\t\tchanged => changed && this.refresh(),\n\t\t\t() => {\n\t\t\t\tlet {value} = this;\n\t\t\t\tif (isElement(value) || Array.isArray(value)) {\n\t\t\t\t\tthis.__nodes = convert(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\tinit(\n\t\t\t\t\t\t\tnormalizeAuxiliaryObject,\n\t\t\t\t\t\t\tgetNodeArray(value),\n\t\t\t\t\t\t\tslots,\n\t\t\t\t\t\t\t[],\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t),\n\t\t\t\t\t\tthis.__nodes,\n\t\t\t\t\t);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (this.__nodes) {\n\t\t\t\t\tdestroy(this.__nodes);\n\t\t\t\t\tthis.__nodes = undefined;\n\t\t\t\t} else if (this.src === value) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.src = value;\n\t\t\t\treturn true;\n\t\t\t},\n\t\t);\n\t\tthis.created = true;\n\t\tthis.refresh();\n\t}\n\n\t/** 是否为刷新中 */\n\tprivate __refreshing = false;\n\t/** 是否需要继续刷新 */\n\tprivate __needRefresh = false;\n\n\n\trefresh(): void {\n\t\tif (this.destroyed) { return; }\n\t\tthis.__needRefresh = true;\n\t\tif (!this.created) { return; }\n\n\t\tif (this.__refreshing) { return; }\n\t\tthis.__refreshing = true;\n\n\t\tlet needDraw = false;\n\t\twhile (this.__needRefresh && !wait(this)) {\n\t\t\tthis.__needRefresh = false;\n\t\t\tneedDraw = this.__render() || needDraw;\n\t\t\tif (this.destroyed) { return; }\n\t\t}\n\t\tthis.__refreshing = false;\n\t\tif (!needDraw) { return; }\n\t\tif (wait(this)) { return; }\n\t\tif (!this.mounted) { return; }\n\t\tif (this.destroyed) { return; }\n\t\tif (this.unmounted) { return; }\n\t\tthis.requestDraw();\n\t}\n\n\t_update({value}: any): void {\n\t\tthis.value = value;\n\t\tif (!isProduction) {\n\t\t\tthis.isValue = isValue(value);\n\t\t}\n\t}\n\t_destroy(): void {\n\t\tthis.__render.stop();\n\t\tconst { __nodes } = this;\n\t\tif (!__nodes) {\n\t\t\treturn;\n\t\t}\n\t\tdestroy(__nodes);\n\t}\n\t_mount(mountOptions: MountOptions): void {\n\t\tconst { renderer, __nodes, src } = this;\n\t\tif (__nodes) {\n\t\t\tthis.tree = draw(renderer, mountOptions, __nodes);\n\t\t\treturn;\n\t\t}\n\t\tif (renderer.isNode(src)) {\n\t\t\tthis.tree = [createMountedNode({ node: src })];\n\t\t\treturn;\n\t\t}\n\t\tconst text = getText(src);\n\t\tif (!isProduction) { this.text = text; }\n\t\tconst node = typeof text === 'string'\n\t\t\t? createMountedNode({ node: renderer.createText(text) })\n\t\t\t: drawPlaceholder(renderer);\n\t\tthis.tree = [node];\n\t}\n\t_redraw(mountOptions: MountOptions): void {\n\t\tconst { renderer, __nodes, src } = this;\n\t\tif (__nodes) {\n\t\t\tthis.tree = draw(renderer, mountOptions, __nodes, this.tree);\n\t\t\treturn;\n\t\t}\n\t\tif (renderer.isNode(src)) {\n\t\t\tthis.tree = [createMountedNode({ node: src })];\n\t\t\tif (!isProduction) {\n\t\t\t\tthis.text = undefined;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tconst text = getText(src);\n\t\tif (!isProduction) { this.text = text; }\n\t\tconst node = typeof text === 'string'\n\t\t\t? createMountedNode({ node: renderer.createText(text) })\n\t\t\t: drawPlaceholder(renderer);\n\t\tthis.tree =\tdrawReplace(renderer, [node], this.tree);\n\t}\n\t_unmount(): void {\n\t\tconst { renderer, tree } = this;\n\t\tunmount(renderer, tree);\n\t}\n}\n","import {\n\tTreeNodeList,\n\tDeliverComponent,\n\tMountOptions,\n\tMountedNode,\n} from '../../types';\nimport BaseProxy from './BaseProxy';\nimport convert, { destroy } from '../convert';\nimport NodeProxy from './NodeProxy';\nimport { deliverKeySymbol } from '../../constant/symbols';\nimport { markRead, markChange } from '../../install/monitorable';\nimport draw, { unmount } from '../draw';\n\nexport default class DeliverProxy<T> extends NodeProxy<DeliverComponent<T>> {\n\tprivate __valueObject: T | undefined;\n\tprivate __nodes: TreeNodeList;\n\tget content(): (MountedNode | MountedNode[])[] { return this.tree; }\n\n\n\tconstructor(\n\t\toriginalTag: any,\n\t\ttag: DeliverComponent<T>,\n\t\tprops: { value?: T;},\n\t\tchildren: any[],\n\t\tparent: BaseProxy<any>,\n\t) {\n\t\tsuper(originalTag, tag, props, children, parent, Object.create(parent.delivered));\n\t\tconst {value} = props;\n\t\tthis.__valueObject = value;\n\t\tReflect.defineProperty(this.delivered, tag[deliverKeySymbol], {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tget:() => {\n\t\t\t\tmarkRead(this, 'value');\n\t\t\t\treturn this.__valueObject;\n\t\t\t},\n\t\t});\n\t\tthis.__nodes = convert(this, children);\n\t\tthis.created = true;\n\t}\n\t/** 更新属性及子代 */\n\t_update({value}: { value?: T;}, children: any[]): void {\n\t\tif (this.__valueObject !== value) {\n\t\t\tthis.__valueObject = value;\n\t\t\tmarkChange(this, 'value');\n\t\t}\n\t\tthis.__nodes = convert(this, children, this.__nodes);\n\t\tthis.requestDraw();\n\t}\n\n\t_destroy(): void {\n\t\tdestroy(this.__nodes);\n\t}\n\t_mount(mountOptions: MountOptions): void {\n\t\tthis.tree = draw(this.renderer, mountOptions, this.__nodes);\n\t}\n\t_redraw(mountOptions: MountOptions): void {\n\t\tconst { renderer, __nodes, tree } = this;\n\t\tthis.tree = draw(renderer, mountOptions, __nodes, tree);\n\t}\n\t_unmount(): void {\n\t\tunmount(this.renderer, this.tree);\n\t}\n}\n","import {\n\tMountOptions,\n\tTreeNodeList,\n\tMountedNode,\n} from '../../types';\nimport BaseProxy from './BaseProxy';\nimport convert, { destroy } from '../convert';\nimport draw, { unmount } from '../draw';\nimport NodeProxy from './NodeProxy';\n\nexport default class GroupProxy<T> extends NodeProxy<T> {\n\tprivate __nodes: TreeNodeList;\n\n\tget content(): (MountedNode | MountedNode[])[] { return this.tree; }\n\tconstructor(\n\t\ttag: T,\n\t\tchildren: any[],\n\t\tparent: BaseProxy<any>,\n\t) {\n\t\tsuper(tag, tag, {}, children, parent);\n\t\tthis.__nodes = convert(this, children);\n\t}\n\t/** 更新属性及子代 */\n\t_update(props: object, children: any[]): void {\n\t\tthis.__nodes = convert(this, children, this.__nodes);\n\t\tthis.requestDraw();\n\t}\n\n\t_destroy(): void {\n\t\tdestroy(this.__nodes);\n\t}\n\t_mount(mountOptions: MountOptions): void {\n\t\tthis.tree = draw(this.renderer, mountOptions, this.__nodes);\n\t}\n\t_redraw(mountOptions: MountOptions): void {\n\t\tthis.tree = draw(this.renderer, mountOptions, this.__nodes, this.tree);\n\t}\n\t_unmount(): void {\n\t\tunmount(this.renderer, this.tree);\n\t}\n}\n","import {\n\tIRenderer,\n\tRef,\n\tEntity,\n} from '../../types';\nimport EventEmitter from '../../EventEmitter';\nimport BaseProxy from './BaseProxy';\n\nfunction updateData(\n\tprops: any,\n\tdata: Record<string, any>,\n): void {\n\tconst oldKeys = new Set(Object.keys(data));\n\tfor (const k in props) {\n\t\tif (k.substr(0, 5) !== 'data:') { continue; }\n\t\tconst key = k.substr(5);\n\t\tif (!key) { continue; }\n\t\toldKeys.delete(key);\n\t\tdata[key] = props[key];\n\t}\n\tconst dataset = props['n:data'];\n\tif (dataset && typeof dataset === 'object') {\n\t\tfor (const key in dataset) {\n\t\t\tif (!key) { continue; }\n\t\t\toldKeys.delete(key);\n\t\t\tdata[key] = dataset[key];\n\t\t}\n\t}\n\tfor (const key of oldKeys) {\n\t\tdelete data[key];\n\t}\n}\n\n\nexport default abstract class RefProxy<\n\tTExposed extends object | Function,\n\tTTag,\n\tTEntity extends Entity<any, any>,\n> extends BaseProxy<TTag> {\n\t/** 组件暴露值 */\n\tprivate __exposed?: TExposed;\n\t/** 组件暴露值 */\n\tprivate __ref?: Ref<TExposed, TEntity>;\n\tget exposed(): TExposed | undefined { return this.__exposed; }\n\tsetExposed(t?: TExposed): void {\n\t\tif (this.destroyed) { return; }\n\t\tconst ref = this.__ref;\n\t\tif (typeof ref !== 'function') {\n\t\t\tthis.__exposed = t;\n\t\t\treturn;\n\t\t}\n\t\tconst old = this.__exposed;\n\t\tthis.__exposed = t;\n\t\tref(t, old, this.entity);\n\t}\n\treadonly events: EventEmitter<TEntity>;\n\t/** 组件实体 */\n\treadonly entity: TEntity;\n\n\treadonly data: Record<string, any> = Object.create(null);\n\n\tconstructor(\n\t\trenderer: IRenderer,\n\t\toriginalTag: any,\n\t\ttag: any,\n\t\tattrs: any,\n\t\tparent?: BaseProxy<any>,\n\t\tdelivered?: Record<any, any>,\n\t) {\n\t\tsuper(renderer, originalTag, tag, attrs, parent, delivered);\n\n\t\tupdateData(attrs, this.data);\n\t\tconst events = new EventEmitter<TEntity>();\n\t\tconst entity = this.createEntity(events);\n\t\tevents.target = entity;\n\t\tthis.entity = entity;\n\t\tthis.events = events;\n\t\tconst ref = attrs['n:ref'];\n\t\tif (typeof ref === 'function') {\n\t\t\tthis.__ref = ref;\n\t\t\tref(undefined, undefined, entity, true);\n\t\t}\n\t}\n\n\t/** 创建 */\n\tprotected abstract createEntity(events: EventEmitter<any>): TEntity;\n\n\n\t/** 更新属性及子代 */\n\tupdate(attrs: Record<string, any>, children: any[]): void {\n\t\tupdateData(attrs, this.data);\n\t\tconst ref = attrs['n:ref'];\n\t\tconst oldRef = this.__ref;\n\t\tif (ref !== oldRef) {\n\t\t\tif (typeof ref === 'function') {\n\t\t\t\tref(this.__exposed);\n\t\t\t} else if (oldRef) {\n\t\t\t\tthis.__ref = undefined;\n\t\t\t}\n\t\t}\n\t\tsuper.update(attrs, children);\n\t}\n\tdestroy(): boolean {\n\t\tif (!super.destroy()) { return false; }\n\t\tconst ref = this.__ref;\n\t\tif (typeof ref !== 'function') { return true; }\n\t\tref(undefined, this.__exposed, this.entity, false);\n\t\treturn true;\n\t}\n}\n","import {\n\tTreeNodeList,\n\tNativeElementNode,\n\tMountedNode,\n\tElementComponent,\n\tMountOptions,\n\tElementEntity,\n} from '../../types';\nimport BaseProxy from './BaseProxy';\nimport convert, { destroy } from '../convert';\nimport draw, { getNodes, unmount } from '../draw';\nimport RefProxy from './RefProxy';\nimport { createMountedNode } from '../id';\nimport { componentValueSymbol } from '../../constant/symbols';\nimport { defineProperty } from '../../install/monitorable';\nimport { isProduction } from '../../constant/info';\nimport EventEmitter from '../../EventEmitter';\nimport ContainerProxy from './ContainerProxy';\nimport ComponentProxy from './ComponentProxy';\n\nexport default class ElementProxy<\n\tT extends string | ElementComponent<any, any>\n> extends RefProxy<NativeElementNode, T, ElementEntity<NativeElementNode>> {\n\t/** 所属容器 */\n\treadonly container: ContainerProxy<any>;\n\t/** 渲染组件根部，如果自身是 ComponentProxy 则为自身 */\n\treadonly componentRoot?: ComponentProxy<any, any, any, any>;\n\n\tprops: object;\n\tprivate __nodes: TreeNodeList;\n\tnode?: NativeElementNode;\n\tcontent: (MountedNode | MountedNode[])[] = [];\n\tprivate __elementTagData: string | any;\n\tconstructor(\n\t\toriginalTag: any,\n\t\ttag: T,\n\t\tprops: object,\n\t\tchildren: any[],\n\t\tparent: BaseProxy<any>,\n\t) {\n\t\tsuper(parent.renderer, originalTag, tag, props, parent);\n\t\tthis.container = parent.container;\n\t\tthis.componentRoot = parent.componentRoot;\n\t\tif (!isProduction) { defineProperty(this, 'content', []); }\n\n\t\tthis.props = props;\n\t\t// 事件处理\n\t\tthis.events.updateInProps(props);\n\t\tthis.__nodes = convert(this, children);\n\t\tif (typeof tag === 'string') {\n\t\t\tthis.__elementTagData = tag;\n\t\t} else {\n\t\t\tthis.__elementTagData = (tag as any)[componentValueSymbol];\n\t\t}\n\t}\n\trequestDraw(): void {\n\t\tif (!this.mounted) { return; }\n\t\tif (this.destroyed) { return; }\n\t\tthis.container.markDraw(this);\n\t}\n\tcallHook(id: string): void {\n\t}\n\tcreateEntity(events: EventEmitter<any>): ElementEntity<NativeElementNode> {\n\t\tconst cfg: { [K in keyof ElementEntity<any>]-?:\n\t\t\t{ configurable: true, value: ElementEntity<any>[K], writable?: boolean }\n\t\t\t| { configurable: true, get(): ElementEntity<any>[K] }\n\t\t} = {\n\t\t\tdata: { configurable: true, value: this.data },\n\t\t\texposed: { configurable: true, get: () => this.exposed },\n\t\t\ton: { configurable: true, value: events.on },\n\t\t\temit: { configurable: true, value: events.emit },\n\t\t};\n\t\tconst entity: ElementEntity<any> = Object.create(null, cfg);\n\t\treturn entity;\n\t}\n\t/** 更新属性及子代 */\n\t_update(props: object, children: any[]): void {\n\t\tthis.props = props;\n\t\t// 事件处理\n\t\tthis.events.updateInProps(props);\n\t\tthis.__nodes = convert(this, children, this.__nodes);\n\t\tthis.requestDraw();\n\t}\n\n\t_destroy(): void {\n\t\tif (this.destroyed) { return; }\n\t\tthis.destroyed = true;\n\t\tdestroy(this.__nodes);\n\t}\n\t_mount(mountOptions: MountOptions): MountOptions | void {\n\t\tif (this.node) { return; }\n\t\tconst { renderer, __elementTagData: tag, props, __nodes } = this;\n\t\tconst node = renderer.createElement(tag, props, mountOptions);\n\t\tif (!node) { return; }\n\t\tthis.node = node;\n\t\tthis.setExposed(node);\n\t\tconst subMountOptions = renderer.getMountOptions(\n\t\t\tnode,\n\t\t\tmountOptions,\n\t\t) || mountOptions;\n\t\tif (__nodes) {\n\t\t\tconst content = draw(renderer, subMountOptions, __nodes);\n\t\t\tthis.content = content;\n\t\t\tfor (const it of getNodes(content)) {\n\t\t\t\trenderer.insertNode(node, it);\n\t\t\t}\n\t\t}\n\t\tthis.tree = [createMountedNode({ node })];\n\t\trenderer.updateProps(\n\t\t\tnode,\n\t\t\ttag,\n\t\t\tprops,\n\t\t\tthis.events.emit,\n\t\t\tsubMountOptions,\n\t\t);\n\t\treturn subMountOptions;\n\t}\n\t_redrawChildren(mountOptions: MountOptions): void {\n\t\tconst { renderer, __nodes, content, node } = this;\n\t\tif (!node) { return; }\n\t\tif (!__nodes.length && content.length) {\n\t\t\tunmount(renderer, content);\n\t\t\tthis.content = [];\n\t\t} else if (__nodes.length && content.length) {\n\t\t\tthis.content = draw(renderer, mountOptions, __nodes, content);\n\t\t} else if (__nodes.length && !content.length) {\n\t\t\tconst newTree = draw(renderer, mountOptions, __nodes);\n\t\t\tthis.content = newTree;\n\t\t\tfor (const it of getNodes(newTree)) {\n\t\t\t\trenderer.insertNode(node, it);\n\t\t\t}\n\t\t}\n\t}\n\t_redraw(mountOptions: MountOptions): void {\n\t\tthis._redrawChildren(mountOptions);\n\t\tconst { renderer, __elementTagData: tag, node, props } = this;\n\t\tif (!node) { return; }\n\t\trenderer.updateProps(\n\t\t\tnode,\n\t\t\ttag,\n\t\t\tprops || {},\n\t\t\tthis.events.emit,\n\t\t\tmountOptions,\n\t\t);\n\t}\n\t_unmount(): void {\n\t\tconst { renderer, tree, node } = this;\n\t\tif (!node) { return; }\n\t\trenderer.removeNode(node);\n\t\tunmount(renderer, tree);\n\t}\n}\n","import { TreeNodeList, Entity, ContextInfo, ContextData } from '../../types';\nimport { wait } from '../../extends/delayRefresh';\nimport { destroyUseData } from '../../extends/use';\nimport { destroyContextData } from '../../extends/with';\nimport convert, { destroy } from '../convert';\nimport BaseProxy from './BaseProxy';\nimport RefProxy from './RefProxy';\nimport ComponentProxy from './ComponentProxy';\n\n\nfunction createInfo(\n\tobj: CustomComponentProxy<any, any, any>,\n): ContextInfo {\n\tconst cfg: { [K in keyof ContextInfo]:\n\t\t{ configurable: true, value: ContextInfo[K], writable?: boolean }\n\t\t| { configurable: true, get(): ContextInfo[K] }\n\t} = {\n\t\tcreated: { configurable: true, get: () => obj.created },\n\t\tdestroyed: { configurable: true, get: () => obj.destroyed },\n\t\tmounted: { configurable: true, get: () => obj.mounted },\n\t\tunmounted: { configurable: true, get: () => obj.unmounted },\n\t};\n\treturn Object.create(null, cfg);\n}\nexport default abstract class CustomComponentProxy<\n\tTExposed extends object | Function,\n\tTTag,\n\tTEntity extends Entity<any, any>,\n> extends RefProxy<TExposed, TTag, TEntity> {\n\treadonly contextData: ContextData;\n\t/** 父组件代理 */\n\treadonly parentComponentProxy?: ComponentProxy<any, any, any, any>;\n\n\t/** 子组件 */\n\treadonly children: Set<ComponentProxy<any, any, any, any>> = new Set();\n\n\tconstructor(\n\t\toriginalTag: any,\n\t\ttag: any,\n\t\tattrs: any,\n\t\tparent: BaseProxy<any>,\n\t\tisShell: boolean,\n\t) {\n\t\tsuper(parent.renderer, originalTag, tag, attrs, parent);\n\t\t// eslint-disable-next-line @typescript-eslint/no-this-alias\n\t\tconst _this = this;\n\t\tthis.parentComponentProxy = parent.componentRoot;\n\t\tconst parentEntity = parent.componentRoot?.entity;\n\t\tthis.contextData = {\n\t\t\tisShell,\n\t\t\tisSimple: false,\n\t\t\tget created() { return _this.created; },\n\t\t\tget destroyed() { return _this.destroyed; },\n\t\t\tdelivered: this.delivered,\n\t\t\twithData: {},\n\t\t\tinfo: isShell ? undefined : createInfo(this),\n\t\t\thooks: isShell ? undefined : {},\n\t\t\tuseData: isShell ? undefined : [],\n\t\t\trefresh: this.refresh.bind(this),\n\t\t\tparent: parentEntity,\n\t\t\tgetChildren: () => [...this.children].map(t => t.exposed),\n\t\t};\n\t}\n\t/** 结果渲染函数 */\n\tprotected abstract get _render(): () => any[];\n\t/** 结果渲染函数 */\n\tprotected abstract get _stopRender(): () => void;\n\n\t/** 是否为刷新中 */\n\tprivate __refreshing = false;\n\t/** 是否需要继续刷新 */\n\tprivate __needRefresh = false;\n\tget needRefresh(): boolean { return this.__needRefresh; }\n\n\t/** 延时刷新计数 */\n\tprivate __delayedRefresh = 0;\n\t/** 渲染结果 */\n\tprotected _nodes: TreeNodeList = [];\n\n\trefresh(): void;\n\trefresh<T>(f: () => T): T;\n\trefresh<T>(f?: () =>  T): T | void;\n\trefresh<T>(f?: () =>  T): T | void {\n\t\tif (typeof f === 'function') {\n\t\t\ttry {\n\t\t\t\tthis.__delayedRefresh++;\n\t\t\t\treturn f();\n\t\t\t} finally {\n\t\t\t\tthis.__delayedRefresh--;\n\t\t\t\tif (this.__delayedRefresh <= 0) {\n\t\t\t\t\tthis.refresh();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (this.destroyed) { return; }\n\t\tthis.__needRefresh = true;\n\t\tif (!this.created) { return; }\n\n\t\tif (this.__refreshing) { return; }\n\t\tthis.__refreshing = true;\n\n\t\tlet nodes: any[] | undefined;\n\t\tfor (;;) {\n\t\t\tif (wait(this)) { break; }\n\t\t\tif (this.__delayedRefresh) { break; }\n\t\t\tif (!this.__needRefresh) { break; }\n\t\t\tthis.__needRefresh = false;\n\t\t\tnodes = this._render();\n\t\t\tif (this.destroyed) { return; }\n\t\t}\n\t\tthis.__refreshing = false;\n\t\tif (this.destroyed) { return; }\n\t\tif (this.__delayedRefresh) { return; }\n\t\tif (!nodes) { return; }\n\t\tif (wait(this)) { return; }\n\n\t\tthis._nodes = convert(this, nodes, this._nodes);\n\t\tif (!this.mounted) { return; }\n\t\tif (this.unmounted) { return; }\n\t\tthis.requestDraw();\n\t}\n\t_destroy(): void {\n\t\tthis._stopRender();\n\t\tconst { contextData } = this;\n\t\tdestroyContextData(contextData.withData);\n\t\tdestroyUseData(contextData.useData);\n\t\tdestroy(this._nodes);\n\t}\n\n\n}\n","import {\n\tMountOptions,\n\tShellComponent,\n\tShellContext,\n\tSlots,\n\tMountedNode,\n\tMonitored,\n\tShellEntity,\n} from '../../types';\nimport BaseProxy from './BaseProxy';\nimport draw, { unmount } from '../draw';\nimport CustomComponentProxy from './CustomComponentProxy';\nimport { isElement } from '../../auxiliary';\nimport { Fragment } from '../../constant/tags';\nimport convert from '../convert';\nimport { monitor } from '../../install/monitorable';\nimport { init } from '../normalize';\nimport { NormalizeAuxiliaryObject } from '../normalize';\nimport { isProduction } from '../../constant/info';\nimport { runCurrent, runCurrentWithLabel } from '../../extends/current';\nimport EventEmitter from '../../EventEmitter';\nimport { createSlotApi, getSlots, setSlots } from '../slot';\nimport ContainerProxy from './ContainerProxy';\nimport ComponentProxy from './ComponentProxy';\nimport { createBy } from '../../extends/with';\n\n\nfunction getNodeArray(result: any): any[] {\n\tif (Array.isArray(result)) { return result; }\n\tif (!isElement(result)) { return [result]; }\n\tif (result.tag !== Fragment) { return [result]; }\n\treturn result.children;\n}\n\n// TODO\nexport default class ShellProxy<\n\tT extends ShellComponent<any, any>\n> extends CustomComponentProxy<any, T, ShellEntity> {\n\tget content(): (MountedNode | MountedNode[])[] { return this.tree; }\n\n\tprops: any;\n\tchildNodes: any[];\n\tsrc?: any;\n\n\t/** 组件槽 */\n\treadonly slots: Slots = Object.create(null);\n\tlastSlots: Record<string | symbol, any[]> | undefined;\n\t/** 结果渲染函数 */\n\tprotected _render: Monitored<any[], []>;\n\n\t/** 所属容器 */\n\treadonly container: ContainerProxy<any>;\n\t/** 渲染组件根部，如果自身是 ComponentProxy 则为自身 */\n\treadonly componentRoot?: ComponentProxy<any, any, any, any>;\n\n\t/** 结果渲染函数 */\n\tprotected readonly _stopRender: () => void;\n\n\trequestDraw(): void {\n\t\tif (!this.mounted) { return; }\n\t\tif (this.destroyed) { return; }\n\t\tthis.container.markDraw(this);\n\t}\n\tcallHook(id: string): void {\n\t}\n\n\tcreateEntity(events: EventEmitter<any>): ShellEntity {\n\t\tconst cfg: { [K in keyof ShellEntity]-?:\n\t\t\t{ configurable: true, value: ShellEntity[K], writable?: boolean }\n\t\t\t| { configurable: true, get(): ShellEntity[K] }\n\t\t} = {\n\t\t\tdata: { configurable: true, value: this.data },\n\t\t\texposed: { configurable: true, value: undefined },\n\t\t\ton: { configurable: true, value: events.on },\n\t\t\temit: { configurable: true, value: events.emit },\n\t\t};\n\t\tconst entity: ShellEntity = Object.create(null, cfg);\n\t\treturn entity;\n\t}\n\tconstructor(\n\t\toriginalTag: any,\n\t\ttag: T,\n\t\tprops: object,\n\t\tchildren: any[],\n\t\tparent: BaseProxy<any>,\n\t) {\n\t\tsuper(originalTag, tag, props, parent, true);\n\t\tthis.container = parent.container;\n\t\tthis.componentRoot = parent.componentRoot;\n\t\tthis.props = props;\n\t\tthis.childNodes = children;\n\t\tconst {slots} = this;\n\t\tconst {delivered} = this;\n\n\t\tconst refresh = (f?: () => void): void => { this.refresh(f); };\n\n\t\tconst event = this.events;\n\t\tconst {contextData} = this;\n\n\t\tconst context: ShellContext<any> = {\n\t\t\tby: createBy(this.contextData),\n\t\t\tslot: createSlotApi(slots),\n\t\t\tchildNodes: () => this.childNodes,\n\t\t\temit: event.emit,\n\t\t};\n\t\tconst normalizeAuxiliaryObject: NormalizeAuxiliaryObject = {\n\t\t\trenderer: this.renderer,\n\t\t\trefresh,\n\t\t\tslotRenderFnList: new WeakMap(),\n\t\t\tdelivered,\n\t\t\t// TODO\n\t\t\tsimpleParent: undefined,\n\t\t};\n\t\tconst render = monitor(\n\t\t\tchanged => changed && this.refresh(),\n\t\t\t() => {\n\t\t\t\tconst props = {...this.props};\n\t\t\t\tevent.updateInProps(props);\n\t\t\t\tconst result = isProduction\n\t\t\t\t\t? tag(props, context)\n\t\t\t\t\t: isProduction\n\t\t\t\t\t\t? runCurrent(\n\t\t\t\t\t\t\tcontextData,\n\t\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\ttag,\n\t\t\t\t\t\t\tprops,\n\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t)\n\t\t\t\t\t\t:  runCurrentWithLabel(\n\t\t\t\t\t\t\tcontextData,\n\t\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\tl => this.labels = l,\n\t\t\t\t\t\t\ttag,\n\t\t\t\t\t\t\tprops,\n\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t);\n\t\t\t\treturn init(\n\t\t\t\t\tnormalizeAuxiliaryObject,\n\t\t\t\t\tgetNodeArray(result),\n\t\t\t\t\tslots,\n\t\t\t\t\t[],\n\t\t\t\t\tfalse,\n\t\t\t\t\tfalse,\n\t\t\t\t);\n\t\t\t},\n\t\t);\n\t\tthis._stopRender = render.stop;\n\t\tthis._render = render;\n\t\tthis.created = true;\n\t\tthis.refresh();\n\t\tthis._nodes = convert(this, this._render());\n\t}\n\n\n\t_update(props: object, children: any[]): void {\n\t\tthis.props = props;\n\n\t\tconst slots = Object.create(null);\n\t\tgetSlots(this.renderer, children, slots);\n\t\tsetSlots(slots, this.slots, this.lastSlots);\n\t\tthis.lastSlots = slots;\n\t\tthis.childNodes = children;\n\t\tthis.refresh();\n\t}\n\t_mount(mountOptions: MountOptions): void {\n\t\tthis.tree = draw(\n\t\t\tthis.renderer,\n\t\t\tmountOptions,\n\t\t\tthis._nodes,\n\t\t);\n\t}\n\t_redraw(mountOptions: MountOptions): void {\n\t\tthis.tree = draw(\n\t\t\tthis.renderer,\n\t\t\tmountOptions,\n\t\t\tthis._nodes,\n\t\t\tthis.tree,\n\t\t);\n\t}\n\t_unmount(): void {\n\t\tunmount(this.renderer, this.tree);\n\t}\n}\n","import {\n\tMountOptions,\n\tTreeNodeList,\n\tMountedNode,\n} from '../../types';\nimport BaseProxy from './BaseProxy';\nimport convert, { destroy } from '../convert';\nimport draw, { unmount } from '../draw';\nimport NodeProxy from './NodeProxy';\nimport { ScopeSlot } from '../../constant/tags';\n\nexport default class SlotProxy extends NodeProxy<typeof ScopeSlot> {\n\t__nodes: TreeNodeList;\n\tget content(): (MountedNode | MountedNode[])[] { return this.tree; }\n\n\tconstructor(\n\t\tchildren: any[],\n\t\tparent: BaseProxy<any>,\n\t\tisDefault?: boolean,\n\t) {\n\t\tsuper(\n\t\t\tScopeSlot,\n\t\t\tScopeSlot,\n\t\t\t{},\n\t\t\t[],\n\t\t\tparent,\n\t\t);\n\t\tthis.__nodes = convert(this, children);\n\t}\n\t/** 更新属性及子代 */\n\t_update(props: object, children: any[]): void {\n\t\tif (!this.mounted) { return; }\n\t\tif (this.destroyed) { return; }\n\t\tthis.__nodes = convert(this, children, this.__nodes);\n\t\tthis.requestDraw();\n\t}\n\n\t_destroy(): void {\n\t\tdestroy(this.__nodes);\n\t}\n\t_mount(mountOptions: MountOptions): void {\n\t\tthis.tree = draw(this.renderer, mountOptions, this.__nodes);\n\t}\n\t_redraw(mountOptions: MountOptions): void {\n\t\tthis.tree = draw(this.renderer, mountOptions, this.__nodes, this.tree);\n\t}\n\t_unmount(): void {\n\t\tunmount(this.renderer, this.tree);\n\t}\n}\n","import {\n\tStandardComponent,\n\tSlots,\n\tTreeNodeList,\n\tComponentEntity,\n\tHook,\n\tEmit,\n\tOn,\n\tRenderComponent,\n\tComponentContext,\n} from '../../types';\nimport {\n\tcomponentsSymbol,\n\tpropsSymbol,\n} from '../../constant/symbols';\nimport { postpone, createObject } from '../../install/monitorable';\nimport delayRefresh from '../../extends/delayRefresh';\nimport convert from '../convert';\nimport { createSlotApi, getSlots, setSlots } from '../slot';\n\nimport BaseProxy from './BaseProxy';\nimport { callHook, setHook } from '../../extends/hook';\nimport EventEmitter from '../../EventEmitter';\nimport ContainerProxy from './ContainerProxy';\nimport CustomComponentProxy from './CustomComponentProxy';\nimport { createBy } from '../../extends/with';\n\nexport interface IRender {\n\trender(): any[];\n\tnodes: any[];\n\tstopRender(): void;\n}\n\nfunction createEntity(\n\tobj: ComponentProxy<any, any, any, any>,\n\tevents: EventEmitter<any>,\n): ComponentEntity<any> {\n\tconst cfg: { [K in Exclude<keyof ComponentEntity<any>, '$_label'>]-?:\n\t\t{ configurable: true, value: ComponentEntity<any>[K], writable?: boolean }\n\t\t| { configurable: true, get(): ComponentEntity<any>[K] }\n\t} = {\n\t\tdata: { configurable: true, value: obj.data },\n\t\texposed: { configurable: true, get: () => obj.exposed },\n\t\tparent: { configurable: true, value: obj.parentComponentProxy?.entity },\n\t\tcomponent: { configurable: true, value: obj.tag },\n\t\tcreated: { configurable: true, get: () => obj.created },\n\t\tdestroyed: { configurable: true, get: () => obj.destroyed },\n\t\tmounted: { configurable: true, get: () => obj.mounted },\n\t\tunmounted: { configurable: true, get: () => obj.unmounted },\n\t\tcallHook: {\n\t\t\tconfigurable: true,\n\t\t\tvalue(h: string) { callHook(h, obj.contextData); },\n\t\t},\n\t\tsetHook: {\n\t\t\tconfigurable: true,\n\t\t\tvalue(id: string, hook: Hook) { return setHook(id, hook, obj.contextData); },\n\t\t},\n\t\ton: { configurable: true, value: events.on },\n\t\temit: { configurable: true, value: events.emit },\n\t};\n\tconst entity: ComponentEntity<any> = Object.create(null, cfg);\n\treturn entity;\n}\n\nconst disabledKey = new Set([\n\t':', '@', '#', '*',\n\t'!', '%', '^', '~',\n\t'&', '?', '+', '.',\n\t'(', ')', '[', ']', '{', '}', '<', '>',\n]);\nfunction filter(k: string | number | symbol): boolean {\n\tif (typeof k !== 'string') { return true; }\n\tif (disabledKey.has(k[0])) { return false; }\n\tif (k.substr(0, 2) === 'n:') { return false; }\n\tif (k.substr(0, 3) === 'on:') { return false; }\n\treturn true;\n}\n\nfunction update<TProps extends object>(\n\tproxy: ComponentProxy<TProps, any, any, any>,\n\tprops: any,\n\tchildren: any[],\n): void {\n\tconst {props: propsObj, isNative} = proxy;\n\tconst newKeys = new Set(Object.keys(props).filter(filter));\n\tif (proxy.propsDefined) {\n\t\tproxy.propsDefined.forEach(k => newKeys.add(k));\n\t\tfor (const k of Object.keys(propsObj)) {\n\t\t\tif (filter(k) && !newKeys.has(k)) {\n\t\t\t\tdelete propsObj[k as keyof TProps];\n\t\t\t}\n\t\t}\n\t\tfor (const k of newKeys) { propsObj[k as keyof TProps] = props[k]; }\n\t} else {\n\t\tlet needRefresh = false;\n\t\tfor (const k of Object.keys(propsObj)) {\n\t\t\tif (filter(k) && !newKeys.has(k)) {\n\t\t\t\tneedRefresh = true;\n\t\t\t\tdelete propsObj[k as keyof TProps];\n\t\t\t}\n\t\t}\n\t\tfor (const k of newKeys) {\n\t\t\tif (k in propsObj && [k as keyof TProps] === props[k]) { continue; }\n\t\t\tpropsObj[k as keyof TProps] = props[k];\n\t\t\tneedRefresh = true;\n\t\t}\n\t\tif (needRefresh) {\n\t\t\tproxy.refresh();\n\t\t}\n\t}\n\n\tproxy.events.updateInProps(props);\n\tconst slots = Object.create(null);\n\tconst childNodes = getSlots(proxy.renderer, children, slots, isNative);\n\tsetSlots(slots, proxy.slots, proxy.lastSlots);\n\tproxy.lastSlots = slots;\n\tif (!isNative) { return; }\n\tproxy.nativeNodes = convert(proxy, childNodes, proxy.nativeNodes);\n\tif (!proxy.mounted) { return; }\n\tproxy.requestDraw();\n}\n\n\nexport default abstract class ComponentProxy<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n\tC extends StandardComponent<TProps, TExpose, TEmit>\n\t| RenderComponent<TProps, TExpose, TEmit>,\n> extends CustomComponentProxy<TExpose, C, ComponentEntity<C>> {\n\n\n\tisNative: boolean = false;\n\t/** 所属容器 */\n\treadonly container: ContainerProxy<any>;\n\t/** 渲染组件根部，如果自身是 ComponentProxy 则为自身 */\n\treadonly componentRoot?: ComponentProxy<any, any, any, any>;\n\n\treadonly emit: Emit<Record<string, any>>;\n\treadonly on: On<TExpose | undefined, Record<string, any>>;\n\n\treadonly components: Record<string, StandardComponent<any, any, any>>\n\t= Object.create(null);\n\n\t/** 组件属性 */\n\treadonly props: TProps;\n\t/** 组件属性定义 */\n\treadonly propsDefined?: (keyof TProps & string)[];\n\t/** 组件槽 */\n\treadonly slots: Slots = Object.create(null);\n\tlastSlots: Record<string | symbol, any[]> | undefined;\n\n\t/** 原生子代 */\n\tnativeNodes: TreeNodeList | undefined;\n\n\n\tcallHook(id: string): void { callHook(id, this.contextData); }\n\n\n\t/** 结果渲染函数 */\n\tprotected _render: () => any[];\n\t/** 结果渲染函数 */\n\tprotected readonly _stopRender: () => void;\n\n\tprotected abstract _init(): void;\n\tprotected abstract _initRender(context: ComponentContext<any, any>): IRender;\n\n\t/** 结果渲染函数 */\n\tconstructor(\n\t\toriginalTag: any,\n\t\tcomponent: C,\n\t\tprops: object,\n\t\tchildren: any[],\n\t\tparent: BaseProxy<any>,\n\t) {\n\t\tsuper(originalTag, component, props, parent, false);\n\t\tthis.container = parent.container;\n\t\tthis.componentRoot = this;\n\t\tconst {events} = this;\n\t\tthis.emit = events.emit;\n\t\tthis.on = events.on;\n\n\t\tObject.assign(this.components, component[componentsSymbol]);\n\t\t// 属性定义及属性\n\t\tconst propsDefined = component[propsSymbol];\n\t\tif (Array.isArray(propsDefined)) {\n\t\t\tthis.propsDefined = propsDefined as (keyof TProps & string)[];\n\t\t\tthis.props = createObject(propsDefined, null);\n\t\t} else {\n\t\t\tthis.props = Object.create(null);\n\t\t}\n\t\tthis._init();\n\t\t// 初始化钩子\n\t\tthis.callHook('beforeCreate');\n\t\t// 更新属性\n\t\tthis._update(props, children);\n\n\t\tconst context: ComponentContext<any, any> = {\n\t\t\tby: createBy(this.contextData),\n\t\t\tslot: createSlotApi(this.slots),\n\t\t\texpose: t => this.setExposed(t),\n\t\t\tchildNodes: () => this.childNodes,\n\t\t\temit: this.emit,\n\t\t};\n\t\t// 获取渲染函数及初始渲染\n\t\tconst { render, nodes, stopRender } = this._initRender(context);\n\t\tthis._render = render;\n\t\tthis._stopRender = stopRender;\n\t\tthis._nodes = convert(this, nodes);\n\t\t// 初始化钩子\n\t\tthis.callHook('created');\n\t\tthis.created = true;\n\t\tif (this.needRefresh) { this.refresh(); }\n\t}\n\tcreateEntity(events: EventEmitter<any>): ComponentEntity<C> {\n\t\treturn createEntity(this, events);\n\t}\n\t/** 更新属性及子代 */\n\t_update(props: object, children: any[]): void {\n\t\tif (this.destroyed) { return; }\n\t\tthis.childNodes = children;\n\t\tdelayRefresh(() => postpone(() => update(this, props, children)));\n\t}\n\n\tchildNodes: any[] = [];\n\t/** 刷新 */\n\trequestDraw(): void {\n\t\tthis.container.markDraw(this);\n\t}\n}\n","import {\n\tRenderComponent,\n\tTreeNodeList,\n\tMountOptions,\n\tMountedNode,\n\tComponentContext,\n} from '../../types';\nimport {\n\tcomponentsSymbol,\n\tcomponentValueSymbol,\n} from '../../constant/symbols';\nimport { isProduction } from '../../constant/info';\nimport { monitor } from '../../install/monitorable';\nimport { isElement, createTemplateElement } from '../../auxiliary';\nimport { Fragment } from '../../constant/tags';\nimport { runCurrent, runCurrentWithLabel } from '../../extends/current';\n\nimport draw, { unmount } from '../draw';\n\nimport ComponentProxy, { IRender } from './ComponentProxy';\nimport { init } from '../normalize';\nimport { NormalizeAuxiliaryObject } from '../normalize';\n\nfunction getNodeArray(result: any): any[] {\n\tif (Array.isArray(result)) { return result; }\n\tif (!isElement(result)) { return [result]; }\n\tif (result.tag !== Fragment) { return [result]; }\n\treturn result.children;\n}\nfunction initRender(\n\tproxy: RenderComponentProxy<any, any, any, any>,\n\tcontext: ComponentContext<any, any>,\n): IRender {\n\tconst { tag, props, entity, contextData } = proxy;\n\tconst renderFn = tag[componentValueSymbol];\n\n\tconst renderNode = typeof renderFn !== 'function'\n\t\t? () => createTemplateElement(...proxy.childNodes)\n\t\t: isProduction\n\t\t\t? () => runCurrent(\n\t\t\t\tcontextData,\n\t\t\t\tentity,\n\t\t\t\trenderFn,\n\t\t\t\tprops || {},\n\t\t\t\tcontext,\n\t\t\t)\n\t\t\t: () => runCurrentWithLabel(\n\t\t\t\tcontextData,\n\t\t\t\tentity,\n\t\t\t\tl => proxy.labels = l,\n\t\t\t\trenderFn,\n\t\t\t\tprops || {},\n\t\t\t\tcontext,\n\t\t\t);\n\n\tconst normalizeAuxiliaryObject: NormalizeAuxiliaryObject = {\n\t\trenderer: proxy.renderer,\n\t\trefresh: f => proxy.refresh(f),\n\t\tslotRenderFnList: new WeakMap<Function, Function>(),\n\t\tdelivered: proxy.delivered,\n\t\tsimpleParent: proxy.entity,\n\t};\n\tconst components = proxy.tag[componentsSymbol];\n\tconst componentsList = components ? [components] : [];\n\tconst render = monitor(\n\t\tc => c && proxy.refresh(),\n\t\t() => init(\n\t\t\tnormalizeAuxiliaryObject,\n\t\t\tgetNodeArray(renderNode()),\n\t\t\tproxy.slots,\n\t\t\tcomponentsList,\n\t\t\tfalse,\n\t\t\tfalse,\n\t\t),\n\t);\n\treturn {\n\t\tnodes: render(),\n\t\trender,\n\t\tstopRender: () => render.stop(),\n\t};\n\n}\nexport default class RenderComponentProxy<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n\tC extends RenderComponent<TProps, TExpose, TEmit>,\n> extends ComponentProxy<TProps, TExpose, TEmit, C> {\n\tget content(): (MountedNode | MountedNode[])[] { return this.tree; }\n\n\t/** 原生子代 */\n\tnativeNodes: TreeNodeList | undefined;\n\n\tprotected _init(): void {}\n\tprotected _initRender(context: ComponentContext<any, any>): IRender {\n\t\treturn initRender(this, context);\n\t}\n\n\tchildNodes: any[] = [];\n\n\t/** 刷新 */\n\trequestDraw(): void {\n\t\tthis.container.markDraw(this);\n\t}\n\t_redraw(mountOptions: MountOptions): void {\n\t\tconst {renderer, _nodes} = this;\n\t\tthis.tree = draw(renderer, mountOptions, _nodes, this.tree);\n\t}\n\t_mount(mountOptions: MountOptions): void {\n\t\tconst { renderer, _nodes } = this;\n\t\tthis.tree = draw(renderer, mountOptions, _nodes);\n\t}\n\t_unmount(): void {\n\t\tconst {renderer} = this;\n\t\tunmount(renderer, this.tree);\n\t}\n}\n","import {\n\tStandardComponent,\n\tNode,\n\tNativeShadowNode,\n\tMountedNode,\n\tMountOptions,\n\tComponent,\n\tNativeComponentNode,\n\tComponentContext,\n} from '../../types';\nimport {\n\tcomponentsSymbol,\n\tcomponentValueSymbol,\n} from '../../constant/symbols';\nimport { isProduction } from '../../constant/info';\nimport { exec, monitor, defineProperty } from '../../install/monitorable';\nimport { isElement, isRenderElement } from '../../auxiliary';\nimport { runCurrent, runCurrentWithLabel } from '../../extends/current';\nimport { isNativeComponent, isRenderComponent } from '../../is';\n\nimport draw, { unmount, getNodes } from '../draw';\nimport normalize from '../normalize';\nimport { createMountedNode } from '../id';\n\nimport ComponentProxy, { IRender } from './ComponentProxy';\n\n\nfunction createResponsiveRender(\n\tproxy: ComponentProxy<any, any, any, any>,\n\tfunc: Function,\n\tcomponents?: Record<string, Component<any>> | null,\n): IRender {\n\t// 响应式\n\tconst slotRenderFns = new WeakMap<Function, Function>();\n\tconst render = monitor(\n\t\tc => c && proxy.refresh(),\n\t\t() => normalize(\n\t\t\tproxy,\n\t\t\tslotRenderFns,\n\t\t\tf => proxy.refresh(f),\n\t\t\t(func as () => Node)(),\n\t\t\tcomponents,\n\t\t),\n\t);\n\treturn {\n\t\tnodes: render(),\n\t\trender,\n\t\tstopRender: () => render.stop(),\n\t};\n}\n\nfunction initRender(\n\tproxy: StandardComponentProxy< any, any, any, any>,\n\tcontext: ComponentContext<any, any>,\n): IRender {\n\tconst { tag, props, entity, contextData } = proxy;\n\tconst run = isProduction\n\t\t? () => runCurrent(\n\t\t\tcontextData,\n\t\t\tentity,\n\t\t\ttag,\n\t\t\tprops,\n\t\t\tcontext,\n\t\t)\n\t\t: () => runCurrentWithLabel(\n\t\t\tcontextData,\n\t\t\tentity,\n\t\t\tl => proxy.labels = l,\n\t\t\ttag,\n\t\t\tprops,\n\t\t\tcontext,\n\t\t);\n\tconst refresh = (changed: boolean): void => {\n\t\tif (!changed) { return; }\n\t\tproxy.refresh();\n\t};\n\t// 初始化执行\n\tconst result = exec(refresh, { resultOnly: true }, run);\n\tif (typeof result === 'function') {\n\t\treturn createResponsiveRender(proxy, result);\n\t}\n\tif (isRenderElement(result)) {\n\t\tconst { children } = result;\n\t\tif (children?.length === 1 && typeof children[0] === 'function') {\n\t\t\treturn createResponsiveRender(proxy, children[0]);\n\t\t}\n\t}\n\n\tif (isElement(result) && isRenderComponent(result.tag)) {\n\t\tconst {tag} = result;\n\t\tconst render = tag[componentValueSymbol];\n\t\tif (typeof render === 'function') {\n\t\t\treturn createResponsiveRender(\n\t\t\t\tproxy,\n\t\t\t\t(): Node => render(result.props || {}, context),\n\t\t\t\tresult.tag[componentsSymbol] || null,\n\t\t\t);\n\t\t}\n\t}\n\n\n\tconst normalizeRefresh = (f?: () => void): void => { proxy.refresh(f); };\n\tconst slotRenderFns = new WeakMap<Function, Function>();\n\n\tconst render = monitor(\n\t\trefresh,\n\t\t() => normalize(proxy, slotRenderFns, normalizeRefresh, run()),\n\t);\n\treturn {\n\t\tnodes: exec(\n\t\t\trefresh,\n\t\t\t() => normalize(proxy, slotRenderFns, normalizeRefresh, result),\n\t\t\t{ resultOnly: true },\n\t\t),\n\t\trender,\n\t\tstopRender: () => render.stop(),\n\t};\n}\nexport default class StandardComponentProxy<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n\tC extends StandardComponent<TProps, TExpose, TEmit>,\n> extends ComponentProxy<TProps, TExpose, TEmit, C> {\n\tcontent: (MountedNode | MountedNode[])[] = [];\n\t/** 原生组件 */\n\tnative: NativeComponentNode | undefined;\n\n\tshadowTree: (MountedNode | MountedNode[])[] = [];\n\tnativeTree: (MountedNode | MountedNode[])[] = [];\n\tprivate _shadow: NativeShadowNode | undefined;\n\n\tprotected _init(): void {\n\t\tif (!isProduction) { defineProperty(this, 'content', []); }\n\n\t\tif (!isNativeComponent(this.tag)) { return; }\n\t\tconst value = this.renderer.createComponent?.();\n\t\tif (!value) { return; }\n\t\t[this.native, this._shadow] = value;\n\t}\n\tprotected _initRender(context: ComponentContext<any, any>): IRender {\n\t\treturn initRender(this, context);\n\t}\n\n\tchildNodes: any[] = [];\n\n\n\t/** 刷新 */\n\trequestDraw(): void {\n\t\tthis.container.markDraw(this);\n\t}\n\tprivate __nativeTreeNountOptions: MountOptions | undefined;\n\t_mount(mountOptions: MountOptions): MountOptions | void {\n\t\tconst { nativeNodes, renderer, _shadow, native, _nodes } = this;\n\t\tif (!native || !nativeNodes || !_shadow) {\n\t\t\tthis.tree = this.content = draw(renderer, mountOptions, _nodes);\n\t\t\treturn;\n\t\t}\n\t\tthis.tree = [createMountedNode({node:native })];\n\t\tconst subMountOptions = renderer.getMountOptions(\n\t\t\t_shadow,\n\t\t\tmountOptions,\n\t\t) || mountOptions;\n\t\tthis.content = draw(renderer, subMountOptions, _nodes);\n\t\tfor (const it of getNodes(this.content)) {\n\t\t\trenderer.insertNode(_shadow, it);\n\t\t}\n\n\t\tconst nativeTreeNountOptions = renderer.getMountOptions(\n\t\t\tnative,\n\t\t\tmountOptions,\n\t\t) || mountOptions;\n\t\tthis.nativeTree = draw(renderer, nativeTreeNountOptions, nativeNodes);\n\t\tfor (const it of getNodes(this.nativeTree)) {\n\t\t\trenderer.insertNode(native, it);\n\t\t}\n\t\tthis.__nativeTreeNountOptions = nativeTreeNountOptions;\n\t\treturn subMountOptions;\n\t}\n\t_redraw(mountOptions: MountOptions): void {\n\t\tconst {nativeNodes, renderer, __nativeTreeNountOptions, _nodes} = this;\n\t\tthis.content = draw(renderer, mountOptions, _nodes, this.content);\n\t\tif (!nativeNodes || !__nativeTreeNountOptions) {\n\t\t\tthis.tree = this.content;\n\t\t\treturn;\n\t\t}\n\t\tthis.nativeTree = draw(\n\t\t\trenderer,\n\t\t\t__nativeTreeNountOptions,\n\t\t\tnativeNodes,\n\t\t\tthis.nativeTree,\n\t\t);\n\t}\n\t_unmount(): void {\n\t\tconst {renderer, nativeTree} = this;\n\t\tunmount(renderer, this.tree);\n\t\tif (!nativeTree) { return; }\n\t\tunmount(renderer, nativeTree);\n\t}\n}\n","import { Recognizer, Component } from '../types';\n\nconst recognizers: Recognizer[] = [];\nexport function recognize(any: any): Component<any> | null {\n\tfor (const recognizer of recognizers) {\n\t\tconst res = recognizer(any);\n\t\tif (typeof res === 'function') { return res; }\n\t}\n\treturn typeof any === 'function' ? any : null;\n}\nexport default function addRecognizer(recognizer: Recognizer): void {\n\trecognizers.push(recognizer);\n}\n","import { Element } from '../../../types';\nimport ContainerProxy from '../../proxy/ContainerProxy';\nimport BaseProxy from '../../proxy/BaseProxy';\nimport DeliverProxy from '../../proxy/DeliverProxy';\nimport GroupProxy from '../../proxy/GroupProxy';\nimport ElementProxy from '../../proxy/ElementProxy';\nimport ShellProxy from '../../proxy/ShellProxy';\nimport { Container, Fragment, ScopeSlot } from '../../../constant/tags';\nimport {\n\tisDeliverComponent,\n\tisSimpleComponent,\n\tisContainerComponent,\n\tisShellComponent,\n\tisRenderComponent,\n\tisElementComponent,\n} from '../../../is';\nimport SlotProxy from '../../proxy/SlotProxy';\nimport RenderComponentProxy from '../../proxy/RenderComponentProxy';\nimport StandardComponentProxy from '../../proxy/StandardComponentProxy';\nimport { recognize } from '../../../extends/recognizer';\n\nexport default function createProxy(\n\tproxy: BaseProxy<any>,\n\t{ tag, props, children, isDefault }: Element,\n): BaseProxy<any> {\n\tif (tag === Container) {\n\t\treturn new ContainerProxy(tag, null, props, children, proxy);\n\t}\n\tif (tag === ScopeSlot) {\n\t\treturn new SlotProxy(children, proxy, isDefault);\n\t}\n\tif (tag === Fragment) {\n\t\treturn new GroupProxy(tag, children, proxy);\n\t}\n\tif (typeof tag === 'string') {\n\t\tif (tag.substr(0, 5) === 'core:') {\n\t\t\treturn new GroupProxy(tag, children, proxy);\n\t\t}\n\t\treturn new ElementProxy(tag, tag, props || {}, children, proxy);\n\t}\n\tconst componentTag = recognize(tag);\n\tif (typeof componentTag !== 'function') {\n\t\treturn new GroupProxy(tag, children, proxy);\n\t}\n\tif (isShellComponent(componentTag)) {\n\t\treturn new ShellProxy(tag, componentTag, props || {}, children, proxy);\n\t}\n\tif (isDeliverComponent(componentTag)) {\n\t\treturn new DeliverProxy(tag, componentTag, props || {}, children, proxy);\n\t}\n\tif (isContainerComponent(componentTag)) {\n\t\treturn new ContainerProxy(tag, componentTag, props, children, proxy);\n\t}\n\tif (isElementComponent(componentTag)) {\n\t\treturn new ElementProxy(tag, componentTag, props || {}, children, proxy);\n\t}\n\tif (isSimpleComponent(componentTag)) {\n\t\t// TODO: label\n\t\treturn new GroupProxy(tag, children, proxy);\n\t}\n\tif (isRenderComponent(componentTag)) {\n\t\t// TODO\n\t\treturn new RenderComponentProxy(tag, componentTag, props || {}, children, proxy);\n\t}\n\treturn new StandardComponentProxy(tag, componentTag, props || {}, children, proxy);\n}\n","import {\n\tNode,\n\tTreeNode,\n\tValueElement,\n} from '../../../types';\nimport BaseProxy from '../../proxy/BaseProxy';\nimport ValueProxy from '../../proxy/ValueProxy';\nimport createProxy from './createProxy';\n\n\nexport default function createItem(\n\tproxy: BaseProxy<any>,\n\tsource: Node | ValueElement,\n): TreeNode | null {\n\tif (!source) { return null; }\n\tif (!source.tag) {\n\t\tconst { key, props } = source;\n\t\treturn {\n\t\t\tkey, props, proxy: new ValueProxy(\n\t\t\t\tsource.props || {},\n\t\t\t\tproxy,\n\t\t\t),\n\t\t};\n\t}\n\tconst { tag, key, props } = source;\n\treturn { tag, key, props, proxy: createProxy(proxy, source) };\n}\n","import {\n\tTreeNode,\n\tTreeNodeList,\n} from '../../../types';\nimport BaseProxy from '../../proxy/BaseProxy';\nimport toElement from '../toElement';\nimport createItem from './createItem';\n\n\nexport default function createAll(\n\tproxy: BaseProxy<any>,\n\tsource: any,\n): TreeNodeList {\n\tif (!Array.isArray(source)) { source = [source]; }\n\tif (!source.length) { return []; }\n\treturn (source as any[]).map(item => {\n\t\tif (!Array.isArray(item)) {\n\t\t\treturn createItem(proxy, toElement(item));\n\t\t}\n\n\t\treturn item.flat(Infinity)\n\t\t\t.map(it => createItem(proxy, toElement(it)))\n\t\t\t.filter(Boolean) as TreeNode[];\n\t});\n}\n","import { TreeNode, TreeNodeList } from '../../types';\n\n\nexport default function destroy(\n\ttree: TreeNode | TreeNode[] | null | TreeNodeList,\n): void {\n\tif (!tree) { return; }\n\tif (Array.isArray(tree)) {\n\t\ttree.forEach(t => destroy(t));\n\t\treturn;\n\t}\n\tconst { proxy } = tree;\n\tif (proxy) {\n\t\tproxy.destroy();\n\t}\n}\n","import { Node, TreeNode, ValueElement } from '../../../types';\nimport BaseProxy from '../../proxy/BaseProxy';\nimport destroy from '../destroy';\nimport createItem from '../create/createItem';\n\n/**\n * 更新树节点\n * @param tree 已有树\n * @param source 用于替换的源\n * @param proxy Neep 对象\n */\nexport default function updateItem(\n\tproxy: BaseProxy<any>,\n\tsource: Node | ValueElement,\n\ttree?: TreeNode | null | TreeNode[],\n): TreeNode | null {\n\tif (!tree) {\n\t\treturn createItem(proxy, source);\n\t}\n\tif (!source) {\n\t\tdestroy(tree);\n\t\treturn null;\n\t}\n\tif (Array.isArray(tree)) {\n\t\tif (!tree.length) {\n\t\t\treturn createItem(proxy, source);\n\t\t}\n\t\tconst index = tree.findIndex(it => it.tag === source.tag);\n\t\tif (index < 0) {\n\t\t\tdestroy(tree);\n\t\t\treturn createItem(proxy, source);\n\t\t}\n\t\tconst all = tree;\n\t\t[tree] = tree.splice(index, 1);\n\t\tdestroy(all);\n\t}\n\tif (source.tag !== tree.tag) {\n\t\tdestroy(tree);\n\t\treturn createItem(proxy, source);\n\t}\n\tif (tree.proxy) {\n\t\tconst { proxy } = tree;\n\t\tconst { props = {}, key } = source;\n\t\tproxy.update(source.props || {}, source.children || []);\n\t\treturn { tag: tree.tag, props, key, proxy };\n\t}\n\tdestroy(tree);\n\treturn createItem(proxy, source);\n}\n","type RecursiveItem<T> = T | RecursiveItem<T>[];\nexport default function *recursive2iterable<T>(\n\tlist: RecursiveItem<T>,\n): Iterable<T> {\n\tif (!Array.isArray(list)) {\n\t\tyield list;\n\t\treturn;\n\t}\n\tfor (const it of list) {\n\t\tyield *recursive2iterable(it);\n\t}\n}\n","import { TreeNode } from '../../../types';\nimport BaseProxy from '../../proxy/BaseProxy';\nimport destroy from '../destroy';\nimport toElement from '../toElement';\nimport createItem from '../create/createItem';\nimport updateItem from './updateItem';\nimport recursive2iterable from './recursive2iterable';\n\n/**\n * 更新树节点\n * @param proxy Neep 对象\n * @param source 用于替换的源\n * @param tree 已有树\n */\nexport default function updateList(\n\tproxy: BaseProxy<any>,\n\tsource: any[],\n\ttree: TreeNode | null | TreeNode[],\n): TreeNode[] {\n\tif (!tree) { tree = []; }\n\tif (!Array.isArray(tree)) { tree = [tree]; }\n\tconst newList: TreeNode[] = [];\n\tfor (const src of recursive2iterable(source)) {\n\t\tconst node = toElement(src);\n\t\tif (!node) { continue; }\n\t\tconst index = tree.findIndex(it => it.tag === node.tag && it.key === node.key);\n\t\tif (index >= 0) {\n\t\t\tconst newNode = updateItem(\n\t\t\t\tproxy,\n\t\t\t\tnode,\n\t\t\t\ttree[index],\n\t\t\t);\n\t\t\tif (newNode) {\n\t\t\t\tnewList.push(newNode);\n\t\t\t}\n\t\t\ttree.splice(index, 1);\n\t\t} else {\n\t\t\tconst newNode = createItem(proxy, node);\n\t\t\tif (newNode) {\n\t\t\t\tnewList.push(newNode);\n\t\t\t}\n\t\t}\n\t}\n\tdestroy(tree);\n\treturn newList;\n}\n","import { TreeNode, TreeNodeList } from '../../../types';\nimport BaseProxy from '../../proxy/BaseProxy';\nimport destroy from '../destroy';\nimport toElement from '../toElement';\nimport createItem from '../create/createItem';\nimport updateItem from './updateItem';\nimport updateList from './updateList';\n\n\nexport default function *updateAll(\n\tproxy: BaseProxy<any>,\n\tsource: any,\n\ttree: TreeNodeList,\n): Iterable<TreeNode | null | TreeNode[]> {\n\tif (!Array.isArray(source)) { source = [source]; }\n\tlet index = 0;\n\tlet length = Math.min(source.length || 1, tree.length);\n\tfor (; index < length; index++) {\n\t\tconst src = source[index];\n\t\tif (Array.isArray(src)) {\n\t\t\tyield updateList(proxy, src, tree[index]);\n\t\t} else {\n\t\t\tyield updateItem(proxy, toElement(src), tree[index]);\n\t\t}\n\t}\n\tlength = Math.max(source.length, source.length);\n\tif (tree.length > index) {\n\t\t// 销毁多余项\n\t\tfor (; index < length; index++) {\n\t\t\tdestroy(tree[index]);\n\t\t}\n\t}\n\tif (source.length > index) {\n\t\t// 创建多余项\n\t\tfor (; index < length; index++) {\n\t\t\tconst src = toElement(source[index]);\n\t\t\tif (Array.isArray(src)) {\n\t\t\t\tyield src.flat(Infinity)\n\t\t\t\t\t.map(it => createItem(proxy, it))\n\t\t\t\t\t.filter(Boolean) as TreeNode[];\n\t\t\t} else {\n\t\t\t\tyield createItem(proxy, src);\n\t\t\t}\n\t\t}\n\t}\n}\n","import { TreeNodeList } from '../../types';\nimport { postpone } from '../../install/monitorable';\nimport BaseProxy from '../proxy/BaseProxy';\nimport createAll from './create/createAll';\nimport updateAll from './update/updateAll';\nimport delayRefresh from '../../extends/delayRefresh';\n\nexport { default as destroy } from './destroy';\n\n/**\n * 更新树\n * @param source 用于替换的源\n * @param proxy Neep 对象\n * @param tree 已有树\n */\nexport default function convert(\n\tproxy: BaseProxy<any>,\n\tsource: any[],\n\ttree?: TreeNodeList,\n): TreeNodeList {\n\tif (!tree) {\n\t\treturn delayRefresh(() => postpone(() => createAll(proxy, source)));\n\t}\n\treturn delayRefresh(() => postpone(() => [...updateAll(proxy, source, tree)]));\n}\n","import { ContainerProxy } from '../types';\nimport {printError } from '../install/monitorable';\nimport { nextFrame } from '../install/renderer';\n\nlet awaitDraw = new Set<ContainerProxy<any>>();\n\nconst rendererDraw = new Set<(() => void)>();\nconst baseTick: [number, () => void][] = [];\nconst middleTick: [number, () => void][] = [];\nconst endTick: [number, () => void][] = [];\n\nfunction execTickList(list: [number, () => void][]): void {\n\tconst execList = [...list].sort(([a], [b]) => b - a);\n\tlist.length = 0;\n\ttry {\n\t\texecList.forEach(([, f]) => f());\n\t} catch (e) {\n\t\tprintError(e);\n\t}\n}\nfunction execContainerList(): void {\n\tconst list = [...awaitDraw];\n\tawaitDraw.clear();\n\tlist.map(c => c.drawAll());\n}\nfunction execRendererDrawList(): void {\n\tconst rendererDrawList = [...rendererDraw];\n\trendererDraw.clear();\n\tfor (const f of rendererDrawList) {\n\t\ttry {\n\t\t\tf();\n\t\t} catch (e) {\n\t\t\tprintError(e);\n\t\t}\n\t}\n}\n\nlet requested = false;\nfunction request(): void {\n\tif (requested) { return; }\n\trequested = true;\n\tnextFrame(() => {\n\t\trequested = false;\n\t\texecTickList(baseTick);\n\t\texecContainerList();\n\t\texecTickList(middleTick);\n\t\texecRendererDrawList();\n\t\texecTickList(endTick);\n\t});\n}\n\nexport default function nextTick(\n\tfn: () => void,\n\tlevel: number = 0,\n\ttype?: 'middle' | 'end',\n): void {\n\tconst list = type === 'middle' ? middleTick\n\t\t: type === 'end' ? endTick : baseTick;\n\tlist.push([level, fn]);\n\trequest();\n}\n\nexport function markDraw(c: ContainerProxy<any>): void {\n\tawaitDraw.add(c);\n\trequest();\n}\n\nexport function addRendererDraw(fn: () => void): void {\n\trendererDraw.add(fn);\n\trequest();\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport {\n\tNativeNode,\n\tNativeContainerNode,\n\tMountedNode,\n\tContainerComponent,\n\tMountOptions,\n\tContainerEntity,\n\tHook,\n\tHookData,\n} from '../../types';\nimport {\n\trendererSymbol,\n\tcomponentValueSymbol,\n} from '../../constant/symbols';\nimport { getRender } from '../../install';\nimport { defineProperty } from '../../install/monitorable';\nimport { createMountedNode } from '../id';\nimport convert, { destroy } from '../convert';\nimport draw, { drawPlaceholder, unmount, getNodes } from '../draw';\nimport BaseProxy, { setCompleteList } from './BaseProxy';\nimport ComponentProxy from './ComponentProxy';\nimport { isProduction } from '../../constant/info';\nimport EventEmitter from '../../EventEmitter';\nimport { markDraw } from '../../extends/nextTick';\nimport { callHook, setHook } from '../../extends/hook';\nimport RefProxy from './RefProxy';\n\nfunction createEntity<P extends object>(\n\tobj: ContainerProxy<P>,\n\tevents: EventEmitter<ContainerEntity<any>>,\n): ContainerEntity<any> {\n\tconst cfg: { [K in keyof ContainerEntity<any>]-?:\n\t\t{ configurable: true, value: ContainerEntity<any>[K], writable?: boolean }\n\t\t| { configurable: true, get(): ContainerEntity<any>[K] }\n\t} = {\n\t\tdata: { configurable: true, value: obj.data },\n\t\texposed: { configurable: true, get: () => obj.exposed },\n\t\tcreated: { configurable: true, get: () => obj.created },\n\t\tdestroyed: { configurable: true, get: () => obj.destroyed },\n\t\tmounted: { configurable: true, get: () => obj.mounted },\n\t\tunmounted: { configurable: true, get: () => obj.unmounted },\n\t\tcallHook: { configurable: true, value(h: string) { callHook(h, obj.contextData); } },\n\t\tsetHook: {\n\t\t\tconfigurable: true,\n\t\t\tvalue(id: string, hook: Hook) { return setHook(id, hook, obj.contextData); },\n\t\t},\n\t\ton: { configurable: true, value: events.on },\n\t\temit: { configurable: true, value: events.emit },\n\t};\n\tconst entity: ContainerEntity<any> = Object.create(null, cfg);\n\treturn entity;\n}\n\nexport default class ContainerProxy<\n\tP extends object\n> extends RefProxy<any, ContainerComponent<P> | null, ContainerEntity<any>> {\n\t/** 所属容器 */\n\treadonly container: ContainerProxy<any>;\n\t/** 渲染组件根部，如果自身是 ComponentProxy 则为自身 */\n\treadonly componentRoot?: ComponentProxy<any, any, any, any>;\n\n\tsetmountedRoot(target?: any, next?: any): void {\n\t\tif (this.parentProxy) { return; }\n\t\tconst container = this.__container;\n\t\tif (!container) { return; }\n\t\tconst {renderer} = this;\n\t\tconst [r, n] = renderer.getContainer(container, target, next);\n\t\tif (!r) { return; }\n\t\tfor (const it of getNodes(this.tree)) {\n\t\t\trenderer.insertNode(r, it, n);\n\t\t}\n\t}\n\n\tprivate readonly __containerData: any;\n\t/** 组件树结构 */\n\tcontent: (MountedNode | MountedNode[])[] = [];\n\n\treadonly rootContainer: ContainerProxy<any> = this;\n\treadonly contextData: HookData;\n\tconstructor(\n\t\toriginalTag: any,\n\t\tcomponent: ContainerComponent<P> | null = null,\n\t\tprops: Record<string, any> = {},\n\t\tchildren: any[],\n\t\tparent?: BaseProxy<any>,\n\t) {\n\t\tsuper(\n\t\t\tcomponent\n\t\t\t\t? getRender(component[rendererSymbol], parent?.renderer)\n\t\t\t\t: getRender(parent?.renderer),\n\t\t\toriginalTag,\n\t\t\tcomponent,\n\t\t\tprops,\n\t\t\tparent,\n\t\t);\n\t\tthis.container = this;\n\t\tthis.componentRoot = parent?.componentRoot;\n\t\tthis.contextData = { hooks: {} };\n\n\t\tif (component) {\n\t\t\tthis.__containerData = component[componentValueSymbol];\n\t\t}\n\t\tif (!isProduction) { defineProperty(this, 'content', []); }\n\t\t// 事件处理\n\t\tthis.events.updateInProps(props);\n\t\tif (parent) { this.rootContainer = parent.container.rootContainer; }\n\t\tthis.__nodes = convert(this, children);\n\t\tthis.created = true;\n\t}\n\n\tcreateEntity(events: EventEmitter<any>): ContainerEntity<any> {\n\t\treturn createEntity(this, events);\n\t}\n\tprivate __nodes: any[] = [];\n\tsetChildren(children: any[]): void {\n\t\tif (this.destroyed) { return; }\n\t\tthis.__nodes = convert(this, children, this.__nodes);\n\t\tthis.requestDraw();\n\t}\n\t/** 更新属性及子代 */\n\t_update(props: Record<string, any>, children: any[]): void {\n\t\tif (this.destroyed) { return; }\n\t\tthis.__nodes = convert(this, children, this.__nodes);\n\t\t// 事件处理\n\t\tthis.events.updateInProps(props);\n\t\tthis.requestDraw();\n\t}\n\t_destroy(): void { destroy(this.__nodes); }\n\tcallHook(id: string): void { callHook(id, this.contextData); }\n\n\trequestDraw(): void { this.markDraw(this); }\n\tprivate __container: NativeContainerNode | null = null;\n\tprivate __placeholder: MountedNode | undefined;\n\tprivate __placeholderNode: NativeNode | undefined;\n\tprivate __targetNode: NativeContainerNode | null = null;\n\tprivate __insertNode: NativeNode | null = null;\n\tprivate __nextNode: NativeNode | null = null;\n\t_mount(opt: MountOptions): MountOptions | undefined {\n\t\tconst { parentProxy, renderer } = this;\n\t\tconst parentRenderer = parentProxy?.renderer || renderer;\n\n\t\tconst {\n\t\t\tcontainer,\n\t\t\ttarget: targetNode,\n\t\t\tinsert,\n\t\t\tnext,\n\t\t\texposed,\n\t\t} = renderer.mountContainer(\n\t\t\tthis.__containerData,\n\t\t\tthis.attrs,\n\t\t\tthis.events.emit,\n\t\t\tparentProxy?.renderer,\n\t\t);\n\t\tthis.setExposed(exposed);\n\t\tconst subOpt = renderer.getMountOptions(container, opt) || opt;\n\n\t\tconst placeholder = drawPlaceholder(parentRenderer);\n\t\tthis.__placeholder = placeholder;\n\t\tconst placeholderNode = placeholder.node!;\n\t\tthis.__placeholderNode = placeholderNode;\n\t\tthis.__container = container;\n\t\tconst content = draw(renderer, subOpt, this.__nodes);\n\t\tthis.content = content;\n\t\tthis.__insertNode = insert;\n\t\tthis.__nextNode = next;\n\t\tif (!targetNode && parentRenderer === renderer) {\n\t\t\tthis.tree = insert\n\t\t\t\t? [...content, createMountedNode({ node: insert }), placeholder]\n\t\t\t\t: [...content, placeholder];\n\t\t\treturn subOpt;\n\t\t}\n\t\tconst target = targetNode || container;\n\t\tthis.__targetNode = target;\n\t\tfor (const it of getNodes(content)) {\n\t\t\trenderer.insertNode(target, it, next);\n\t\t}\n\t\tthis.tree = insert\n\t\t\t? [createMountedNode({ node: insert }), placeholder]\n\t\t\t: [placeholder];\n\t\treturn subOpt;\n\t}\n\t_redrawSelf(): void {\n\t\tconst { __targetNode, __insertNode, __nextNode } = this;\n\t\tconst { attrs, parentProxy, renderer } = this;\n\t\tconst placeholder = this.__placeholder!;\n\t\tconst placeholderNode = this.__placeholderNode!;\n\t\tconst container = this.__container!;\n\t\tconst parentRenderer = parentProxy?.renderer || renderer;\n\n\t\tconst {target: targetNode, insert, next} = renderer.updateContainer(\n\t\t\tcontainer,\n\t\t\t__targetNode,\n\t\t\t__insertNode,\n\t\t\t__nextNode,\n\t\t\tthis.__containerData,\n\t\t\tattrs,\n\t\t\tthis.events.emit,\n\t\t\tparentProxy?.renderer,\n\t\t);\n\t\tthis.__insertNode = insert;\n\t\tthis.__nextNode = next;\n\t\tconst parentNode = parentRenderer.getParent(placeholderNode);\n\t\tif (insert !== __insertNode) {\n\t\t\tif (__insertNode) { renderer.removeNode(__insertNode); }\n\t\t\tif (insert && parentNode) {\n\t\t\t\trenderer.insertNode(parentNode, insert, placeholderNode);\n\t\t\t}\n\t\t}\n\t\tif (!targetNode && parentRenderer === renderer) {\n\t\t\tconst { content } = this;\n\t\t\tif (__targetNode && parentNode) {\n\t\t\t\tconst nextNode = insert || placeholderNode;\n\t\t\t\tfor (const it of getNodes(content)) {\n\t\t\t\t\tparentRenderer.insertNode(parentNode, it, nextNode);\n\t\t\t\t}\n\t\t\t\tthis.__targetNode = null;\n\t\t\t}\n\t\t\tthis.tree = insert\n\t\t\t\t? [...content, createMountedNode({ node: insert }), placeholder]\n\t\t\t\t: [...content, placeholder];\n\t\t} else {\n\t\t\tconst target = targetNode || container;\n\t\t\tthis.__targetNode = target;\n\t\t\tif (target !== __targetNode || next !== __nextNode) {\n\t\t\t\tfor (const it of getNodes(this.content)) {\n\t\t\t\t\trenderer.insertNode(target, it, next);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.tree = insert\n\t\t\t\t? [createMountedNode({ node: insert }), placeholder]\n\t\t\t\t: [placeholder];\n\t\t}\n\t\trenderer.recoveryContainer(\n\t\t\tcontainer,\n\t\t\t__targetNode,\n\t\t\t__insertNode,\n\t\t\t__nextNode,\n\t\t\ttargetNode,\n\t\t\tinsert,\n\t\t\tnext,\n\t\t\tthis.__containerData,\n\t\t\tattrs,\n\t\t\tparentProxy?.renderer,\n\t\t);\n\t}\n\t_redrawChildren(opts: MountOptions): void {\n\t\tconst content = draw(this.renderer, opts, this.__nodes, this.content);\n\t\tthis.content = content;\n\t\tif (!this.__targetNode) { return; }\n\t\tconst placeholder = this.__placeholder!;\n\t\tconst insertNode = this.__insertNode;\n\t\tthis.tree = insertNode\n\t\t\t? [...content, createMountedNode({ node: insertNode }), placeholder]\n\t\t\t: [...content, placeholder];\n\t}\n\t_redraw(opt: MountOptions): void {\n\t\tthis._redrawChildren(opt);\n\t\tthis._redrawSelf();\n\t}\n\t_unmount(): void {\n\t\tconst { parentProxy, renderer, __insertNode } = this;\n\t\tconst parentRenderer = parentProxy?.renderer || renderer;\n\t\tunmount(this.renderer, this.content);\n\t\tif (__insertNode) { parentRenderer.removeNode(__insertNode); }\n\t\tparentRenderer.removeNode(this.__placeholderNode!);\n\t\trenderer.unmountContainer(\n\t\t\tthis.__container!,\n\t\t\tthis.__targetNode,\n\t\t\t__insertNode,\n\t\t\tthis.__nextNode,\n\t\t\tthis.__containerData,\n\t\t\tthis.attrs,\n\t\t\tparentProxy?.renderer,\n\t\t);\n\t}\n\n\t/** 等待重画的项目 */\n\tprivate __awaitDraw = new Set<BaseProxy<any>>();\n\t/** 标记需要绘制的元素 */\n\tmarkDraw(proxy: BaseProxy<any>): void {\n\t\tif (this.parentProxy?.renderer === this.renderer) {\n\t\t\tthis.parentProxy.container.markDraw(proxy);\n\t\t\treturn;\n\t\t}\n\t\tif (proxy === this && this.parentProxy) {\n\t\t\tthis.parentProxy.container.markDraw(this);\n\t\t} else {\n\t\t\tthis.__awaitDraw.add(proxy);\n\t\t}\n\t\tthis.rootContainer.markDrawContainer(this);\n\t}\n\tdrawContainer(): void {\n\t\tif (this.destroyed || !this.__container) { return; }\n\t\tconst { __awaitDraw } = this;\n\t\tconst list = [...__awaitDraw];\n\t\t__awaitDraw.clear();\n\t\tlist.map(c => c.redraw());\n\t}\n\tprivate __containers = new Set<ContainerProxy<any>>();\n\tmarkDrawContainer(container: ContainerProxy<any>): void {\n\t\tthis.__containers.add(container);\n\t\tmarkDraw(this);\n\t}\n\tdrawAll(): void {\n\t\tconst containers = this.__containers;\n\t\tif (!containers.size) { return; }\n\t\tconst list = [...containers];\n\t\tcontainers.clear();\n\t\tconst completeList: (() => void)[] = [];\n\t\tsetCompleteList(completeList);\n\t\tlist.forEach(c => c.drawContainer());\n\t\tcompleteList.forEach(r => r());\n\t}\n}\n","import {\n\tElement,\n\tStandardComponent,\n\tRootEntity,\n\tContainerComponent,\n\tComponent,\n\tValue,\n} from './types';\nimport { isElement, createElementBase } from './auxiliary';\nimport { isProduction } from './constant/info';\nimport { devtools, getRender } from './install';\nimport ContainerProxy from './entity/proxy/ContainerProxy';\nimport { isContainerComponent } from './is';\nimport { monitor, value } from './install/monitorable';\nimport { init } from './entity/normalize';\nimport { NormalizeAuxiliaryObject } from './entity/normalize';\nimport { wait } from './extends/delayRefresh';\nimport { rendererSymbol } from './constant/symbols';\n\nfunction createContainerEntity(\n\te: Element | Component<any> | undefined,\n\tp: Record<string, any>,\n): [ContainerProxy<any>, Value<any[]>] {\n\tif (e === undefined) {\n\t\treturn createRender(null, p);\n\t}\n\tif (isContainerComponent(e)) {\n\t\treturn createRender(e, p);\n\t}\n\tif (!isElement(e)) {\n\t\treturn createRender(null, p, [createElementBase(e)]);\n\t}\n\tif (isContainerComponent(e.tag)) {\n\t\tconst params = {...e.props, ...p};\n\t\treturn createRender(e.tag, params);\n\t}\n\treturn createRender(null, p, [e]);\n}\n\nfunction createRender(\n\ttag: ContainerComponent<any, any> | null,\n\tprops: Record<string, any>,\n\tchildNodes: any[] = [],\n): [ContainerProxy<any>, Value<any[]>] {\n\tconst children = value(childNodes);\n\n\tconst normalizeAuxiliaryObject: NormalizeAuxiliaryObject = {\n\t\trenderer: tag ? getRender(tag[rendererSymbol]) :  getRender(),\n\t\trefresh,\n\t\tslotRenderFnList: new WeakMap(),\n\t\tdelivered: Object.create(null),\n\t\t// TODO\n\t\tsimpleParent: undefined,\n\t};\n\n\tlet __needRefresh = false;\n\tlet __refreshing = false;\n\n\tlet container: ContainerProxy<any> | undefined;\n\tfunction refresh(): void {\n\t\tif (!container) {\n\t\t\t__needRefresh = true;\n\t\t\treturn;\n\t\t}\n\t\tif (container.destroyed) { return; }\n\t\t__needRefresh = true;\n\t\tif (!container.created) { return; }\n\n\t\tif (__refreshing) { return; }\n\t\t__refreshing = true;\n\n\t\tlet nodes: any[] | undefined;\n\t\tfor (;;) {\n\t\t\tif (wait(refreshObj)) { break; }\n\t\t\tif (!__needRefresh) { break; }\n\t\t\t__needRefresh = false;\n\t\t\tnodes = _render();\n\t\t\tif (container.destroyed) { return; }\n\t\t}\n\t\t__refreshing = false;\n\t\tif (wait(refreshObj)) { return; }\n\t\tif (!nodes) { return; }\n\n\t\tif (!container.mounted) { return; }\n\t\tif (container.destroyed) { return; }\n\t\tif (container.unmounted) { return; }\n\t\tcontainer.setChildren(nodes);\n\t}\n\tconst refreshObj = { refresh };\n\tconst slots = Object.create(null);\n\tconst _render = monitor(\n\t\tc => c && refresh(),\n\t\t() => init(\n\t\t\tnormalizeAuxiliaryObject,\n\t\t\tchildren.value,\n\t\t\tslots,\n\t\t\t[],\n\t\t\tfalse,\n\t\t\tfalse,\n\t\t),\n\t);\n\tcontainer = new ContainerProxy(tag, tag, props, _render());\n\tif (__needRefresh) { refresh(); }\n\treturn [container, children];\n}\n\nfunction render(\n\te?: Element | Component<any>,\n\tp: Record<string, any> = {},\n): RootEntity<any> {\n\tconst [container, children] =  createContainerEntity(e, p);\n\tconst entity: RootEntity<any> = Object.create(container.entity, {\n\t\tupdate: {\n\t\t\tconfigurable: true,\n\t\t\tvalue(c?: Element | StandardComponent<any, any, any>) {\n\t\t\t\tif (container.destroyed) { return entity; }\n\t\t\t\tchildren(c === undefined ? []\n\t\t\t\t\t: isElement(c) ? [c] : [createElementBase(c)]);\n\t\t\t\treturn entity;\n\t\t\t},\n\t\t},\n\t\tmount: {\n\t\t\tconfigurable: true,\n\t\t\tvalue(target?: any, next?: any) {\n\t\t\t\tif (container.destroyed) { return entity; }\n\t\t\t\tif (container.mounted) { return entity; }\n\t\t\t\tcontainer.mount({});\n\t\t\t\tcontainer.setmountedRoot(target, next);\n\t\t\t\treturn entity;\n\t\t\t},\n\t\t},\n\t\tunmount: {\n\t\t\tconfigurable: true,\n\t\t\tvalue() {\n\t\t\t\tif (!container.mounted) { return; }\n\t\t\t\tif (container.unmounted) { return; }\n\t\t\t\tif (!container.destroyed) { container.destroy(); }\n\t\t\t\tcontainer.unmount();\n\t\t\t\treturn entity;\n\t\t\t},\n\t\t},\n\t});\n\tif (!isProduction) {\n\t\tdevtools.renderHook(entity, container);\n\t}\n\treturn entity;\n}\n\nexport default render;\n","import {\n\tComponentFunc,\n\tStandardComponent,\n\tRenderComponent,\n\tSimpleComponent,\n\tContainerComponent,\n\tDeliverComponent,\n\tIRenderer,\n\tNode,\n\tComponentContext,\n\tNativeComponent,\n\tComponent,\n\tSimpleComponentFunc,\n\tShellComponentFunc,\n\tShellComponent,\n\tElement,\n\tElementComponent,\n\tSelfComponent,\n} from './types';\nimport {\n\tnameSymbol,\n\tcomponentsSymbol,\n\tobjectTypeSymbol,\n\tobjectTypeSymbolSimpleComponent,\n\tobjectTypeSymbolNativeComponent,\n\tobjectTypeSymbolRenderComponent,\n\tobjectTypeSymbolDeliverComponent,\n\tobjectTypeSymbolContainerComponent,\n\trendererSymbol,\n\tdeliverKeySymbol,\n\tdeliverDefaultSymbol,\n\tobjectTypeSymbolShellComponent,\n\tpropsSymbol,\n\tcomponentValueSymbol,\n\tobjectTypeSymbolElementComponent,\n} from './constant/symbols';\nimport { createElementBase } from './auxiliary';\nimport { isRenderComponent } from './is';\n\n\ntype Render<\n\tTObject extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n> =\n\t((params: TObject, context: ComponentContext<TExpose, TEmit>) => Node)\n\t| RenderComponent<TObject, TExpose, TEmit>;\n\ninterface Options<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n\tTObject extends object,\n> {\n\tname?: string;\n\tcomponents?: Record<string, Component<any>>;\n\trender?: Render<TObject, TExpose, TEmit>;\n\tprops?: (keyof TProps)[];\n}\n\nfunction setObjectType<\n\tT extends Function & { [objectTypeSymbol]: any; }\n>(\n\tcomponent: T,\n\ttype: T extends Function & { [objectTypeSymbol]: infer S; } ? S : never,\n): T {\n\tReflect.defineProperty(component, objectTypeSymbol, { value: type });\n\treturn component;\n}\n\nfunction setName<\n\tT extends Function & { [nameSymbol]?: string; }\n>(component: T, name?: string): T {\n\tif (!name || typeof name !== 'string') { return component; }\n\tReflect.defineProperty(component, nameSymbol, { value: name });\n\treturn component;\n}\nfunction setValue<\n\tV, T extends Function & { [componentValueSymbol]: V; }\n>(component: T, value: V): T {\n\tReflect.defineProperty(component, componentValueSymbol, { value });\n\treturn component;\n}\nfunction setComponents<\n\tV, T extends Function & { [componentsSymbol]?: V; }\n>(component: T, components: V): T {\n\tif (!components || typeof components !== 'object') { return component; }\n\tReflect.defineProperty(component, componentsSymbol, { value: components });\n\treturn component;\n}\n\nfunction createSelfComponent<C extends SelfComponent<any>>(): C {\n\tconst component = function component(params: any): Element<C> {\n\t\treturn createElementBase(component, params) as Element<C>;\n\t} as  C;\n\treturn component;\n}\n\nexport function createDeliverComponent<T>(def: T): DeliverComponent<T>;\nexport function createDeliverComponent<T>(def?: T): DeliverComponent<T | undefined>;\nexport function createDeliverComponent<T, D>(def: D): DeliverComponent<T | D>;\nexport function createDeliverComponent<T>(def: T): DeliverComponent<T> {\n\tconst component = createSelfComponent<DeliverComponent<T>>();\n\tsetObjectType(component, objectTypeSymbolDeliverComponent);\n\tReflect.defineProperty(component, deliverKeySymbol, { value: Symbol() });\n\tReflect.defineProperty(component, deliverDefaultSymbol, { value: def });\n\treturn component;\n}\n\nexport function createRenderComponent<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>\n>(\n\tf: ComponentFunc<TProps, TExpose, TEmit>,\n\t{name, components}: {\n\t\tname?: string;\n\t\tcomponents?: Record<string, Component<any>>;\n\t} = {},\n): RenderComponent<TProps, TExpose, TEmit> {\n\tconst component = createSelfComponent<RenderComponent<TProps, TExpose, TEmit>>();\n\tsetObjectType(component, objectTypeSymbolRenderComponent);\n\tsetName(component, name);\n\tsetValue(component, f);\n\tsetComponents(component, components);\n\treturn component;\n}\nexport function createContainerComponent<P extends object, T = any>(\n\tvalue: T,\n\t{name, renderer}: { name?: string, renderer?: string | IRenderer} = {},\n): ContainerComponent<P, T> {\n\tconst component = createSelfComponent<ContainerComponent<P, T>>();\n\tsetObjectType(component, objectTypeSymbolContainerComponent);\n\tsetName(component, name);\n\tsetValue(component, value);\n\tif (typeof renderer === 'string' || typeof renderer === 'object') {\n\t\tReflect.defineProperty(component, rendererSymbol, { value: renderer });\n\t}\n\treturn component;\n}\nexport function createElementComponent<P extends object, T>(\n\tvalue: T,\n\t{ name }: { name?: string } = {},\n): ElementComponent<P, T> {\n\tconst component = createSelfComponent<ElementComponent<P, T>>();\n\tsetObjectType(component, objectTypeSymbolElementComponent);\n\tsetName(component, name);\n\tsetValue(component, value);\n\treturn component;\n}\n\nexport function createStandardComponent<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>\n>(\n\tf: ComponentFunc<TProps, TExpose, TEmit>,\n\toptions?: Options<TProps, TExpose, TEmit, never> & { render?: undefined },\n): StandardComponent<TProps, TExpose, TEmit>;\n\nexport function createStandardComponent<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n\tTObject extends object,\n>(\n\tf: (props: TProps, context: ComponentContext<TExpose, TEmit>) => TObject,\n\toptions: Options<TProps, TExpose, TEmit, TObject> & { render: Render<TObject, TExpose, TEmit>; },\n): StandardComponent<TProps, TExpose, TEmit>;\n\nexport function createStandardComponent<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n\tTObject extends object,\n>(\n\tf: (props: TProps, context: ComponentContext<TExpose, TEmit>) => TObject | Node,\n\t{name, components, render, props}: Options<TProps, TExpose, TEmit, TObject> = {},\n): StandardComponent<TProps, TExpose, TEmit> {\n\tconst component = createComponentFunc(f, render);\n\tsetName(component, name);\n\tsetComponents(component, components);\n\tif (Array.isArray(props)) {\n\t\tReflect.defineProperty(component, propsSymbol, { value: [...props] });\n\t}\n\treturn component;\n}\n\nfunction createComponentFunc<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n\tTObject extends object,\n>(\n\tf: (props: TProps, context: ComponentContext<TExpose, TEmit>) => TObject | Node,\n\trender?: Render<TObject, TExpose, TEmit>,\n): StandardComponent<TProps, TExpose, TEmit> {\n\tif (typeof render !== 'function') {\n\t\treturn f as StandardComponent<TProps, TExpose, TEmit>;\n\t}\n\tconst renderComponent = isRenderComponent(render)\n\t\t? render\n\t\t: createRenderComponent(render);\n\treturn function StandardComponent(props, context): Node {\n\t\treturn createElementBase(renderComponent, f(props, context) as TObject);\n\t};\n}\n\n\nexport function createNativeComponent<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>\n>(\n\tf: ComponentFunc<TProps, TExpose, TEmit>,\n\toptions: Options<TProps, TExpose, TEmit, never> & { render?: undefined },\n): NativeComponent<TProps, TExpose, TEmit>;\nexport function createNativeComponent<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n\tTObject extends object,\n>(\n\tf: (props: TProps, context: ComponentContext<TExpose, TEmit>) => TObject,\n\toptions: Options<TProps, TExpose, TEmit, TObject> & { render: Render<TObject, TExpose, TEmit>; },\n): NativeComponent<TProps, TExpose, TEmit>;\n\nexport function createNativeComponent<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n\tTObject extends object,\n>(\n\tf: (props: TProps, context: ComponentContext<TExpose, TEmit>) => TObject | Node,\n\t{name, components, render, props}: Options<TProps, TExpose, TEmit, TObject> = {},\n): NativeComponent<TProps, TExpose, TEmit> {\n\tconst component = createComponentFunc(f, render) as NativeComponent<TProps, TExpose, TEmit>;\n\tsetObjectType(component, objectTypeSymbolNativeComponent);\n\tsetName(component, name);\n\tsetComponents(component, components);\n\tif (Array.isArray(props)) {\n\t\tReflect.defineProperty(component, propsSymbol, { value: [...props] });\n\t}\n\treturn component;\n}\n\n\nexport function createSimpleComponent<\n\tTProps extends object,\n\tTEmit extends Record<string, any>\n>(\n\tf: SimpleComponentFunc<TProps, TEmit>,\n\t{name, components}: {\n\t\tname?: string;\n\t\tcomponents?: Record<string, Component<any>>;\n\t} = {},\n): SimpleComponent<TProps, TEmit> {\n\tconst component = f as SimpleComponent<TProps, TEmit>;\n\tsetObjectType(component, objectTypeSymbolSimpleComponent);\n\tsetName(component, name);\n\tsetComponents(component, components);\n\treturn component;\n}\nexport function createShellComponent<\n\tTProps extends object,\n\tTEmit extends Record<string, any>\n>(\n\tf: ShellComponentFunc<TProps, TEmit>,\n\t{name}: { name?: string; } = {},\n): ShellComponent<TProps, TEmit> {\n\tconst component = f as ShellComponent<TProps, TEmit>;\n\tsetObjectType(component, objectTypeSymbolShellComponent);\n\tsetName(component, name);\n\treturn component;\n}\n\nexport {\n\tcreateStandardComponent as createComponent,\n};\n","import DeliverProxy from '../entity/proxy/DeliverProxy';\nimport ElementProxy from '../entity/proxy/ElementProxy';\nimport GroupProxy from '../entity/proxy/GroupProxy';\nimport ShellProxy from '../entity/proxy/ShellProxy';\nimport SlotProxy from '../entity/proxy/SlotProxy';\nimport ValueProxy from '../entity/proxy/ValueProxy';\n\nimport NodeProxy from '../entity/proxy/NodeProxy';\n\nimport ContainerProxy from '../entity/proxy/ContainerProxy';\n\nimport StandardComponentProxy from '../entity/proxy/StandardComponentProxy';\nimport RenderComponentProxy from '../entity/proxy/RenderComponentProxy';\nimport ComponentProxy from '../entity/proxy/ComponentProxy';\n\nimport RefProxy from '../entity/proxy/RefProxy';\nimport BaseProxy from '../entity/proxy/BaseProxy';\n\nexport function isProxy(v: any, type?: ''): v is RefProxy<any, any, any>;\nexport function isProxy(v: any, type?: ''): v is BaseProxy<any>;\n\nexport function isProxy(v: any, type: 'component'): v is ComponentProxy<any, any, any, any>;\nexport function isProxy(v: any, type: 'standardComponent'): v is StandardComponentProxy<any, any, any, any>;\nexport function isProxy(v: any, type: 'renderComponent'): v is RenderComponentProxy<any, any, any, any>;\nexport function isProxy(v: any, type: 'container'): v is ContainerProxy<any>;\n\nexport function isProxy(v: any, type: 'node'): v is NodeProxy<any>;\nexport function isProxy(v: any, type: 'deliver'): v is DeliverProxy<any>;\nexport function isProxy(v: any, type: 'element'): v is ElementProxy<any>;\nexport function isProxy(v: any, type: 'group'): v is GroupProxy<any>;\nexport function isProxy(v: any, type: 'shell'): v is ShellProxy<any>;\nexport function isProxy(v: any, type: 'value'): v is ValueProxy;\nexport function isProxy(v: any, type: 'slot'): v is SlotProxy;\n\nexport function isProxy(v: any, type?: string): boolean {\n\tswitch (type) {\n\t\tcase 'standardComponent': return v instanceof StandardComponentProxy;\n\t\tcase 'renderComponent': return v instanceof RenderComponentProxy;\n\t\tcase 'component': return v instanceof ComponentProxy;\n\n\t\tcase 'container': return v instanceof ContainerProxy;\n\n\t\tcase 'deliver': return v instanceof DeliverProxy;\n\t\tcase 'element': return v instanceof ElementProxy;\n\t\tcase 'group': return v instanceof GroupProxy;\n\t\tcase 'shell': return v instanceof ShellProxy;\n\t\tcase 'value': return v instanceof ValueProxy;\n\t\tcase 'slot': return v instanceof SlotProxy;\n\t\tcase 'node': return v instanceof NodeProxy;\n\t\tcase 'ref': return v instanceof RefProxy;\n\t}\n\treturn v instanceof BaseProxy;\n}\n","import {\n\tElement,\n\tComponent,\n\tDeliverComponent,\n\tRenderComponent,\n} from '../types';\nimport {createElementBase} from '../auxiliary';\n\nfunction createElement<T extends DeliverComponent<any>>(\n\ttag: T,\n\tattrs?: (T extends DeliverComponent<infer P> ? {value: P} : never),\n\t...children: any[]\n): Element;\nfunction createElement<P extends object, T extends Component<P> | RenderComponent<P, any, any>>(\n\ttag: T,\n\tattrs?: P,\n\t...children: any[]\n): Element;\nfunction createElement<T extends string>(\n\ttag: T,\n\tattrs?: Record<string, any>,\n\t...children: any[]\n): Element;\n\nfunction createElement(\n\ttag: any,\n\tattrs?: Record<string, any> | null,\n\t...children: any[]\n): Element;\nfunction createElement(\n\ttag: any,\n\tattrs?: Record<string, any> | null,\n\t...children: any[]\n): Element {\n\tconst attrProps = attrs ? {...attrs} : {};\n\tconst props: Record<string, any> = {};\n\tfor (const n of Object.keys(attrProps)) {\n\t\tif (n === '@') {\n\t\t\tprops['n:on'] = attrProps[n];\n\t\t\tcontinue;\n\t\t}\n\t\tif (n[0] === '!') {\n\t\t\tprops[`n:${ n.substr(1) }`] = attrProps[n];\n\t\t\tcontinue;\n\t\t}\n\t\tif (n[0] === '@') {\n\t\t\tprops[`on:${ n.substr(1) }`] = attrProps[n];\n\t\t\tcontinue;\n\t\t}\n\t\tif (n.substr(0, 2) === 'n-') {\n\t\t\tprops[`n:${ n.substr(2) }`] = attrProps[n];\n\t\t\tcontinue;\n\t\t}\n\t\tif (n.substr(0, 3) === 'on-') {\n\t\t\tconst fn = attrProps[n];\n\t\t\tif (typeof fn === 'function' || fn === null || fn === undefined) {\n\t\t\t\tprops[`on:${ n.substr(3) }`] = fn;\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\t\tif (n.substr(0, 5) === 'hook-') {\n\t\t\tconst fn = attrProps[n];\n\t\t\tif (typeof fn === 'function' || fn === null || fn === undefined) {\n\t\t\t\tprops[`hook:${ n.substr(5) }`] = fn;\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\t\tif (n.substr(0, 5) === 'data-') {\n\t\t\tprops[`data:${ n.substr(5) }`] = attrProps[n];\n\t\t}\n\t\tprops[n] = attrProps[n];\n\t}\n\treturn createElementBase(tag, props, ...children);\n}\n\nexport default createElement;\n","import { Value } from '../types';\nimport { value } from '../auxiliary';\nimport { createUse } from '../extends';\n\n\nconst useValue: {\n\t(): Value<any>;\n\t<T>(fn: () => T): T;\n\t<T>(fn?: () => T): T | Value<any>;\n} = createUse<any, [(() => any) | void]>({\n\tname: 'useValue',\n\tcreate: fn => typeof fn === 'function' ? fn() : value(undefined),\n});\nexport default useValue;\n","import { Ref, Entity } from '../types';\nimport { value } from '../auxiliary';\n\nfunction createEntitySetRef<T extends Entity<any, any>>(set: ref.Set<T>): Ref<any, T> {\n\treturn function refValue(_0, _1, entity, state): void {\n\t\tif (state === true) {\n\t\t\tset.add(entity);\n\t\t\treturn;\n\t\t}\n\t\tif (state === false) {\n\t\t\tset.delete(entity);\n\t\t}\n\t};\n}\nfunction createExposedSetRef<T extends object>(set: ref.Set<T>): Ref<T, any> {\n\treturn function refValue(newNode, oldNode): void {\n\t\tif (newNode === undefined) {\n\t\t\tif (oldNode !== undefined) {\n\t\t\t\tset.delete(oldNode);\n\t\t\t}\n\t\t\treturn;\n\t\t} if (oldNode === undefined) {\n\t\t\tset.add(newNode);\n\t\t\treturn;\n\t\t} if (typeof set.replace === 'function') {\n\t\t\tset.replace(newNode, oldNode);\n\t\t\treturn;\n\t\t}\n\t\tset.delete(oldNode);\n\t\tset.add(newNode);\n\t};\n}\nfunction createEntityRefValue<T extends Entity<any, any>>(watch?: boolean): ref.EntityValue<T> {\n\tconst obj =  watch ? value<T | undefined>(undefined) : { value: undefined };\n\tfunction refValue(_1: any, _2: any, entity: T, state?: boolean): void {\n\t\tobj.value = state === false ? entity : undefined;\n\t}\n\tReflect.defineProperty(refValue, 'value', {\n\t\tget() { return obj.value; },\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n\treturn refValue as unknown as ref.EntityValue<T>;\n}\nfunction createExposedRefValue<T extends object>(watch?: boolean): ref.Value<T> {\n\tconst obj =  watch ? value<T | undefined>(undefined) : { value: undefined };\n\tfunction refValue(newNode: T | undefined): void {\n\t\tobj.value = newNode;\n\t}\n\tReflect.defineProperty(refValue, 'value', {\n\t\tget() { return obj.value; },\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n\treturn refValue as unknown as ref.Value<T>;\n}\n\nfunction ref<T extends object>(watch?: boolean, isEntity?: false): ref.Value<T>;\nfunction ref<T extends Entity<any, any>>(watch: boolean, isEntity: true): ref.EntityValue<T>;\nfunction ref<T extends object>(set: ref.Set<T>, isEntity?: false): Ref<T, any>;\nfunction ref<T extends Entity<any, any>>(set: ref.Set<T>, isEntity: true): Ref<any, T>;\nfunction ref<\n\tT extends object\n>(\n\tset?: boolean | ref.Set<T>,\n\tisEntity?: boolean,\n): Ref<T, any> | ref.Value<T> | ref.EntityValue<T & Entity<any, any>> | Ref<any, T & Entity<any, any>> {\n\tif (set && (typeof set === 'function' || typeof set === 'object')) {\n\t\treturn isEntity ? createEntitySetRef(set as any) : createExposedSetRef(set);\n\t}\n\treturn isEntity ? createEntityRefValue(set) : createExposedRefValue(set);\n}\n\n\ndeclare namespace ref {\n\texport interface Set<T extends object> {\n\t\tadd(value: T): void;\n\t\tdelete(value: T): void;\n\t\treplace?(newNode: T, oldNode: T): void;\n\t}\n\texport interface Value<T extends object> extends Ref<T, any> {\n\t\treadonly value: T | null\n\t}\n\texport interface EntityValue<T extends Entity<any, any>> extends Ref<any, T> {\n\t\treadonly value: T | null\n\t}\n}\nexport default ref;\n","import { Component, SimpleComponent } from '../types';\nimport { value } from '../auxiliary';\nimport { createSimpleComponent } from '../create';\nimport createElement from './createElement';\n\nconst LOADING = 0;\ntype LOADING = typeof LOADING;\nconst FAILING = -1;\ntype FAILING = typeof FAILING;\nconst COMPLETE = 1;\ntype COMPLETE = typeof COMPLETE;\n\nexport default function lazy<\n\tP extends object,\n\tC extends Component<P>\n>(\n\tcomponent: () => Promise<C | { default: C }>,\n\tPlaceholder?: Component<{ loading: boolean }>,\n): SimpleComponent<P, any> {\n\tconst reslut = value<LOADING | FAILING | COMPLETE>(LOADING);\n\tlet isLoad = false;\n\tconst ComponentValue = value<undefined | C>(undefined);\n\tasync function load(): Promise<void> {\n\t\tif (isLoad) { return; }\n\t\tisLoad = true;\n\t\tif (reslut()) { return; }\n\t\treslut(COMPLETE);\n\t\ttry {\n\t\t\tconst c = await component();\n\t\t\tif (typeof c === 'function') {\n\t\t\t\tComponentValue(c);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!c) {\n\t\t\t\treslut(FAILING);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (typeof c.default === 'function') {\n\t\t\t\tComponentValue(c.default);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treslut(FAILING);\n\t\t} catch (e) {\n\t\t\tconsole.error(e);\n\t\t\treslut(FAILING);\n\t\t}\n\t}\n\treturn createSimpleComponent((props, { childNodes }) => {\n\t\tconst com = ComponentValue();\n\t\tif (com) { return createElement(com, props, ...childNodes()); }\n\t\tload();\n\t\tif (!Placeholder) { return null; }\n\t\treturn createElement(Placeholder, { loading: reslut() === LOADING});\n\t}, {name: 'Lazy'});\n}\n","import { Element, Node } from '../types';\nimport { objectTypeSymbol, objectTypeSymbolElement } from '../constant/symbols';\nimport { Render } from '../constant/tags';\n\n\nexport default function createRenderElement(\n\trender: (_?: any) => Node,\n\t{slot, key}: {slot?: string, key?: string} = {},\n): Element {\n\tconst node: Element = {\n\t\t[objectTypeSymbol]: objectTypeSymbolElement,\n\t\ttag: Render,\n\t\tprops: {\n\t\t\t'n:key': key,\n\t\t\t'n:slot': slot,\n\t\t},\n\t\tchildren: [render],\n\t\tkey, slot,\n\t};\n\treturn node;\n}\n","import { Template } from '../constant/tags';\nimport { isSimpleComponent } from '../is';\nimport {isElement} from '../auxiliary';\nimport { SimpleComponent } from '../types';\n\nfunction elements(\n\tnode: any,\n\topt: elements.Option = {},\n): any[] {\n\tif (Array.isArray(node)) {\n\t\tconst list: any[][] = [];\n\t\tfor (let n of node) {\n\t\t\tlist.push(elements(n, opt));\n\t\t}\n\t\treturn ([] as any[]).concat(...list);\n\t}\n\tif (!isElement(node)) { return [node]; }\n\tlet { tag } = node;\n\tif (!tag) { return [node]; }\n\n\tif (tag === Template) {\n\t\treturn elements(node.children, opt);\n\t}\n\tif (!isSimpleComponent(tag)) { return [node]; }\n\tconst { simple } = opt;\n\tif (Array.isArray(simple)) {\n\t\tif (simple.includes(tag)) { return [node]; }\n\t} else if (typeof simple === 'function') {\n\t\tif (simple(tag)) { return [node]; }\n\t} else if (simple) {\n\t\treturn [node];\n\t}\n\treturn elements(node.children, opt);\n}\ndeclare namespace elements {\n\texport interface Option {\n\t\tsimple?:\n\t\t| boolean\n\t\t| SimpleComponent<any, any>[]\n\t\t| ((c: SimpleComponent<any, any>) => boolean);\n\t}\n}\nexport default elements;\n","import { Element } from '../types';\nimport { isElement } from '../auxiliary';\n\nexport default function isFragmentElement(v: any): v is Element<'template'> {\n\tif (!isElement(v)) { return false; }\n\tconst { tag } = v;\n\tif (typeof tag !== 'string') { return false; }\n\treturn tag.toLowerCase() === 'template';\n}\n","import { isSimpleComponent } from '../is';\nimport { isElement } from '../auxiliary';\n\nexport default function isSimpleElement(v: any): boolean {\n\treturn isElement(v) && isSimpleComponent(v.tag);\n}\n","import { ComponentEntity, RenderComponent, StandardComponent } from '../types';\nimport { withParent } from '../auxiliary';\nimport { createWith } from '../extends';\n\nconst withAncestor: {\n\t<C extends StandardComponent<any, any, any> | RenderComponent<any, any, any>>(\n\t\tcomponent: C,\n\t\tdepth?: number,\n\t): ComponentEntity<C, any> | undefined;\n} = createWith({\n\tname: 'withAncestor',\n\tcreate: () => withParent(),\n\texec(entity, _, component, depth = 0) {\n\t\tfor (let d = depth + 1; entity && d > 0; d--) {\n\t\t\tif (entity.component === component) {\n\t\t\t\treturn entity;\n\t\t\t}\n\t\t\tentity = entity.parent;\n\t\t}\n\t},\n});\nexport default withAncestor;\n","import { install as NeepInstall } from '@neep/core';\n\nexport {\n\tisValue,\n\tcreateContainerComponent,\n\tcreateElement,\n} from '@neep/core';\n\nexport default function installNeep(\n\trenderer: import('@neep/core').IRenderer,\n): void {\n\tNeepInstall({renderer});\n}\n","import { isValue } from '../../install/neep';\n\nexport type Id = string;\n\nfunction getId(v: any): Id | undefined {\n\tif (typeof v === 'string') { return v; }\n\tif (typeof v === 'number') { return String(v); }\n\treturn undefined;\n}\n\nconst PropsMap = new WeakMap<Element, Id | undefined>();\nexport default function updateId(\n\tprops: {[k: string]: any},\n\tel: Element,\n): void {\n\tconst old = PropsMap.get(el);\n\tconst id = getId(isValue(props.id) ? props.id() : props.id);\n\tPropsMap.set(el, id);\n\tif (id !== old) {\n\t\tif (typeof id === 'string') {\n\t\t\tel.id = id;\n\t\t} else {\n\t\t\tel.removeAttribute('id');\n\t\t}\n\t}\n}\n","import Neep from '@neep/core';\nimport { isValue } from '../../install/neep';\n\nexport type RecursiveItem<T> = T | RecursiveItem<T>[] | Neep.Value<T>;\n\nexport function *recursive2iterable<T>(\n\tlist: RecursiveItem<T>,\n): Iterable<T> {\n\tif (isValue(list)) {\n\t\tyield *recursive2iterable(list());\n\t\treturn;\n\n\t}\n\tif (!Array.isArray(list)) {\n\t\tyield list;\n\t\treturn;\n\t}\n\tfor (const it of list) {\n\t\tyield *recursive2iterable(it);\n\t}\n}\n\nexport type Class = Set<string>;\nfunction getClass(\n\tlist: RecursiveItem<(string | {[k: string]: any})>,\n): Class | undefined {\n\tconst set = new Set<string>();\n\tfor (const v of recursive2iterable(list)) {\n\t\tif (!v) { continue; }\n\t\tif (typeof v === 'string') {\n\t\t\tfor (let k of v.split(' ').filter(Boolean)) {\n\t\t\t\tset.add(k);\n\t\t\t}\n\t\t} else if (typeof v === 'object') {\n\t\t\tfor (const k in v) {\n\t\t\t\tlet add = v[k];\n\t\t\t\tif (isValue(add)) {\n\t\t\t\t\tadd = add.value;\n\t\t\t\t}\n\t\t\t\tfor (let it of k.split(' ').filter(Boolean)) {\n\t\t\t\t\tset[add ? 'add' : 'delete'](it);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif (!set.size) { return undefined; }\n\treturn set;\n}\nfunction update(\n\tel: Element,\n\tclasses?: Class,\n\toClasses?: Class,\n): void {\n\tif (classes && oClasses) {\n\t\tconst list = el.getAttribute('class') || '';\n\t\tconst classList = new Set(list.split(' ').filter(Boolean));\n\t\toClasses.forEach(c => classList.delete(c));\n\t\tclasses.forEach(c => classList.add(c));\n\t\tel.setAttribute('class', [...classList].join(' '));\n\t} else if (classes) {\n\t\tel.setAttribute('class', [...classes].join(' '));\n\t} else if (oClasses) {\n\t\tel.removeAttribute('class');\n\t}\n}\n\nconst PropsMap = new WeakMap<Element, Class | undefined>();\nexport default function updateClass(\n\tprops: {[k: string]: any},\n\tel: Element,\n): void {\n\tconst old = PropsMap.get(el);\n\tconst classes = getClass(isValue(props.class) ? props.class() : props.class);\n\tupdate(el, classes, old);\n\tPropsMap.set(el, classes);\n}\n","import { isValue } from '../../install/neep';\n\nexport type Style = string | Record<string, [string, 'important' | undefined]>;\n\nconst unit: Record<string, string> = {\n\t'width': 'px',\n\t'height': 'px',\n\t'top': 'px',\n\t'right': 'px',\n\t'bottom': 'px',\n\t'left': 'px',\n\t'border': 'px',\n\t'border-top': 'px',\n\t'border-right': 'px',\n\t'border-left': 'px',\n\t'border-bottom': 'px',\n\t'border-width': 'px',\n\t'border-top-width': 'px',\n\t'border-right-width': 'px',\n\t'border-left-width': 'px',\n\t'border-bottom-width': 'px',\n\t'border-radius': 'px',\n\t'border-top-left-radius': 'px',\n\t'border-top-right-radius': 'px',\n\t'border-bottom-left-radius': 'px',\n\t'border-bottom-right-radius': 'px',\n\t'padding': 'px',\n\t'padding-top': 'px',\n\t'padding-right': 'px',\n\t'padding-left': 'px',\n\t'padding-bottom': 'px',\n\t'margin': 'px',\n\t'margin-top': 'px',\n\t'margin-right': 'px',\n\t'margin-left': 'px',\n\t'margin-bottom': 'px',\n};\nfunction getStyle(\n\tstyle: any,\n): Style | undefined {\n\tif (isValue(style)) { style = style(); }\n\tif (typeof style === 'string') { return style; }\n\tif (!style) { return undefined; }\n\tif (typeof style !== 'object') { return undefined; }\n\tconst css: Record<string, [string, 'important' | undefined]> =\n\t\tObject.create(null);\n\tfor (let k in style) {\n\t\tlet value = style[k];\n\t\tif (isValue(value)) { value = value(); }\n\t\tconst key = k.substr(0, 2) === '--' ? k\n\t\t\t: k.replace(/[A-Z]/g, '-$1')\n\t\t\t\t.replace(/-+/g, '-')\n\t\t\t\t.toLowerCase();\n\t\tif (typeof value === 'number') {\n\t\t\tconst str = value && k in unit\n\t\t\t\t? `${ value }${ unit[k] }`\n\t\t\t\t: `${ value }`;\n\t\t\tcss[key] = [str, undefined];\n\t\t} else if (value && typeof value === 'string') {\n\t\t\tconst v = value.replace(/!important\\s*$/, '');\n\t\t\tcss[key] = [v, v === value ? undefined : 'important'];\n\t\t}\n\t}\n\treturn css;\n}\n\nfunction update(\n\tcss: CSSStyleDeclaration,\n\tstyle?: Style,\n\toStyle?: Style,\n): void {\n\tif (!style) {\n\t\tif (!oStyle) { return; }\n\t\tif (typeof oStyle === 'string') {\n\t\t\tcss.cssText = '';\n\t\t\treturn;\n\t\t}\n\t\tfor (const k of Object.keys(oStyle)) {\n\t\t\tcss.removeProperty(k);\n\t\t}\n\t\treturn;\n\t}\n\n\tif (typeof style === 'string') {\n\t\tif (style !== typeof oStyle) {\n\t\t\tcss.cssText = style;\n\t\t}\n\t\treturn;\n\t}\n\tif (!oStyle || typeof oStyle === 'string') {\n\t\tif (typeof oStyle === 'string') {\n\t\t\tcss.cssText = '';\n\t\t}\n\t\tfor (const k of Object.keys(style)) {\n\t\t\tcss.setProperty(k, ...style[k]);\n\t\t}\n\t\treturn;\n\t}\n\n\tfor (const k of Object.keys(style)) {\n\t\tconst v = style[k];\n\t\tif (\n\t\t\t!oStyle[k]\n\t\t\t|| oStyle[k][0] !== v[0]\n\t\t\t|| oStyle[k][1] !== v[1]\n\t\t) {\n\t\t\tcss.setProperty(k, ...v);\n\t\t}\n\t}\n\tfor (const k of Object.keys(oStyle)) {\n\t\tif (!style[k]) {\n\t\t\tcss.removeProperty(k);\n\t\t}\n\t}\n}\nconst PropsMap = new WeakMap<Element, Style | undefined>();\nexport default function updateStyle(\n\tprops: {[k: string]: any},\n\tel: Element,\n\tcss: CSSStyleDeclaration,\n\thasStyle?: boolean,\n): Style | undefined {\n\tif (!hasStyle) { return undefined; }\n\tconst old = PropsMap.get(el);\n\n\tconst style = getStyle(\n\t\tisValue(props.style) ? props.style() : props.style,\n\t);\n\tupdate(css, style, old);\n\tPropsMap.set(el, style);\n\treturn style;\n}\n","/* eslint-disable no-fallthrough */\nimport { isValue } from '../../install/neep';\n\nexport type Attrs = Record<string, string | null>;\n\nexport function setAttrs(\n\tel: Element,\n\tattrs: Record<string, string | null>,\n): void {\n\tif (el instanceof HTMLInputElement && 'checked' in attrs) {\n\t\tswitch (el.type.toLowerCase()) {\n\t\t\tcase 'checkbox':\n\t\t\tcase 'radio':\n\t\t\t\tif ((attrs.checked !== null) !== el.checked) {\n\t\t\t\t\tel.checked = attrs.checked !== null;\n\t\t\t\t}\n\t\t}\n\t}\n\tif ((\n\t\tel instanceof HTMLSelectElement\n\t\t|| el instanceof HTMLInputElement\n\t\t|| el instanceof HTMLTextAreaElement\n\t) && 'value' in attrs) {\n\t\tconst value = attrs.value || '';\n\t\tif (el.value !== value) {\n\t\t\tel.value = value;\n\t\t}\n\t}\n\tif ((el instanceof HTMLDetailsElement) && 'open' in attrs) {\n\t\tconst value = attrs.open !== null;\n\t\tif (el.open !== value) {\n\t\t\tel.open = value;\n\t\t}\n\t}\n\tif (el instanceof HTMLMediaElement) {\n\t\tif ('muted' in attrs) {\n\t\t\tconst value = attrs.muted !== null;\n\t\t\tif (el.muted !== value) {\n\t\t\t\tel.muted = value;\n\t\t\t}\n\t\t}\n\t\tif ('paused' in attrs) {\n\t\t\tconst value = attrs.paused !== null;\n\t\t\tif (el.paused !== value) {\n\t\t\t\tif (value) {\n\t\t\t\t\tel.pause();\n\t\t\t\t} else {\n\t\t\t\t\tel.play();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif ('currentTime' in attrs) {\n\t\t\tconst value = attrs.currentTime;\n\t\t\tif (value && /^\\d+(\\.\\d+)?$/.test(value)) {\n\t\t\t\tconst num = Number(value);\n\t\t\t\tif (el.currentTime !== num) {\n\t\t\t\t\tel.currentTime = num;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif ('playbackRate' in attrs) {\n\t\t\tconst value = attrs.playbackRate;\n\t\t\tif (value && /^\\d+(\\.\\d+)?$/.test(value)) {\n\t\t\t\tconst num = Number(value);\n\t\t\t\tif (el.playbackRate !== num) {\n\t\t\t\t\tel.playbackRate = num;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif ('volume' in attrs) {\n\t\t\tconst value = attrs.volume;\n\t\t\tif (value && /^\\d+(\\.\\d+)?$/.test(value)) {\n\t\t\t\tconst num = Number(value);\n\t\t\t\tif (el.volume !== num) {\n\t\t\t\t\tel.volume = num;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction stringify(\n\tdata: any,\n\tisOn = false,\n): string | null | undefined {\n\tif (data === undefined || data === null) { return data; }\n\tif (isOn && typeof data === 'function') { return undefined; }\n\tif (typeof data === 'boolean') { return data ? '' : null; }\n\tif (typeof data !== 'object') { return String(data); }\n\tif (data instanceof Date) {\n\t\treturn data.toISOString();\n\t}\n\tif (data instanceof RegExp) {\n\t\treturn data.toString();\n\t}\n\treturn JSON.stringify(data);\n}\nfunction getAttrs(\n\tprops: {[k: string]: any},\n\thasStyle: boolean,\n): Attrs {\n\tconst attrs: Attrs = Object.create(null);\n\tfor (const k in props) {\n\t\tif (/^(n|on|bind|slot)[:-]/.test(k)) { continue; }\n\t\tif (!/^[a-zA-Z:_][a-zA-Z0-9:_-]*$/.test(k)) { continue; }\n\t\tconst name = k\n\t\t\t.toLowerCase();\n\t\tswitch (name) {\n\t\t\tcase 'style':\n\t\t\t\tif (!hasStyle) { break; }\n\t\t\tcase 'ref':\n\t\t\tcase 'is':\n\t\t\tcase 'id':\n\t\t\tcase 'class':\n\t\t\t\tcontinue;\n\t\t}\n\t\tlet data = props[k];\n\t\tif (isValue(data)) { data = data(); }\n\t\tconst value = stringify(data, name.substr(0, 2) === 'on');\n\t\tif (value !== undefined) { attrs[name] = value; }\n\t}\n\treturn attrs;\n}\nfunction update(\n\tel: Element,\n\tattrs: Attrs,\n\told: Attrs,\n): void {\n\tfor (const k of Object.keys(attrs)) {\n\t\tconst v = attrs[k];\n\t\tif (!(k in old) || old[k] !== v) {\n\t\t\tif (v === null) {\n\t\t\t\tel.removeAttribute(k);\n\t\t\t} else {\n\t\t\t\tel.setAttribute(k, v);\n\t\t\t}\n\t\t}\n\t}\n\tfor (const k of Object.keys(old)) {\n\t\tif (!(k in attrs)) {\n\t\t\tel.removeAttribute(k);\n\t\t}\n\t}\n}\n\nconst PropsMap = new WeakMap<Element, Attrs>();\nexport default function updateAttrs(\n\tprops: {[k: string]: any},\n\tel: Element,\n\thasStyle: boolean,\n): void {\n\tconst old = PropsMap.get(el) || {};\n\tconst attrs = getAttrs(props, hasStyle);\n\tupdate(el, attrs, old);\n\tsetAttrs(el, attrs);\n\tPropsMap.set(el, attrs);\n}\n","import Neep from '@neep/core';\nimport { isValue } from '../../install/neep';\n\n\nfunction *getElementModel(el: Element): Iterable<[string, string, (e: Event) => any]> {\n\tif (el instanceof HTMLInputElement) {\n\t\tswitch (el.type.toLowerCase()) {\n\t\t\tcase 'checkbox':\n\t\t\t\tyield [\n\t\t\t\t\t'indeterminate', 'change',\n\t\t\t\t\te => (e.currentTarget as HTMLInputElement).indeterminate,\n\t\t\t\t];\n\t\t\t\treturn yield [\n\t\t\t\t\t'checked', 'change',\n\t\t\t\t\te => (e.currentTarget as HTMLInputElement).checked,\n\t\t\t\t];\n\t\t\tcase 'radio':\n\t\t\t\treturn yield [\n\t\t\t\t\t'checked', 'change',\n\t\t\t\t\te => (e.currentTarget as HTMLInputElement).checked,\n\t\t\t\t];\n\t\t}\n\t\treturn yield [\n\t\t\t'value', 'input',\n\t\t\te => (e.currentTarget as HTMLInputElement).value,\n\t\t];\n\t}\n\tif (el instanceof HTMLTextAreaElement) {\n\t\treturn yield [\n\t\t\t'value', 'input',\n\t\t\te => (e.currentTarget as HTMLTextAreaElement).value,\n\t\t];\n\t}\n\tif (el instanceof HTMLSelectElement) {\n\t\treturn yield [\n\t\t\t'value', 'change',\n\t\t\te => (e.currentTarget as HTMLSelectElement).value,\n\t\t];\n\t}\n\tif (el instanceof HTMLDetailsElement) {\n\t\treturn yield [\n\t\t\t'open', 'toggle',\n\t\t\te => (e.currentTarget as HTMLDetailsElement).open,\n\t\t];\n\t}\n\tif (el instanceof HTMLMediaElement) {\n\t\tyield [\n\t\t\t'currentTime', 'timeupdate',\n\t\t\te => (e.currentTarget as HTMLMediaElement).currentTime,\n\t\t];\n\t\tyield [\n\t\t\t'playbackRate', 'ratechange',\n\t\t\te => (e.currentTarget as HTMLMediaElement).playbackRate,\n\t\t];\n\t\tyield [\n\t\t\t'volume', 'volumechange',\n\t\t\te => (e.currentTarget as HTMLMediaElement).volume,\n\t\t];\n\t\tyield [\n\t\t\t'muted', 'volumechange',\n\t\t\te => (e.currentTarget as HTMLMediaElement).muted,\n\t\t];\n\t\tyield [\n\t\t\t'paused', 'playing',\n\t\t\te => (e.currentTarget as HTMLMediaElement).paused,\n\t\t];\n\t\treturn yield [\n\t\t\t'paused', 'pause',\n\t\t\te => (e.currentTarget as HTMLMediaElement).paused,\n\t\t];\n\t}\n\n}\n\ntype ValueEventBindItem = [Neep.Value<any>, () => void];\ntype ValueEventBind = Record<string, ValueEventBindItem>;\nconst ValueEventMap = new WeakMap<Element, ValueEventBind>();\n\nfunction getValueEventBind(el: Element): ValueEventBind {\n\tlet list = ValueEventMap.get(el);\n\tif (list) { return list; }\n\tlist = Object.create(null) as ValueEventBind;\n\tValueEventMap.set(el, list);\n\treturn list;\n}\n\n\nconst bindMap = new WeakMap<Element, Record<string, () => void>>();\nfunction getEventBind(el: Element): Record<string, () => void> {\n\tlet list = bindMap.get(el);\n\tif (list) { return list; }\n\tlist = Object.create(null) as Record<string, () => void>;\n\tbindMap.set(el, list);\n\treturn list;\n}\n\nexport default function updateEvent(\n\tprops: {[k: string]: any},\n\tel: Element,\n\temit: Neep.Emit<Record<string, any>>,\n): void {\n\tconst valueEventMap = getValueEventBind(el);\n\tfor (const [prop, name, t] of getElementModel(el)) {\n\t\tconst value = props[prop];\n\t\tconst item = valueEventMap[prop];\n\t\tif (item && item[0] === value) { continue; }\n\t\tif (item) { item[1](); }\n\t\tif (!isValue(value)) { continue; }\n\t\tconst f = (e: Event): void => { value(t(e)); };\n\t\tel.addEventListener(name, f);\n\t\tvalueEventMap[name] = [value, () => el.removeEventListener(name, f)];\n\t}\n\n\tconst names = new Set(emit.names.map(String));\n\tconst eventBind = getEventBind(el);\n\tfor (const k of Object.keys(eventBind)) {\n\t\tif (names.has(k)) { continue; }\n\t\teventBind[k]();\n\t\tdelete eventBind[k];\n\t}\n\tfor (const k of names) {\n\t\tif (k in eventBind) { continue; }\n\t\tconst f = (p: any): boolean => emit(k, p);\n\t\tel.addEventListener(k, f);\n\t\teventBind[k] = () => {\n\t\t\tel.removeEventListener(k, f);\n\t\t};\n\t}\n}\n","import Neep from '@neep/core';\nimport updateId from './id';\nimport updateClass from './class';\nimport updateStyle from './style';\nimport updateAttrs from './attr';\nimport updateEvent from './event';\n\nexport default function updateProps(\n\trenderer: Neep.IRenderer,\n\tel: Element,\n\tprops: {[k: string]: any},\n\temit: Neep.Emit<Record<string, any>>,\n): Element {\n\tconst css = (el as any).style;\n\tconst hasStyle = css instanceof CSSStyleDeclaration;\n\tupdateId(props, el);\n\tupdateClass(props, el);\n\tupdateAttrs(props, el, hasStyle);\n\tupdateStyle(props, el, css, hasStyle);\n\tupdateEvent(props, el, emit);\n\treturn el;\n}\n","export default function nextFrame(f: () => void): void {\n\twindow.requestAnimationFrame(f);\n}\n","import Neep from '@neep/core';\nimport { isValue } from '../../install/neep';\n\nexport default function getTarget(\n\trenderer: Neep.IRenderer,\n\tcontainer: Element,\n\ttarget: any,\n\tparent?: Neep.IRenderer,\n): Neep.UpdateContainerResult {\n\tif (isValue(target)){ target = target.value; }\n\tif (target === null) {\n\t\treturn {\n\t\t\ttarget: container as any,\n\t\t\tinsert: null,\n\t\t\tnext: null,\n\t\t};\n\t }\n\tif (typeof target === 'string') {\n\t\ttarget = document.querySelector(target);\n\t}\n\tif (target instanceof Element) {\n\t\treturn {\n\t\t\ttarget,\n\t\t\tinsert: null,\n\t\t\tnext: null,\n\t\t} as any;\n\t}\n\treturn {\n\t\ttarget: null,\n\t\tinsert: null,\n\t\tnext: null,\n\t};\n\n}\n","import Neep from '@neep/core';\nimport getTarget from './getTarget';\nimport updateProps from '../updateProps';\nimport createElement from '../createElement';\n\nexport default function mountContainer(\n\trenderer: Neep.IRenderer,\n\telement: Neep.Node,\n\t{target: targetProps, ...props}: Record<string, any>,\n\temit: Neep.Emit<Record<string, any>>,\n\tparent?: Neep.IRenderer,\n): Neep.MountContainerResult {\n\tconst container = createElement('div') as any;\n\tupdateProps(renderer, container, element?.props || props, emit);\n\treturn {\n\t\t...getTarget(renderer, container, targetProps, parent),\n\t\tcontainer,\n\t\texposed: null,\n\t};\n}\n","import Neep from '@neep/core';\n\nexport default function unmountContainer(\n\trenderer: Neep.IRenderer,\n\tcontainer: Element,\n\tnode: Neep.NativeNode | undefined | null,\n): void {\n\tif (node === null) {\n\t\t(container as any as Element).remove();\n\t}\n}\n","import Neep from '@neep/core';\nimport update from '../updateProps';\nimport getTarget from './getTarget';\n\nexport default function updateContainer(\n\trenderer: Neep.IRenderer,\n\tcontainer: Element,\n\telement: Neep.Node,\n\t{target, ...props}: Record<string, any>,\n\temit: Neep.Emit<Record<string, any>>,\n\tparent?: Neep.IRenderer,\n): Neep.UpdateContainerResult {\n\tupdate(renderer, container, element?.props || props, emit);\n\treturn getTarget(renderer, container, target, parent);\n}\n","import Neep from '@neep/core';\n\nexport default function removeNode(\n\trenderer: Neep.IRenderer,\n\tnode: Node,\n): void {\n\tconst p = renderer.getParent(node as any) as any;\n\tif (!p) { return; }\n\tp.removeChild(node);\n}\n","import Neep from '@neep/core';\n\nexport default function getContainer(\n\trenderer: Neep.IRenderer,\n\tcontainer: Element,\n\ttarget: any,\n\tnext: any,\n): [Element | null, Element | null] {\n\tif (typeof target === 'string') {\n\t\ttarget = document.querySelector(target);\n\t}\n\tif (target === null) { return [null, null]; }\n\tif (!(target instanceof Element)) {\n\t\ttarget = document.body;\n\t}\n\tif (typeof next === 'string') {\n\t\tnext = document.querySelector(next);\n\t}\n\tif (!(next instanceof Element) || next.parentElement !== target) {\n\t\tnext = null;\n\t}\n\treturn [target, next];\n}\n","import Neep from '@neep/core';\nimport createComponent from './createComponent';\nimport createElement from './createElement';\nimport createPlaceholder from './createPlaceholder';\nimport createText from './createText';\nimport getParent from './getParent';\nimport insertNode from './insertNode';\nimport updateProps from './updateProps';\nimport nextFrame from './nextFrame';\nimport mountContainer from './container/mountContainer';\nimport unmountContainer from './container/unmountContainer';\nimport updateContainer from './container/updateContainer';\nimport removeNode from './removeNode';\nimport getContainer from './container/getContainer';\n\nconst renderer: Neep.IRenderer = {\n\ttype: 'html',\n\tnextFrame,\n\tisNode(v): v is Neep.NativeNode {\n\t\treturn v instanceof Node;\n\t},\n\tgetContainer(container, target, next) {\n\t\treturn getContainer(this, container as any, target, next) as any;\n\t},\n\tmountContainer(data, props, emit, parent) {\n\t\treturn mountContainer(this, data, props, emit, parent) as any;\n\t},\n\tupdateContainer(container, target, insert, next, data, props, emit, parent) {\n\t\treturn updateContainer(this, container as any, data, props, emit, parent) as any;\n\t},\n\trecoveryContainer() {},\n\tunmountContainer(container, data, props, parent) {\n\t\treturn unmountContainer(this, container as any, data);\n\t},\n\tgetMountOptions(){},\n\n\tcreateElement(data) {\n\t\tif (!data || typeof data !== 'string') { return null;  }\n\t\treturn createElement(data) as any;\n\t},\n\tcreateText(text: string): Neep.NativeTextNode {\n\t\treturn createText(text) as any;\n\t},\n\tcreatePlaceholder(): Neep.NativePlaceholderNode {\n\t\treturn createPlaceholder() as any;\n\t},\n\tcreateComponent(): [Neep.NativeComponentNode, Neep.NativeShadowNode] {\n\t\treturn createComponent(this) as any;\n\t},\n\n\tgetParent(node: Neep.NativeNode): Neep.NativeContainerNode | null {\n\t\treturn getParent(node as any) as Neep.NativeContainerNode | null;\n\t},\n\tnextNode(node: Neep.NativeNode): Neep.NativeNode | null {\n\t\treturn (node as any).nextSibling as Neep.NativeContainerNode | null;\n\t},\n\tupdateProps(node, data, props, emit) {\n\t\tupdateProps(this, node as any, props, emit);\n\t},\n\tinsertNode(\n\t\tparent: Neep.NativeContainerNode,\n\t\tnode: Neep.NativeNode,\n\t\tnext: Neep.NativeNode | null = null,\n\t): void {\n\t\treturn insertNode(parent as any, node as any, next as any);\n\t},\n\tremoveNode(node: Neep.NativeNode): void {\n\t\treturn removeNode(this, node as any);\n\t},\n};\n\nexport default renderer;\n","import Neep from '@neep/core';\nimport {\n\tcreateContainerComponent,\n\tcreateElement,\n} from '../install/neep';\nimport renderer from '../renderer';\n\nexport declare namespace Container {\n\texport interface Props {\n\t\ttarget?: string | HTMLElement,\n\t}\n}\nexport let Container: Neep.ContainerComponent<Container.Props>;\n\nexport default function initContainer(): void {\n\tContainer = createContainerComponent(\n\t\tcreateElement(''),\n\t\t{ renderer, name: '[HTML]' },\n\t);\n}\n","import initContainer from '../init/Container';\n\nexport default function init(): void {\n\tinitContainer();\n}\n","import renderer from '../renderer';\nimport installNeep from './neep';\nimport init from './init';\n\nexport default function install(\n\tNeep: typeof import('@neep/core').default,\n): void {\n}\ninstallNeep(renderer);\ninit();\n","import Neep from '@neep/core';\n\nexport default Neep.createComponent((\n\tprops: {  a?: any, onset?: () => void },\n) => {\n\tconst a = Neep.value(1);\n\tconst b = Neep.value(2);\n\t// eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n\tconst c1 = Neep.computed(() => a + b);\n\tconst c2 = Neep.computed(() => a.value + b.value);\n\tconst c3 = Neep.computed(() => Number(a) + Number(b));\n\tconst c4 = Neep.computed(() => Number(a.value) + Number(b.value));\n\treturn Neep.createRenderElement(() => <Neep.Template>\n\t\t计算\n\t\t<div><input value={a} />+<input value={b} />={c1}</div>\n\t\t<div><input value={a} />+<input value={b} />={c2}</div>\n\t\t<div><input value={a} />+<input value={b} />={c3}</div>\n\t\t<div><input value={a} />+<input value={b} />={c4}</div>\n\t</Neep.Template>);\n\n}, {name: 'Compute'});\n","/* eslint-disable @typescript-eslint/restrict-plus-operands */\nimport Neep from '@neep/core';\n\nexport default Neep.createComponent(() => {\n\tconst a = Neep.useValue();\n\tconst b = Neep.useValue();\n\tconst c1 = Neep.useValue(() => Neep.computed(() => a + b));\n\tconst c2 = Neep.useValue(() => Neep.computed(() => a.value + b.value));\n\tconst c3 = Neep.useValue(() => Neep.computed(() => Number(a) + Number(b)));\n\tconst c4 = Neep.useValue(() => Neep.computed(() => Number(a.value) + Number(b.value)));\n\treturn <Neep.Template>\n\t\t计算\n\t\t<div><input value={a} />+<input value={b} />={c1}</div>\n\t\t<div><input value={a} />+<input value={b} />={c2}</div>\n\t\t<div><input value={a} />+<input value={b} />={c3}</div>\n\t\t<div><input value={a} />+<input value={b} />={c4}</div>\n\t</Neep.Template>;\n}, {name: 'Compute2'});\n","import Neep from '@neep/core';\n\nexport default Neep.createComponent((\n\tprops: {  a?: any, onset?: () => void },\n) => {\n\tconst inputValue = Neep.value('');\n\tconst checked = Neep.value(false);\n\tconst ref = (x: any): void => console.log('Ref', 'B', x);\n\treturn Neep.createRenderElement(() => <Neep.Template>\n\t\t同步的输入框及显示\n\t\t<div><input ref={ref} type=\"checkbox\" checked={checked} /><input value={inputValue} style=\"width: 100%\" /></div>\n\t\t<div><input type=\"checkbox\" checked={checked} /><input value={inputValue} style={{width: '100%'}} /></div>\n\t\t<div><input type=\"checkbox\" checked={checked} /><input value={inputValue} style={{width: '100%'}} /></div>\n\t\t<div ref={ref}>[{checked}]{inputValue}</div>\n\t</Neep.Template>);\n}, { name: 'Sync'});\n","import Neep from '@neep/core';\n\nexport default Neep.createComponent(() => {\n\tconst inputValue = Neep.useValue();\n\tconst checked = Neep.useValue();\n\n\treturn <Neep.Template>\n\t\t同步的输入框及显示\n\t\t<div><input type=\"checkbox\" checked={checked} /><input value={inputValue} style=\"width: 100%\" /></div>\n\t\t<div><input type=\"checkbox\" checked={checked} /><input value={inputValue} style={{width: '100%'}} /></div>\n\t\t<div><input type=\"checkbox\" checked={checked} /><input value={inputValue} style={{width: '100%'}} /></div>\n\t\t<div>[{checked}]{inputValue}</div>\n\t</Neep.Template>;\n}, { name: 'Sync2'});\n","import Neep from '@neep/core';\n\nexport const DeliverValue = Neep.createDeliverComponent(Neep.value(0));\nexport const DeliverNumber = Neep.createDeliverComponent(0);\n","import Neep from '@neep/core';\nimport Compute from './Compute';\nimport Compute2 from './Compute2';\nimport Sync from './Sync';\nimport Sync2 from './Sync2';\nimport { DeliverValue, DeliverNumber } from './delivers';\n\nexport default Neep.createComponent((\n\tprops: {  a?: any, onset?: () => void },\n\t{ slot, emit },\n) => {\n\tNeep.withHook('beforeCreate', () => console.log('Hook', 'B', 'beforeCreate'), true);\n\tNeep.withHook('created', () => console.log('Hook', 'B', 'created'), true);\n\tNeep.withHook('beforeMount', () => console.log('Hook', 'B', 'beforeMount'), true);\n\tNeep.withHook('mounted', () => console.log('Hook', 'B', 'mounted'), true);\n\tNeep.withHook('beforeUpdate', () => console.log('Hook', 'B', 'beforeUpdate'), true);\n\tNeep.withHook('updated', () => console.log('Hook', 'B', 'updated'), true);\n\tconst a = Neep.withDelivered(DeliverValue);\n\treturn <Neep.Template>\n\t\t<div>B: {a}|{Neep.withDelivered(DeliverNumber)}</div>\n\t\t{slot('name')}\n\t\t<br />\n\t\t{slot()}\n\t\t<button onclick={props.onset}>[onclick]+1</button>\n\t\t<button on-click={props.onset}>[on-click]+1</button>\n\t\t<button {...{'@click': props.onset}}>[@click]+1</button>\n\t\t<button {...{'on:click': props.onset}}>[on:click]+1</button>\n\t\t<button {...{'@click': () => emit('set')}}>[@click=emit]+1</button>\n\t\t<br />\n\t\t<Neep.Slot />\n\t\t<Neep.Slot />\n\t\t<br />\n\t\t<Neep.Slot name=\"666\">666</Neep.Slot>\n\t\t<br />\n\t\t<Neep.Slot name=\"name\">name</Neep.Slot>\n\t\t<hr />\n\t\t<Sync />\n\t\t<hr />\n\t\t<Sync2 />\n\t\t<hr />\n\t\t<Compute />\n\t\t<hr />\n\t\t<Compute2 />\n\t\t<hr />\n\t</Neep.Template>;\n}, { name: 'B'});\n","import Neep from '@neep/core';\nimport B from './components/B';\n\nNeep.register('tb', B);\n","import Neep from '@neep/core';\nimport { DeliverValue, DeliverNumber } from './delivers';\n\nexport default Neep.createShellComponent((\n\tprops: {  a?: any, onset?: () => void },\n\t{ childNodes },\n) => {\n\tNeep.withLabel('{E}', '#F00');\n\tconst a = Neep.withDelivered(DeliverValue);\n\tconst newA = Neep.computed(() => a.value + 1);\n\treturn <DeliverValue value={newA}>\n\t\t<DeliverNumber value={Neep.withDelivered(DeliverNumber) + 1}>\n\t\t\t<div>E: {a}|{Neep.withDelivered(DeliverNumber)}</div>\n\t\t\t<tb {...props} {...{'@set': props.onset}}>\n\t\t\t\t{ childNodes() }\n\t\t\t</tb>\n\t\t</DeliverNumber>\n\t</DeliverValue>;\n}, { name: 'E'});\n","import Neep from '@neep/core';\n\nimport E from './E';\n\nexport default Neep.createShellComponent((\n\tprops: {  a?: any, onset?: () => void },\n\t{ childNodes },\n) => {\n\tNeep.withLabel('{D}', '#F00');\n\treturn <E {...props}>\n\t\t{ childNodes() }\n\t</E>;\n}, {name: 'D'});\n","import Neep from '@neep/core';\n\nimport D from './D';\nimport { DeliverValue, DeliverNumber } from './delivers';\n\nexport default Neep.createShellComponent((\n\tprops: {  a?: any, onset?: () => void },\n\t{ childNodes },\n) => {\n\tNeep.withLabel('{C}', '#F00');\n\tconst a = Neep.withDelivered(DeliverValue);\n\tconst newA = Neep.computed(() => a.value + 1);\n\treturn <DeliverValue value={newA}>\n\t\t<DeliverNumber value={Neep.withDelivered(DeliverNumber) + 1}>\n\t\t\t<div>C: {a}|{Neep.withDelivered(DeliverNumber)}</div>\n\t\t\t<D {...props}>\n\t\t\t\t{ childNodes() }\n\t\t\t</D>\n\t\t</DeliverNumber>\n\t</DeliverValue>;\n}, {name: 'C'});\n","import Neep from '@neep/core';\n\nimport C from './C';\nimport { DeliverValue, DeliverNumber } from './delivers';\n\nfunction createItem(bg: string): HTMLDivElement {\n\tconst div = document.createElement('div');\n\tdiv.style.minHeight = '40px';\n\tdiv.style.background = bg;\n\tdocument.body.appendChild(div);\n\treturn div;\n}\nconst divs = [\n\tcreateItem('#F00'),\n\tcreateItem('#FF0'),\n\tcreateItem('#F0F'),\n\tcreateItem('#0F0'),\n\tcreateItem('#0FF'),\n\tcreateItem('#00F'),\n];\n\nexport default Neep.createComponent((\n\tprops: { name?: string },\n) => {\n\tconst divIndex = Neep.value(6);\n\tconst div = Neep.computed(() => divs[divIndex.value]);\n\n\tfunction moveDiv(): void {\n\t\tdivIndex.value = (divIndex.value + 1) % (divs.length + 1);\n\t}\n\n\tNeep.withLabel('{自定义标签文本}', '#F00');\n\tNeep.withHook('beforeCreate', () => console.log('Hook', 'A', 'beforeCreate'));\n\tNeep.withHook('created', () => console.log('Hook', 'A', 'created'));\n\tNeep.withHook('beforeMount', () => console.log('Hook', 'A', 'beforeMount'));\n\tNeep.withHook('mounted', () => console.log('Hook', 'A', 'mounted'));\n\tNeep.withHook('beforeUpdate', () => console.log('Hook', 'A', 'beforeUpdate'));\n\tNeep.withHook('updated', () => console.log('Hook', 'A', 'updated'));\n\tconst v = Neep.value(1);\n\tconst ref = (x: any): void => console.log('Ref', 'B', x);\n\treturn Neep.createRenderElement(() => <DeliverValue value={v}>\n\t\t<DeliverNumber value={v.value}>\n\t\t\t<Neep.Container target={div}>\n\t\t\t\t<button on-click={moveDiv}>移动</button>\n\t\t\t</Neep.Container>\n\t\t\t<tc a=\"1\" onset={() => v.value++ } ref={ref}>\n\t\t\t\t<b ref={ref}>你好</b>\n\t\t\t\t<i ref={ref}>{v}</i>\n\t\t\t\t<u ref={ref} slot=\"name\">{props.name}</u>\n\t\t\t</tc>\n\t\t</DeliverNumber>\n\t</DeliverValue>);\n}, {\n\tname: 'A',\n\tcomponents: {tc: C},\n});\n","import Neep from '@neep/core';\nimport A from './components/A';\n\nexport default Neep.createComponent(() => <A name=\"啊\" />, { name: 'App'});\n","import '@neep/renderer-html';\nimport Neep from '@neep/core';\nimport './register';\nimport App from './App';\nNeep.render(App).mount();\n"],"names":["xmlnsMap","svg","html","mathml","SVGTags","Set","MathMLTags","createElement","tagname","namespace","res","exec","tag","ns","has","toLowerCase","document","createElementNS","createComponent","renderer","node","attachShadow","mode","createPlaceholder","createComment","createText","text","createTextNode","getParent","parentNode","insertNode","parent","next","insertBefore","version","isProduction","process","devtools","renderHook","installDevtools","tools","NeepError","Error","constructor","message","assert","v","nextFrameApi","nextFrame","fn","renderers","Object","create","getRender","type","def","default","installRender","bind","printErrorLog","console","Boolean","printError","String","map","value","installMonitorable","api","install","apis","monitorable","destroyFns","nextId","isInit","hookList","root","runs","hookSafe","length","initHook","init","useData","state","list","undefined","restoreHookState","item","isEnd","createUse","name","destroy","id","p","shift","runList","push","runParent","ret","destroyUseData","data","setLabels","current","runCurrent","newContextData","entity","oldCurrent","hookState","created","runCurrentWithLabel","setLabel","oldSetLabel","checkCurrent","setHook","hook","contextData","hooks","safeify","set","add","delete","callHook","withWatch","cb","run","stop","isValue","watch","computed","s","withHook","initOnly","rendererSymbol","Symbol","for","nameSymbol","componentsSymbol","propsSymbol","componentValueSymbol","objectTypeSymbol","objectTypeSymbolElement","objectTypeSymbolDeliverComponent","objectTypeSymbolNativeComponent","objectTypeSymbolSimpleComponent","objectTypeSymbolShellComponent","objectTypeSymbolRenderComponent","objectTypeSymbolContainerComponent","objectTypeSymbolElementComponent","objectTypeSymbolRootEntity","deliverKeySymbol","deliverDefaultSymbol","isSimpleComponent","isShellComponent","isNativeComponent","isRenderComponent","isContainerComponent","isElementComponent","isDeliverComponent","withDelivered","deliver","isDeliver","delivered","withRefresh","f","refresh","withParent","withChildren","getChildren","withCallback","createElementBase","attrs","children","props","key","slot","ScopeSlot","Render","Slot","Container","Template","Fragment","createTemplateElement","isElement","equal","a","b","is","Array","isArray","i","execed","inserted","isDefault","aprops","bprops","aKeys","keys","bKeys","size","k","isRenderElement","withLabel","label","labels","filter","t","ids","Nodes","IdMap","WeakMap","createMountedNode","n","newNode","markChange","recoveryMountedNode","getNode","get","markRead","toElement","drawPlaceholder","createItem","mountOptions","source","proxy","mount","createList","it","createAll","unmount","tree","forEach","e","removeNode","getNodes","getFirstNode","drawReplace","newTree","oldTree","getLastNode","updateItem","index","findIndex","all","splice","updateList","newList","mountedMap","Map","src","old","last","nextNode","o","updateAll","Math","min","max","draw","completeList","setCompleteList","complete","BaseProxy","originalTag","parentProxy","defineProperty","update","_update","__executed_destroy","_destroy","destroyed","__mountOptions","result","c","requestDraw","newMountOptions","_mount","mounted","__cancelDrawMonitor","__executed_unmounted","_unmount","unmounted","redraw","_redraw","NodeProxy","container","componentRoot","markDraw","delayedRefresh","objectSet","wait","obj","clear","asyncRefresh","delayRefresh","async","createWith","withData","isSimple","isShell","destroyContextData","createBy","by","getSlots","slots","native","nativeList","Reflect","ownKeys","isNode","el","setSlot","enumerable","configurable","setSlots","oldChildren","renderSlot","argv","render","getSlot","createSlotApi","slotApi","createEmit","emitter","omitNames","emit","options","cancelable","target","defaultPrevented","eventInfo","prevented","preventDefault","prevent","events","event","omit","names","includes","EventEmitter","_names","eventSet","on","listener","removed","updateInProps","oldPropsEvents","__propsEvents","oldEventNames","entName","getEvents","olfFn","cl","eventMap","__eventMap","oldEventMapNames","getEventsMap","oldEmitEvents","__propsEmitEvents","eventsFn","getEmitFn","__propsEmitEvent","oldNames","substr","createSimpleEmit","getComponents","components","getNodeArray","register","component","findComponent","test","ltag","globalComponents","args","createSimpleSlots","normalizeAuxiliaryObject","slotMap","createSimpleContextData","simpleParent","execSimple","childNodes","nodes","getSlotRenderFn","renderFn","slotRenderFnList","newFn","call","simpleSlot","slotRenderFn","slotName","postpone","normalize","isNative","getText","Date","toISOString","RegExp","ValueProxy","content","__value","__render","monitor","changed","__nodes","convert","__needRefresh","__refreshing","needDraw","DeliverProxy","__valueObject","GroupProxy","updateData","oldKeys","dataset","RefProxy","exposed","__exposed","setExposed","ref","__ref","createEntity","oldRef","ElementProxy","__elementTagData","cfg","subMountOptions","getMountOptions","updateProps","_redrawChildren","createInfo","CustomComponentProxy","_this","parentComponentProxy","parentEntity","info","needRefresh","__delayedRefresh","_render","_nodes","_stopRender","ShellProxy","context","l","lastSlots","SlotProxy","h","disabledKey","propsObj","newKeys","propsDefined","nativeNodes","ComponentProxy","assign","createObject","_init","expose","stopRender","_initRender","initRender","renderNode","componentsList","RenderComponentProxy","createResponsiveRender","func","slotRenderFns","resultOnly","normalizeRefresh","StandardComponentProxy","_shadow","nativeTreeNountOptions","nativeTree","__nativeTreeNountOptions","recognizers","recognize","any","recognizer","addRecognizer","createProxy","ContainerProxy","componentTag","flat","Infinity","recursive2iterable","awaitDraw","rendererDraw","baseTick","middleTick","endTick","execTickList","execList","sort","execContainerList","drawAll","execRendererDrawList","rendererDrawList","requested","request","nextTick","level","addRendererDraw","setmountedRoot","__container","r","getContainer","__containerData","rootContainer","setChildren","opt","parentRenderer","targetNode","insert","mountContainer","subOpt","placeholder","__placeholder","placeholderNode","__placeholderNode","__insertNode","__nextNode","__targetNode","_redrawSelf","updateContainer","recoveryContainer","opts","unmountContainer","__awaitDraw","markDrawContainer","drawContainer","__containers","containers","createContainerEntity","createRender","params","refreshObj","setObjectType","setName","setValue","setComponents","createSelfComponent","createDeliverComponent","createRenderComponent","createContainerComponent","createElementComponent","createStandardComponent","createComponentFunc","renderComponent","StandardComponent","createNativeComponent","createSimpleComponent","createShellComponent","isProxy","attrProps","useValue","createEntitySetRef","refValue","_0","_1","createExposedSetRef","oldNode","replace","createEntityRefValue","_2","createExposedRefValue","isEntity","LOADING","FAILING","COMPLETE","lazy","Placeholder","reslut","isLoad","ComponentValue","load","error","com","loading","createRenderElement","elements","concat","simple","isFragmentElement","isSimpleElement","withAncestor","_","depth","d","installNeep","NeepInstall","getId","PropsMap","updateId","removeAttribute","getClass","split","classes","oClasses","getAttribute","classList","setAttribute","join","updateClass","class","unit","getStyle","style","css","str","oStyle","cssText","removeProperty","setProperty","updateStyle","hasStyle","setAttrs","HTMLInputElement","checked","HTMLSelectElement","HTMLTextAreaElement","HTMLDetailsElement","open","HTMLMediaElement","muted","paused","pause","play","currentTime","num","Number","playbackRate","volume","stringify","isOn","toString","JSON","getAttrs","updateAttrs","getElementModel","currentTarget","indeterminate","ValueEventMap","getValueEventBind","bindMap","getEventBind","updateEvent","valueEventMap","prop","addEventListener","removeEventListener","eventBind","CSSStyleDeclaration","window","requestAnimationFrame","getTarget","querySelector","Element","element","targetProps","remove","removeChild","body","parentElement","Node","nextSibling","initContainer","Neep","c1","c2","c3","c4","inputValue","x","log","width","DeliverValue","DeliverNumber","onset","B","newA","bg","div","minHeight","background","appendChild","divs","divIndex","moveDiv","tc","C","App"],"mappings":"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AA,GAAG,CAAHA,GAAAA,CAAAA,GAAAA,EAAAA,KAAAA;CACA,SAAA,KAAA;CACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CCvEc,SAASE,kBAAT,CACdC,GADc,EA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"}